<html>
<head>
    <title>ABM for COVID - Results</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <meta charset="UTF-8">
    <meta property="og:title" content="ABM for COVID"/>
    <meta property="og:type" content="Simulations"/>
    <meta property="og:url" content="https://abmforcovid.org"/>
    <meta property="og:image" content="https://abmforcovid.org/og.png"/>
    <meta property="og:site_name" content="ABM for COVID"/>
    <meta property="og:description"
          content="ABM for COVID uses agent based modeling to simulate COVID-19 spread. Run experiments to see the
      effects of different policies such as lockdown, social distancing, testing and many more with varying parameters. Policy makers can set initial parameters, apply combination of policies on the timeline and run a simulation experiment on a population of computer agents. As a result they can check rate of infection spread, rate and scale of recovery and other useful information.
It can be used to do qualitative analysis of multiple 'what-if' scenarios and compare results of strategies."/>

    <meta name="description" content="ABM for COVID uses agent based modeling to simulate covid-19 spread. Run experiments to see the
      effects of different policies such as lockdown, social distancing, testing and many more with varying parameters. Policy makers can set initial parameters, apply combination of policies on the timeline and run a simulation experiment on a population of computer agents. As a result they can check rate of infection spread, rate and scale of recovery and other useful information.
It can be used to do qualitative analysis of multiple 'what-if' scenarios and compare results of strategies.">
    <meta name="keywords" content="epidemic, coronavirus, SEIR model, Agent based model, covid19">
    <meta name="author" content="Shrisha Rao, Ashutosh Trivedi, Gunjan, Nanda Kishore, Prajwal DSouza">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-165881091-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-165881091-1');
    </script>


    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Calibri:400,700,400italic,700italic" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Nunito&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Raleway:100,200,300,400,500,600,700,800,900&display=swap"
          rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Roboto&display=swap" rel="stylesheet">

    <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"
          integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">

    <link href="https://cdn.iconmonstr.com/1.3.0/css/iconmonstr-iconic-font.min.css" rel="stylesheet"
          crossorigin="anonymous">

    <link rel="icon" href="../square.png">

    <style id='sliderstyles' type="text/css">

    </style>

    <style type="text/css">
        :root {
            --themeblue: hsla(196, 100%, 50%, 1);
            --themeviolet: hsla(280, 100%, 50%, 1);
            --themeorange: hsla(32, 100%, 50%, 1);
            --boundaryorange: hsla(32, 100%, 50%, 0.6);
            --themegrey: hsla(32, 0%, 70%, 0.6);

            --themeinfected: hsla(0, 59%, 50%, 1);
        }

        .inputButDiv:focus {
            outline: none !important;
            border: 0px solid black;
        }

    </style>

    <style id="sliderStyleH" type="text/css">
        a {
            cursor: pointer;
        }

        .standardSlider {
            -webkit-appearance: none;
            border-radius: 5px;
            outline: none;
            -webkit-transition: .2s;
            transition: opacity .2s;
        }

        .standardSlider::-webkit-slider-thumb {
            -webkit-appearance: none;
            /*appearance: none;*/
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: hsla(200, 100%, 50%, 1);
            cursor: pointer;
        }

        .standardSlider::-moz-slider-thumb {
            -webkit-appearance: none;
            /*appearance: none;*/
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: hsla(200, 100%, 50%, 1);
            cursor: pointer;
        }

        /*.timesliderClass {
					-webkit-appearance: none;
					border-radius: 5px;
					outline: none;
					opacity: 0.7;
					-webkit-transition: .2s;
					transition: opacity .2s;
					cursor: pointer;
				}*/
        /*.timesliderClass::-webkit-slider-thumb {
					-webkit-appearance: none;
					appearance: none;
					width: 22px;
					height: 22px;
					border-radius: 50%;
					background: hsla(200, 100%, 50%, 1);
					cursor: pointer;
				}

				.timesliderClass::-moz-slider-thumb {
					appearance: none;
					width: 22px;
					height: 22px;
					border-radius: 50%;
					background: hsla(200, 100%, 50%, 1);
					cursor: pointer;
				}*/

        body::-webkit-scrollbar {
            width: 5px;
        }

        body::-webkit-scrollbar-track {
            -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.5);
            border-radius: 30px;
        }

        body::-webkit-scrollbar-thumb {
            background-color: hsla(195, 100%, 50%, 1);
            border-radius: 50px;
            /*outline: 1px solid slategrey;*/
        }

        body::-moz-scrollbar {
            width: 5px;
        }

        body::-moz-scrollbar-track {
            -moz-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.5);
            border-radius: 30px;
        }

        body::-moz-scrollbar-thumb {
            background-color: hsla(195, 100%, 50%, 1);
            border-radius: 50px;
            /*outline: 1px solid slategrey;*/
        }

        #initParameterHolder::-webkit-scrollbar {
            width: 5px;
        }

        #initParameterHolder::-webkit-scrollbar-track {
            -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.5);
            border-radius: 30px;
        }

        #initParameterHolder::-webkit-scrollbar-thumb {
            background-color: hsla(196, 100%, 50%, 1);
            border-radius: 50px;
            /*outline: 1px solid slategrey;*/
        }

        #initParameterHolder::-moz-scrollbar {
            width: 5px;
        }

        #initParameterHolder::-moz-scrollbar-track {
            -moz-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.5);
            border-radius: 30px;
        }

        #initParameterHolder::-moz-scrollbar-thumb {
            background-color: hsla(196, 100%, 50%, 1);
            border-radius: 50px;
            /*outline: 1px solid slategrey;*/
        }

        #dynaPHold::-webkit-scrollbar {
            width: 5px;
        }

        #dynaPHold::-webkit-scrollbar-track {
            -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.5);
            border-radius: 30px;
        }

        #dynaPHold::-webkit-scrollbar-thumb {
            background-color: hsla(196, 100%, 50%, 1);
            border-radius: 50px;
            /*outline: 1px solid slategrey;*/
        }

        #dynaPHold::-moz-scrollbar {
            width: 5px;
        }

        #dynaPHold::-moz-scrollbar-track {
            -moz-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.5);
            border-radius: 30px;
        }

        #dynaPHold::-moz-scrollbar-thumb {
            background-color: hsla(196, 100%, 50%, 1);
            border-radius: 50px;
            /*outline: 1px solid slategrey;*/
        }

        #graphPHold::-webkit-scrollbar {
            width: 5px;
        }

        #graphPHold::-webkit-scrollbar-track {
            -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0);
            border-radius: 30px;
        }

        #graphPHold::-webkit-scrollbar-thumb {
            background-color: hsla(196, 100%, 50%, 0);
            border-radius: 50px;
            /*outline: 1px solid slategrey;*/
        }

        #graphPHold::-moz-scrollbar {
            width: 5px;
        }

        #graphPHold::-moz-scrollbar-track {
            -moz-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0);
            border-radius: 30px;
        }

        #graphPHold::-moz-scrollbar-thumb {
            background-color: hsla(196, 100%, 50%, 0);
            border-radius: 50px;
            /*outline: 1px solid slategrey;*/
        }

        #dynaParameterTimeGraphH::-webkit-scrollbar {
            width: 5px;
        }

        #dynaParameterTimeGraphH::-webkit-scrollbar-track {
            -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0);
            border-radius: 30px;
        }

        #dynaParameterTimeGraphH::-webkit-scrollbar-thumb {
            background-color: hsla(196, 100%, 50%, 0);
            border-radius: 50px;
            /*outline: 1px solid slategrey;*/
        }

        #dynaParameterTimeGraphH::-moz-scrollbar {
            width: 5px;
        }

        #dynaParameterTimeGraphH::-moz-scrollbar-track {
            -moz-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0);
            border-radius: 30px;
        }

        #dynaParameterTimeGraphH::-moz-scrollbar-thumb {
            background-color: hsla(196, 100%, 50%, 0);
            border-radius: 50px;
            /*outline: 1px solid slategrey;*/
        }

        #dynaFullGraphH::-webkit-scrollbar {
            width: 5px;
        }

        #dynaFullGraphH::-webkit-scrollbar-track {
            -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0);
            border-radius: 30px;
        }

        #dynaFullGraphH::-webkit-scrollbar-thumb {
            background-color: hsla(196, 100%, 50%, 0);
            border-radius: 50px;
            /*outline: 1px solid slategrey;*/
        }

        #dynaFullGraphH::-moz-scrollbar {
            width: 5px;
        }

        #dynaFullGraphH::-moz-scrollbar-track {
            -moz-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0);
            border-radius: 30px;
        }

        #dynaFullGraphH::-moz-scrollbar-thumb {
            background-color: hsla(196, 100%, 50%, 0);
            border-radius: 50px;
            /*outline: 1px solid slategrey;*/
        }

        .bars::-webkit-scrollbar {
            width: 5px;
        }

        .bars::-webkit-scrollbar-track {
            -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0);
            border-radius: 30px;
        }

        .bars::-webkit-scrollbar-thumb {
            background-color: hsla(196, 100%, 50%, 1);
            border-radius: 50px;
            /*outline: 1px solid slategrey;*/
        }

        .bars::-moz-scrollbar {
            width: 5px;
        }

        .bars::-moz-scrollbar-track {
            -moz-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0);
            border-radius: 30px;
        }

        .bars::-moz-scrollbar-thumb {
            background-color: hsla(196, 100%, 50%, 1);
            border-radius: 50px;
            /*outline: 1px solid slategrey;*/
        }

        #fileinputBack::focus {
            outline: none;
        }

        #savebutton::focus {
            outline: none;
        }

        #savebuttonH::focus {
            outline: none;
        }

        input:invalid {
            box-shadow: 0 0 0px hsla(0, 0%, 0%, 0);
        }

        [id^=imageHA] {
            width: 25%; 
            height: 90%; 
        }
        [id^=discHA]{
            width: 75%;
            height: 90%; 
        }
        @media screen and (max-width: 420px) {
            [id^=imageHA] {
               width:50%;
               height: 75%; 
            }
            [id^=discHA]{
                height:75%;
                width:50%;
            }
        }
    </style>

    <script>

        // (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        // (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        // m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        // })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        // ga('create', 'UA-103589215-2', 'auto');
        // ga('send', 'pageview');

    </script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>


    <script type="application/ld+json">
			{
			  "@type": "Simulation",
			  "image" : "https://abmforcovid.org/og.png",
			  "name": "ABM For COVID",
			  "author": "Shrisha Rao, Ashutosh Trivedi, Nanda Kishore, Prajwal DSouza",
			  "description": "abmforcovid uses agent based modeling to simulate covid-19 spread. It can run experiments to see the
      effects of different policies such as lockdown, social distancing, testing and many more with varying parameters. Policy makers can set initial parameters, apply combination of policies on the timeline and run a simulation experiment on a population of computer agents. As a result they can check rate of infection spread, rate and scale of recovery and other useful information.
It can be used to do qualitative analysis of multiple 'what-if' scenarios and compare results of strategies."
			  }
    </script>
</head>
<body style='margin:0px; display: block;'>
<div id="containAll"
     style='margin:0px;width:100%; height: 260%; font-size: 0; display: inline-block; position: relative; '>

    <div id="TopBar"
         style="width: 100%; height: 6%; overflow: hidden;position: relative; z-index: 1;display: inline-block;">
        <div id="TopBarGraphH"
             style="width: 100%; height: 100%; overflow: hidden;position: absolute; z-index: 1;display: inline-block;">
        </div>
        <div id="VS1"
             style="width: 2%; height: 100%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
        <div id="titleAndMenuH"
             style="width: 96%; height: 100%; overflow: hidden;position: relative; z-index: 1;display: inline-block; ">
            <div id="titleAndDescription"
                 style="width: 100%; height: 75%; overflow: hidden;position: relative; z-index: 1;display: flex; align-items: center;">
                <div id="titleH">
                    <font style="font-family: Raleway; font-size: 2.2vmax; font-weight: bold; "> ABM for
                        Covid</font><br/><font
                        style="font-family: Source Sans Pro; font-size: 0.7vmax; font-weight: bold; "> Agent Based
                    Modeling</font>
                </div>
            </div>
            <div id="menuH"
                 style="width: 100%; height: 25%; overflow: hidden;position: relative; z-index: 1;display: inline-block;">
                <div id="labmenuH" onclick="r_handleMenuClick(event)"
                     style="width: 7%; height: 90%; overflow: hidden;position: relative; z-index: 1;display: inline-block; font-size: 1vmax; font-family: Source Sans Pro; font-weight: bold; cursor: pointer; border-bottom: 2px solid hsla(190, 100%, 50%, 1); text-align: center;">
                    Laboratory
                </div>
                <div id="menuVS1"
                     style="width: 2%; height: 100%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
                <div id="aboutmenuH" onclick="r_handleMenuClick(event)"
                     style="width: 7%; height: 90%; overflow: hidden;position: relative; z-index: 1;display: inline-block; font-size: 1vmax; font-family: Source Sans Pro; font-weight: bold; cursor: pointer; border-bottom: 2px solid hsla(190, 100%, 50%, 0); text-align: center;">
                    About
                </div>
                <div id="menuVS2"
                     style="width: 2%; height: 90%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
                <div id="publicationmenuH" onclick="r_handleMenuClick(event)"
                     style="width: 7%; height: 90%; overflow: hidden;position: relative; z-index: 1;display: inline-block; font-size: 1vmax; font-family: Source Sans Pro; font-weight: bold; cursor: pointer; border-bottom: 2px solid hsla(190, 100%, 50%, 0); text-align: center;">
                    Publication
                </div>
                <div id="menuVS4"
                     style="width: 2%; height: 90%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
                <div id="videosmenuH" onclick="r_handleMenuClick(event)"
                     style="width: 7%; height: 90%; overflow: hidden;position: relative; z-index: 1;display: inline-block; font-size: 1vmax; font-family: Source Sans Pro; font-weight: bold; cursor: pointer; border-bottom: 2px solid hsla(190, 100%, 50%, 0); text-align: center;">
                    Videos
                </div>
                <div id="menuVS5"
                     style="width: 2%; height: 90%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
                <div id="teammenuH" onclick="r_handleMenuClick(event)"
                     style="width: 7%; height: 90%; overflow: hidden;position: relative; z-index: 1;display: inline-block; font-size: 1vmax; font-family: Source Sans Pro; font-weight: bold; cursor: pointer; border-bottom: 2px solid hsla(190, 100%, 50%, 0); text-align: center;">
                    Team
                </div>
                <div id="menuVS7"
                     style="width: 40%; height: 90%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
                <div id="githubIconH"
                     style="width: 2%; height: 90%; overflow: hidden;position: relative; z-index: 1;display: inline-block; font-family: Source Sans Pro; font-weight: bold; cursor: pointer; text-align: center;">
                    <a href="https://github.com/ABM-for-Covid" style="text-decoration: none;" target="_blank"><i
                            class="im im-github" style="font-size: 1.1vmax; "></i></a>
                </div>
                <div id="menuVS8"
                     style="width: 1%; height: 90%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
                <div id="twitterIconH"
                     style="width: 2%; height: 90%; overflow: hidden;position: relative; z-index: 1;display: inline-block; font-size: 0.6vmax; font-family: Source Sans Pro; font-weight: bold; cursor: pointer; text-align: center; color: hsla(196, 100%, 50%, 1);">
                    <i class="im im-twitter" style="font-size: 1.1vmax; "></i>
                </div>
                <div id="menuVS9"
                     style="width: 2%; height: 90%; overflow: hidden;position: relative; z-index: 1;display: inline-block;">

                </div>
            </div>
        </div>
        <div id="VS2"
             style="width: 2%; height: 100%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
    </div>
    <br/>
    <div id="AboutBar" class="bars"
         style="width: 100%; height: 94%; overflow-y: scroll;position: absolute; z-index: 1;display: inline-block; background: hsla(0, 0%, 100%, 1); visibility: hidden;">
        <div id="outerSkin" style="width: 100%; height: 100%; position: relative; z-index: 1;">
            <div id="VSAbout"
                 style="width: 2%; height: 100%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
            <div style="width: 96%; height: 100%; position: relative; z-index: 1;font-family: Source Sans Pro; display: inline-block;">
                <div id="HSabout1"
                     style="width: 100%; height: 2%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
                <div>
                    <font style="font-weight: bold; font-size: 1.5vmax;">Modeling the Spread and Control of
                        COVID-19.<br/></font>
                    <font style="font-size: 1.2vmax;">
                        <p>
                            Social networks are complex. An individual impacts the society not only by her own
                            independent behavior and choices, but also by her interactions. Therefore, within a society,
                            there is an individual outcome, and a macro outcome for the society. These outcomes results
                            from the combined effect of all the possible choices made by all the individuals. There are
                            multiple attributes, reasons, choices and factors that impact the result of this interaction
                            . The society is dynamic, evolving, learning and prone to making errors. One impacts the
                            whole and the whole impacts one. Simplicity gives rise to complexity.
                        </p>
                        <p>
                            For example, when a society is fighting with the spread of a disease, at an individual level
                            - one’s health, immunity, hygiene level etc. impact the chance contracting the disease. At
                            the same time, the number of people she come in contact with, and their hygiene level also
                            matters at a collective societal level. Classical models of prediction are neither capable
                            of embracing this complexity, nor are they suitable to factor in the adaptations that might
                            result from such complexity. In such situations, Agent based models plays an important role
                            in understanding the impact of both — an individual behavior and their interaction with the
                            environment.
                        </p>
                        <p>
                            Let’s understand an Agent. An agent is a software created entity, which represents or mimics
                            an individual and their choices. These agent move around in a virtual space are
                            heterogeneous and can differ in myriad ways (e.g., age, disease state, behavioral rules).[1]
                            They are ‘autonomous’, i.e they make their choices independently. They can have attributes
                            of an individual, i.e age, health etc. That is, they represent an individual within a
                            software environment, complete with attributes, as well as decision making frameworks.
                        </p>
                        <br/>
                        <br/>
                    </font>
                    <font style="font-weight: bold; font-size: 1.3vmax;">Agent Parameters<br/><br/></font>
                    <div style="width: 50%; height: 16%; overflow: hidden;position: relative; z-index: 1;display: inline-block; font-size: 0vmax;">
                        <div style="width: 50%; height: 100%; display: inline-block; overflow: hidden;">
                            <div style="width: 100%; height: 100%; display: flex; justify-content: center; align-items: center; font-size: 1.1vmax;">
                                <div style="width: 80%;"><font
                                        style="font-weight: bold; font-size: 1.16vmax;">Age</font><br/>Each agent has an
                                    attribute which represents age of an individual. This age is randomly sampled from a
                                    population distribution. We are using triangular distribution where the minimum age,
                                    maximum age and the peak of the distribution can be set according to the experiment.
                                    This allows to model different populations according to age.
                                </div>
                            </div>
                        </div>
                        <div style="width: 50%; height: 100%; display: inline-block;">
                            <object data="undraw/undraw_personal_notes_8n63.svg" type="image/svg+xml"
                                    style="width: 100%; height: 80%;"></object>
                        </div>
                    </div>
                    <div style="width: 50%; height: 16%; overflow: hidden;position: relative; z-index: 1;display: inline-block; font-size: 0vmax;">
                        <div style="width: 50%; height: 100%; display: inline-block; overflow: hidden;">
                            <div style="width: 100%; height: 100%; display: flex; justify-content: center; align-items: center; font-size: 1.1vmax;">
                                <div style="width: 80%;"><font
                                        style="font-weight: bold; font-size: 1.16vmax;">Hygiene</font><br/>Hygiene
                                    refers to conditions and practices that help to maintain health and prevent the
                                    spread of diseases. This is a sum total of personal, medical, culinary, home &
                                    everyday hygiene observed by a society. It is randomly distributed and an agent is
                                    assigned a random value between 0(Lowest level of hygiene) to 1(Highest level of
                                    hygiene). The distribution parameters can between
                                </div>
                            </div>
                        </div>
                        <div style="width: 50%; height: 100%; display: inline-block;">
                            <object data="undraw/undraw_wash_hands_nwl2.svg" type="image/svg+xml"
                                    style="width: 100%; height: 80%;"></object>
                        </div>
                    </div>
                    <font style="font-size: 1.2vmax;"><br/></font>
                    <div style="width: 50%; height: 16%; overflow: hidden;position: relative; z-index: 1;display: inline-block; font-size: 0vmax;">
                        <div style="width: 50%; height: 100%; display: inline-block; overflow: hidden;">
                            <div style="width: 100%; height: 100%; display: flex; justify-content: center; align-items: center; font-size: 1.1vmax;">
                                <div style="width: 80%;"><font style="font-weight: bold; font-size: 1.16vmax;">Overall
                                    health</font><br/>For this modeling, health is defined as a state of ‘physical
                                    well-being’. It has been divided into 4 levels(Between 0 &3), with each level
                                    representing a particular state of health. On this scale ‘3’ represents peak health
                                    condition, being free from any disease and ‘0’ represents poor health condition. An
                                    agent is randomly assigned a number between 0 to 3.

                                </div>
                            </div>
                        </div>
                        <div style="width: 50%; height: 80%; display: inline-block;">
                            <object data="undraw/undraw_yoga_248n.svg" type="image/svg+xml"
                                    style="width: 100%; height: 100%;"></object>
                        </div>
                    </div>
                    <div style="width: 50%; height: 16%; overflow: hidden;position: relative; z-index: 1;display: inline-block; font-size: 0vmax;">
                        <div style="width: 50%; height: 100%; display: inline-block; overflow: hidden;">
                            <div style="width: 100%; height: 100%; display: flex; justify-content: center; align-items: center; font-size: 1.1vmax;">
                                <div style="width: 80%;"><font style="font-weight: bold; font-size: 1.16vmax;">Comorbidity</font><br/>Comorbidity
                                    refers to one or more diseases or conditions that occur along with another condition
                                    in the same person at the same time. For the experiment, they have been assigned 3
                                    levels 0 and -2, both inclusive. A co-morbidity value of zero corresponds to an
                                    agent with no co-morbid conditions, and a lower value corresponds to prevalence of
                                    more serious co-morbid conditions.
                                </div>
                            </div>
                        </div>
                        <div style="width: 50%; height: 80%; display: inline-block;">
                            <object data="undraw/undraw_doctor_kw5l.svg" type="image/svg+xml"
                                    style="width: 100%; height: 100%;"></object>
                        </div>
                    </div>
                    <font style="font-size: 1.2vmax;"><br/></font>
                    <div style="width: 50%; height: 16%; overflow: hidden;position: relative; z-index: 1;display: inline-block; font-size: 0vmax;">
                        <div style="width: 50%; height: 100%; display: inline-block; overflow: hidden;">
                            <div style="width: 100%; height: 100%; display: flex; justify-content: center; align-items: center; font-size: 1.1vmax;">
                                <div style="width: 80%;"><font
                                        style="font-weight: bold; font-size: 1.16vmax;">Immunity </font><br/>It is
                                    defined as the capability of body to fight foreign infections. It has been assigned
                                    value of either 0 or 1, where 0 represent an immunosuppressed individual and 1
                                    represent perfectly normal state of immunity.
                                </div>
                            </div>
                        </div>
                        <div style="width: 50%; height: 80%; display: inline-block;">
                            <object data="undraw/undraw_Security_on_ff2u.svg" type="image/svg+xml"
                                    style="width: 100%; height: 100%;"></object>
                        </div>
                    </div>
                    <font style="font-size: 1.2vmax;"><br/><br/><br/><br/></font>
                    <font style="font-weight: bold; font-size: 2.16vmax;">Policies<br/><br/></font>
                    <font style="font-size: 1.2vmax;">
                        Many policies can be applied for a period of time of the total simulation run. These policies
                        change and control agent behavior. Some policies also have dynamic parameters which can be set
                        for a specific period of time. These policies are also used to update the environmental
                        resources..<br/><br/>
                    </font>
                    <br/><br/>

                    <font style="font-size: 1.6vmax; font-weight: bold;">Lockdown <br/></font>
                    <font style="font-size: 1.2vmax;">
                        <p>
                            A lockdown is an emergency protocol that prevents people from leaving a given area. In this
                            simulation, the lockdown controls the movement of the agents by making them static. It is
                            dynamic policy parameter and can be applied for varying number of days , at varying
                            intervals and at number of times.
                        </p>
                        <p>
                            For example a lockdown could be applied from 10th day to 30th day, followed by a relaxation
                            till 35th day. The second lockdown could be applied from 35th day to 60th day.During
                            lockdown only essential agents are permitted to move. This percentage of essential workers
                            could be assigned as an initial parameter before any experiment
                        </p>
                        <br/><br/>
                    </font>
                    <font style="font-size: 1.6vmax; font-weight: bold;">Age Based Lockdown<br/></font>
                    <font style="font-size: 1.2vmax;">
                        <p>
                            It is a lockdown defined on the basis of the age of an agent. This age is known as the
                            ‘threshold age’. All the agents below threshold age are permitted to move, and all the
                            agents above threshold age become static. It can be dynamically defined on the age-based
                            lockdown timeline.
                        </p>
                        <p>
                            For example, Age based lockdown can be implemented on Day 50, with threshold age of 65. This
                            means, agents below the age of 65 can interact and move, while agents above the age of 65
                            are static & under lockdown.
                        </p>
                        <br/><br/>
                    </font>
                    <font style="font-size: 1.6vmax; font-weight: bold;">Hospitalization<br/></font>
                    <font style="font-size: 1.2vmax;">
                        <p>
                            It is defined as the special policy in which special protocols(patient isolation, safety
                            measures etc) are implemented in treating the affected agents. At the implementation, it
                            isolates the agents (from the environment) that get very sick and have occupied a hospital
                            bed.
                        </p>
                        <p>
                            This policy is different from the general hospitalization, as invoking this policy would be
                            proceeded by special treatment protocols specific for the pandemic. These hospitalized
                            agents don’t interact with other agents in the system. Hospitalization of an agent is also
                            subject to availability of the hospital bed. We can define start date and duration of
                            hospitalization policy. We can also set the number of hospital and ICU beds in the
                            simulation environment (set as initial parameter).
                        </p>
                        <br/><br/>
                    </font>
                    <font style="font-size: 1.6vmax; font-weight: bold;">Social Distancing <br/></font>
                    <font style="font-size: 1.2vmax;">
                        <p>
                            Designed to replicate the ‘physical’ social distancing intervention, this policy controls
                            the movement of agents by maintaining a minimum distance between the agents. This allows
                            agents to stay outside the infection radius of other agents. Social Distancing Efficiency is
                            defined as the success rate of practicing Social Distancing measures.
                        </p>
                        <p>
                            For example, let’s say social distancing is defined as keeping a minimum distance of 6 ft
                            from another individual(agent). If we have 100 agents with minimum 100 interactions, this
                            will have 100,000 opportunities of practicing social distancing. If a minimum distance of
                            6ft was maintained in at-least 70,000 of these interactions, we will have a 70% Social
                            Distancing Efficiency for the environment.
                        </p>
                        <br/><br/>
                    </font>
                    <font style="font-size: 1.6vmax; font-weight: bold;">Border Close <br/></font>
                    <font style="font-size: 1.2vmax;"><p>In real life, closing the border refers to closing the airports
                        and other means of transportation across states or countries to control the movement of
                        individuals. Before the closure of border, there may be free movement of individuals, who may or
                        may not be infectious. </p>
                        <p> This is simulated in the similar manner in the model, where everyday, a random number of
                            ‘infectious traveler‘ agents enter the environment before the ‘border close’ policy is
                            implemented. Post policy implementation, the inflow of new infectious ‘traveler agents’ to
                            the environment is completely stopped. </p> <br/><br/>
                    </font>

                    <font style="font-size: 1.6vmax; font-weight: bold;">Daily Testing <br/></font>
                    <font style="font-size: 1.2vmax;"><p> Testing for a disease is very critical in identifying the rate
                        and spread of the disease. This parameter provides essential actionable insights to the
                        governments agencies for understanding the spread, severity, attributes, demographics as well as
                        infection, recovery and death rate . At the same time, help in crafting the response best suited
                        for the dynamically evolving situation. </p>
                        <p> When this policy is applied in the simulation , random agents are sampled from the
                            environment and tested as per the defined testing capacity . This capacity can be
                            dynamically set at various levels during the application of policy. Accuracy of each test
                            result is also critical. We can set the efficiency in the initial parameters which indicate
                            the false negative(individuals who are infected, but their results show they are not
                            infected) percentage of the tests. </p> <br/><br/>
                    </font>

                    <font style="font-size: 1.6vmax; font-weight: bold;">Contact Tracing <br/></font>
                    <font style="font-size: 1.2vmax;"><p> It is the process of identification of persons who may have
                        come into contact with an infected person ("contacts") and subsequent collection of further
                        information about these contacts.</p>
                        <p> Modeling this, when an agent is tested positive, it traces back certain number of contacts
                            of the agent it had come in contact with earlier. The number of contacts to be traced can be
                            set in the initial parameters. </p> <br/><br/></font>

                    <font style="font-size: 1.6vmax; font-weight: bold;">Quarantine <br/></font>
                    <font style="font-size: 1.2vmax;"><p> It is defined as restricting the movement of individuals with
                        certain attributes(like exposure to virus) for a given time period to prevent the spread of
                        disease. Upon it’s application, the policy removes the affected agents (positively tested) from
                        the environment for a given time period( till recovery or mandatory 21 days) and re-introduces
                        them(post recovery or mandatory isolation) into the environment. </p> <br/><br/>
                    </font>

                    <font style="font-size: 1.6vmax; font-weight: bold;">Reinforcement<br/></font>
                    <font style="font-size: 1.2vmax;"><p> In the possible event of shortfall of present healthcare
                        capacity, governments agencies may need to add reinforcements of makeshift hospitals and
                        critical care units. In this scenario, the questions, such as - “How many of such hospital beds
                        to be prepared?” and “When do we need certain number of hospitals beds?” etc. become very
                        critical. With this policy, we can set the amount of reinforcements to be added to the existing
                        capacity of hospital beds and ICU beds. We can define the initial capacity in the initial
                        parameters. </p>
                        <p> This would help in understanding if capacity & the timing of reinforcements would be
                            sufficient to handle the upcoming situation. For example, Is adding 100 additional ICUs &
                            500 hospital beds on 30th day would be sufficient? </p>
                        <br/><br/><br/><br/>
                    </font>

                    <font style="font-size: 1.6vmax; font-weight: bold;">Other Visualizations<br/></font>
                    <font style="font-size: 1.2vmax;"><p>Here's a Agent Based Model visualization based on a 3Blue1Brown
                        video. </p>
                        <a href="https://prajwalsouza.github.io/Experiments/Epidemic-Simulation">
                            https://prajwalsouza.github.io/Experiments/Epidemic-Simulation</a>
                        <br/><br/><br/>
                    </font>


                </div>
            </div>
        </div>
    </div>
    <div id="PublicationBar" class="bars"
         style="width: 100%; height: 94%; overflow: hidden;position: absolute; z-index: 1;display: inline-block; background: hsla(0, 0%, 92%, 1); visibility: hidden;">
        <font style="font-size: 1.2vmax; font-family: Source Sans Pro;">
            <br/>&nbsp&nbsp&nbsp&nbspLink to the paper will be available soon.
        </font>
    </div>
    <div id="VideosBar" class="bars"
         style="width: 100%; height: 94%; overflow: hidden;position: absolute; z-index: 1;display: inline-block; background: hsla(0, 0%, 100%, 1);visibility: hidden;">
        <div id="outerSkinvideo" style="width: 100%; height: 100%; position: relative; z-index: 1;">
            <div id="VSvideo"
                 style="width: 15%; height: 100%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
            <div style="width: 70%; height: 100%; position: relative; z-index: 1;font-family: Source Sans Pro; display: inline-block; overflow: hidden;">
                <div id="HSvideo1"
                     style="width: 100%; height: 2%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
                <div style="text-align: center;">
                    <font style="font-weight: bold; font-size: 1.8vmax; ">Videos<br/></font>
                    <font style="font-size: 1.2vmax;"><br/></font>
                    <font style="font-weight: bold; font-size: 1.4vmax; color: grey;">What may happen after
                        Lockdown?<br/><br/></font>
                </div>
                <div style="width: 100%; height: 30%;">
                    <iframe width="100%" height="100%" src="https://www.youtube.com/embed/mxiS280gDrk" frameborder="0"
                            allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
                            allowfullscreen></iframe>
                </div>

                <div style="text-align: center;">
                    <font style="font-size: 1.2vmax;"><br/><br/></font>
                    <font style="font-weight: bold; font-size: 1.4vmax; color: grey;">Why Overreaction Is Valid For
                        COVID-19.<br/><br/></font>
                </div>
                <div style="width: 100%; height: 30%;">
                    <iframe width="100%" height="100%" src="https://www.youtube.com/embed/yLqTdtJ_lQk" frameborder="0"
                            allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
                            allowfullscreen></iframe>
                </div>
            </div>
        </div>
    </div>
    <div id="SimsBar" class="bars"
         style="width: 100%; height: 94%; overflow: hidden;position: absolute; z-index: 1;display: inline-block; background: hsla(0, 0%, 92%, 1);visibility: hidden;">

    </div>
    <div id="TeamBar" class="bars"
         style="width: 100%; height: 94%; overflow-y: scroll;position: absolute; z-index: 1;display: inline-block; background: hsla(0, 0%, 100%, 1);visibility: hidden;">
        <div id="outerSkinTeam" style="width: 100%; height: 100%; position: relative; z-index: 1;">
            <div id="VSTeam"
                 style="width: 2%; height: 100%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
            <div style="width: 96%; height: 100%; position: relative; z-index: 1;font-family: Source Sans Pro; display: inline-block;">
                <div id="HSteam1"
                     style="width: 100%; height: 2%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
                <div style="text-align: center;">
                    <font style="font-weight: bold; font-size: 1.8vmax; ">Team<br/></font>
                    <font style="font-size: 1.2vmax;"><br/></font>
                    <font style="font-weight: bold; font-size: 1.4vmax; color: grey;">Modeling and Simulation<br/><br/></font>
                </div>
                <div style="width: 100%; height: 25%; position: relative; z-index: 1;display: inline-block; overflow: hidden;">
                    <div id="VSTeam01"
                         style="width: 2%; height: 100%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
                    <div style="width: 96%; height: 100%; position: relative; z-index: 1;font-family: Source Sans Pro; display: inline-block; overflow: hidden;"
                         onmouseover="document.getElementById('imageHA01').style.filter = 'none'"
                         onmouseout="document.getElementById('imageHA01').style.filter = 'grayscale(100%)'">
                        <div id="HSteamA01"
                             style="width: 98%; height: 2%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
                        <div id="imageHA01"
                             style="overflow: hidden;position: relative; z-index: 1;display: inline-block; border-radius: 20px;  background-size: cover; background-position: center; background-image: url('team/ashuthosh.jpeg'); transition: filter 0.5s; filter: grayscale(100%);">
                        </div>
                        <div id="discHA01"
                             style="overflow: hidden;position: relative; z-index: 1;display: inline-block; border-radius: 20px;">
                            <div id="VSTeamDiscA01"
                                 style="width: 7%; height: 100%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
                            <div style="width: 80%; height: 100%; position: relative; z-index: 1;font-family: Source Sans Pro; display: inline-block; overflow: hidden;">
                                <div style="width: 100%; height: 10%"></div>
                                <div id="TeamNameHA01"
                                     style="width: 100%; height: 15%; overflow: hidden;position: relative; z-index: 1;display: inline-block;">
                                    <font style="font-size: 1.5vmax; text-align: center; font-weight: bold;">ASHUTOSH
                                        TRIVEDI<br/></font>
                                </div>
                                <div id="TeamDiscHA01"
                                     style="width: 100%; height: 60%; overflow: hidden;position: relative; z-index: 1;display: inline-block;">
                                    <font style="font-size: 1.1vmax; text-align: center;">Ashutosh Trivedi is a Computer
                                        Scientist and Entrepreneur. He received his masters in computer science from
                                        IIIT-Bangalore, a graduate school of information technology in Bangalore, India
                                        in 2015. Ashutosh is co-founder of San Fransisco based startup <a
                                                href="https://www.spext.co/"
                                                style="text-decoration: none; color: hsla(200, 100%, 50%, 1);"
                                                target="_blank">Spext</a>. He wants to change the way people interact
                                        and consume audio content. Spext is part of UC Berkeley’s startup program -
                                        Skydeck and Creative Destruction Labs in Canada. As an independent researcher,
                                        Ashutosh is interested in Artificial Intelligence, Multi-agent simulations and
                                        Mathematics. He likes thinking about science, spirituality and human nature and
                                        often goes to trek Himalayan trails.<br/><br/><br/></font>

                                    <font style="font-size: 1.1vmax; text-align: center;"><i class="im im-linkedin"
                                                                                             style="color: rgb(14, 118, 168); cursor: pointer;"
                                                                                             onclick="window.open('https://www.linkedin.com/in/ashutoshtrivedi/')"></i>&nbsp&nbsp&nbsp&nbsp<i
                                            class="im im-twitter" style="color: rgb(0, 172, 238); cursor: pointer;"
                                            onclick="window.open('https://twitter.com/ashu_trv')"></i>&nbsp&nbsp&nbsp&nbsp<a
                                            href="mailto:name@email.com" style="text-decoration: none;"><i
                                            class="im im-mail" style="color: #D44638;"></i><br/><font
                                            style="color: purple;">ashu.trv@gmail.com</font></a></font>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
                <div style="width: 100%; height: 25%; position: relative; z-index: 1;display: inline-block; overflow: hidden;">
                    <div id="VSTeam02"
                         style="width: 2%; height: 100%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
                    <div style="width: 96%; height: 100%; position: relative; z-index: 1;font-family: Source Sans Pro; display: inline-block; overflow: hidden;"
                         onmouseover="document.getElementById('imageHA02').style.filter = 'none'"
                         onmouseout="document.getElementById('imageHA02').style.filter = 'grayscale(100%)'">
                        <div id="HSteamA02"
                             style="width: 98%; height: 2%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
                        <div id="imageHA02"
                             style="overflow: hidden;position: relative; z-index: 1;display: inline-block; border-radius: 20px;  background-size: cover; background-position: center; background-image: url('team/nandakishore.jpeg'); transition: filter 0.5s; filter: grayscale(100%);">
                        </div>
                        <div id="discHA02"
                             style="overflow: hidden;position: relative; z-index: 1;display: inline-block; border-radius: 20px;">
                            <div id="VSTeamDiscA02"
                                 style="width: 7%; height: 100%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
                            <div style="width: 80%; height: 100%; position: relative; z-index: 1;font-family: Source Sans Pro; display: inline-block; overflow: hidden;">
                                <div style="width: 100%; height: 10%"></div>
                                <div id="TeamNameHA02"
                                     style="width: 100%; height: 16%; overflow: hidden;position: relative; z-index: 1;display: inline-block;">
                                    <font style="font-size: 1.5vmax; text-align: center; font-weight: bold;">NANDA
                                        KISHORE SREENIVAS<br/></font>
                                </div>
                                <div id="TeamDiscHA02"
                                     style="width: 100%; height: 60%; overflow: hidden;position: relative; z-index: 1;display: inline-block;">
                                    <font style="font-size: 1.1vmax; text-align: center;">Nanda Kishore is an
                                        independent AI researcher and a software engineer by profession. He graduated
                                        with a B. Tech. in computer science and engineering from NIT-Trichy, India. He
                                        is currently working with Oracle as an Applications Engineer in Bangalore. His
                                        research interests are broadly in the area of artificial intelligence and
                                        multi-agent systems. He is also interested in building computational models
                                        towards a better understanding of human behavior, decision-making, and social
                                        interactions.<br/><br/><br/></font>

                                    <font style="font-size: 1.1vmax; text-align: center;"><i class="im im-linkedin"
                                                                                             style="color: rgb(14, 118, 168); cursor: pointer;"
                                                                                             onclick="window.open('https://www.linkedin.com/in/nandakishore-s/')"></i></font>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div style="width: 100%; height: 25%; position: relative; z-index: 1;display: inline-block; overflow: hidden;">
                    <div id="VSTeam03"
                         style="width: 2%; height: 100%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
                    <div style="width: 96%; height: 100%; position: relative; z-index: 1;font-family: Source Sans Pro; display: inline-block; overflow: hidden;"
                         onmouseover="document.getElementById('imageHA03').style.filter = 'none'"
                         onmouseout="document.getElementById('imageHA03').style.filter = 'grayscale(100%)'">
                        <div id="HSteamA03"
                             style="width: 98%; height: 2%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
                        <div id="imageHA03"
                             style="overflow: hidden;position: relative; z-index: 1;display: inline-block; border-radius: 20px;  background-size: cover; background-position: center; background-image: url('team/shrisha.jpeg'); transition: filter 0.5s; filter: grayscale(100%);">
                        </div>
                        <div id="discHA03"
                             style="overflow: hidden;position: relative; z-index: 1;display: inline-block; border-radius: 20px;">
                            <div id="VSTeamDiscA03"
                                 style="width: 7%; height: 100%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
                            <div style="width: 80%; height: 100%; position: relative; z-index: 1;font-family: Source Sans Pro; display: inline-block; overflow: hidden;">
                                <div style="width: 100%; height: 2%"></div>
                                <div id="TeamNameHA03"
                                     style="width: 100%; height: 15%; overflow: hidden;position: relative; z-index: 1;display: inline-block;">
                                    <font style="font-size: 1.5vmax; text-align: center; font-weight: bold;">SHRISHA RAO<br/></font>
                                </div>
                                <div id="TeamDiscHA03"
                                     style="width: 100%; height: 80%; overflow: hidden;position: relative; z-index: 1;display: inline-block;">
                                    <font style="font-size: 1.1vmax; text-align: center;">Shrisha Rao received his Ph.D.
                                        in computer science from the University of Iowa, and before that his M.S. in
                                        logic and computation from Carnegie Mellon University. He is a professor at
                                        IIIT-Bangalore, a graduate school of information technology in Bangalore, India.
                                        Dr. Rao is an ACM Distinguished Speaker and a Senior Member of the IEEE. He is
                                        also a life member of the American Mathematical Society and the Computer Society
                                        of India. <br/>
                                        His primary research interests are in artificial intelligence and other
                                        applications of distributed computing, including in bioinformatics and
                                        computational biology, as well as algorithms and approaches for resource
                                        management in complex systems such as used in cloud computing. He also has
                                        interests in energy efficiency, computational sustainability, renewable energy
                                        and microgrids, applied mathematics, and intelligent transportation systems. Dr.
                                        Rao has been a reviewer for many journals/transactions of the IEEE and ACM, and
                                        has served as a program committee member and keynote speaker for several
                                        international conferences. He is also a regular reviewer, with over 90 published
                                        reviews, for the ACM Computing Reviews journal (computingreviews.com), which
                                        reviews a sample of the latest publications related to the computing
                                        sciences.<br/><br/></font>

                                    <font style="font-size: 1.1vmax; text-align: center;"><i class="im im-linkedin"
                                                                                             style="color: rgb(14, 118, 168); cursor: pointer;"
                                                                                             onclick="window.open('https://www.linkedin.com/in/shrao/')"></i>&nbsp&nbsp&nbsp&nbsp<i
                                            class="im im-twitter" style="color: rgb(0, 172, 238); cursor: pointer;"
                                            onclick="window.open('https://twitter.com/shrao')"></i></font>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
                <div style="text-align: center;">
                    <font style="font-weight: bold; font-size: 1.4vmax; color: grey; text-align:"><br/><br/><br/>Visualizations<br/><br/></font>
                </div>
                <div style="width: 100%; height: 25%; position: relative; z-index: 1;display: inline-block; overflow: hidden;">
                    <div id="VSTeam04"
                         style="width: 2%; height: 100%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
                    <div style="width: 96%; height: 100%; position: relative; z-index: 1;font-family: Source Sans Pro; display: inline-block; overflow: hidden;"
                         onmouseover="document.getElementById('imageHA04').style.filter = 'none'"
                         onmouseout="document.getElementById('imageHA04').style.filter = 'grayscale(100%)'">
                        <div id="HSteamA04"
                             style="width: 98%; height: 2%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
                        <div id="imageHA04"
                             style="overflow: hidden;position: relative; z-index: 1;display: inline-block; border-radius: 20px;  background-size: cover; background-position: center; background-image: url('team/prajwal.jpg'); transition: filter 0.5s; filter: grayscale(100%);">
                        </div>
                        <div id="discHA04"
                             style="overflow: hidden;position: relative; z-index: 1;display: inline-block; border-radius: 20px;">
                            <div id="VSTeamDiscA04"
                                 style="width: 7%; height: 100%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
                            <div style="width: 80%; height: 100%; position: relative; z-index: 1;font-family: Source Sans Pro; display: inline-block; overflow: hidden;">
                                <div style="width: 100%; height: 10%"></div>
                                <div id="TeamNameHA04"
                                     style="width: 100%; height: 15%; overflow: hidden;position: relative; z-index: 1;display: inline-block;">
                                    <font style="font-size: 1.5vmax; text-align: center; font-weight: bold;">PRAJWAL
                                        DSOUZA<br/></font>
                                </div>
                                <div id="TeamDiscHA04"
                                     style="width: 100%; height: 60%; overflow: hidden;position: relative; z-index: 1;display: inline-block;">
                                    <font style="font-size: 1.1vmax; text-align: center;">Prajwal DSouza is a Teacher at
                                        Centre for Advanced Learning, Mangalore. He recieved his masters degree in
                                        Physics from Mangalore University. His interests currently include creating web
                                        simulations, machine learning applications in basic sciences (particularly
                                        physics and biology). <br/><br/><br/></font>

                                    <font style="font-size: 1.1vmax; text-align: center;"><i class="im im-globe"
                                                                                             style="cursor: pointer;"
                                                                                             onclick="window.open('https://prajwalsouza.github.io/')"></i>&nbsp&nbsp&nbsp&nbsp<i
                                            class="im im-github" style="cursor: pointer;"
                                            onclick="window.open('https://github.com/prajwalsouza')"></i>&nbsp&nbsp&nbsp&nbsp<i
                                            class="im im-linkedin" style="color: rgb(14, 118, 168); cursor: pointer;"
                                            onclick="window.open('https://www.linkedin.com/in/prajwal-dsouza')"></i>&nbsp&nbsp&nbsp&nbsp<i
                                            class="im im-twitter" style="color: rgb(0, 172, 238); cursor: pointer;"
                                            onclick="window.open('https://twitter.com/prajwalsouza1')"></i></font>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
                <div style="text-align: center;">
                    <font style="font-weight: bold; font-size: 1.4vmax; color: grey; text-align:"><br/><br/><br/>Contributors<br/><br/></font>
                </div>
                <div style="width: 100%; height: 25%; position: relative; z-index: 1;display: inline-block; overflow: hidden;">
                    <div id="VSTeam05"
                         style="width: 2%; height: 100%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
                    <div style="width: 96%; height: 100%; position: relative; z-index: 1;font-family: Source Sans Pro; display: inline-block; overflow: hidden;"
                         onmouseover="document.getElementById('imageHA05').style.filter = 'none'"
                         onmouseout="document.getElementById('imageHA05').style.filter = 'grayscale(100%)'">
                        <div id="HSteamA05"
                             style="width: 98%; height: 2%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
                        <div id="imageHA05"
                             style="overflow: hidden;position: relative; z-index: 1;display: inline-block; border-radius: 20px;  background-size: cover; background-position: center; background-image: url('team/sanyam.jpg'); transition: filter 0.5s; filter: grayscale(100%);">
                        </div>
                        <div id="discHA05"
                             style="overflow: hidden;position: relative; z-index: 1;display: inline-block; border-radius: 20px;">
                            <div id="VSTeamDiscA05"
                                 style="width: 7%; height: 100%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
                            <div style="width: 80%; height: 100%; position: relative; z-index: 1;font-family: Source Sans Pro; display: inline-block; overflow: hidden;">
                                <div style="width: 100%; height: 10%"></div>
                                <div id="TeamNameHA05"
                                     style="width: 100%; height: 15%; overflow: hidden;position: relative; z-index: 1;display: inline-block;">
                                    <font style="font-size: 1.5vmax; text-align: center; font-weight: bold;">SANYAM JAIN<br/></font>
                                </div>
                                <div id="TeamDiscHA05"
                                     style="width: 100%; height: 60%; overflow: hidden;position: relative; z-index: 1;display: inline-block;">
                                    <font style="font-size: 1.1vmax; text-align: center;">Sanyam is a graduate of
                                        IIIT-Bangalore. He is a senior Product Engineer at Spext and an active open
                                        source contributor.<br/><br/><br/></font>

                                    <font style="font-size: 1.1vmax; text-align: center;"><i class="im im-linkedin"
                                                                                             style="color: rgb(14, 118, 168); cursor: pointer;"
                                                                                             onclick="window.open('https://www.linkedin.com/in/sjain20/')"></i>&nbsp&nbsp&nbsp&nbsp<i
                                            class="im im-github" style="cursor: pointer;"
                                            onclick="window.open('https://github.com/xerosanyam')"></i>&nbsp&nbsp&nbsp&nbsp<i
                                            class="im im-twitter" style="color: rgb(0, 172, 238); cursor: pointer;"
                                            onclick="window.open('https://twitter.com/xerosanyam')"></i></font>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
                <div style="width: 100%; height: 25%; position: relative; z-index: 1;display: inline-block; overflow: hidden;">
                    <div id="VSTeam06"
                         style="width: 2%; height: 100%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
                    <div style="width: 96%; height: 100%; position: relative; z-index: 1;font-family: Source Sans Pro; display: inline-block; overflow: hidden;"
                         onmouseover="document.getElementById('imageHA06').style.filter = 'none'"
                         onmouseout="document.getElementById('imageHA06').style.filter = 'grayscale(100%)'">
                        <div id="HSteamA06"
                             style="width: 98%; height: 2%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
                        <div id="imageHA06"
                             style="overflow: hidden;position: relative; z-index: 1;display: inline-block; border-radius: 20px;  background-size: cover; background-position: center; background-image: url('team/gunjan.png'); transition: filter 0.5s; filter: grayscale(100%);">
                        </div>
                        <div id="discHA06"
                             style="overflow: hidden;position: relative; z-index: 1;display: inline-block; border-radius: 20px;">
                            <div id="VSTeamDiscA06"
                                 style="width: 7%; height: 100%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
                            <div style="width: 80%; height: 100%; position: relative; z-index: 1;font-family: Source Sans Pro; display: inline-block; overflow: hidden;">
                                <div style="width: 100%; height: 10%"></div>
                                <div id="TeamNameHA06"
                                     style="width: 100%; height: 15%; overflow: hidden;position: relative; z-index: 1;display: inline-block;">
                                    <font style="font-size: 1.5vmax; text-align: center; font-weight: bold;">GUNJAN
                                        WADHWA<br/></font>
                                </div>
                                <div id="TeamDiscHA06"
                                     style="width: 100%; height: 60%; overflow: hidden;position: relative; z-index: 1;display: inline-block;">
                                    <font style="font-size: 1.1vmax; text-align: center;">Gunjan is a product manager
                                        and consultant. She has been involved in many volunteering works related to
                                        mental health and disaster relief. <br/><br/><br/></font>

                                    <font style="font-size: 1.1vmax; text-align: center;"><i class="im im-linkedin"
                                                                                             style="color: rgb(14, 118, 168); cursor: pointer;"
                                                                                             onclick="window.open('https://www.linkedin.com/in/gunjan-wadhwa-5746316b/')"></i></font>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
                <div style="text-align: center;">
                    <font style="font-weight: bold; font-size: 1.4vmax; color: grey; text-align: center;"><br/><br/><br/>Sponsors<br/></font>
                    <font style="font-weight: bold; font-size: 1.2vmax; color: grey; text-align: center; cursor: pointer;"
                          onclick="window.open('https://publish.spext.co')"><br/>Spext<br/></font>
                </div>
                <div style="width: 100%; height: 6%; display: inline-block; font-size: 0; cursor: pointer;"
                     onclick="window.open('https://publish.spext.co')">
                    <div style="width: 100%; height: 100%; display: flex; justify-content: center;"><img
                            src="team/spext.png" style="max-width: 100%; max-height: 100%;"></div>

                </div>
                <div style="text-align: center;">
                    <font style="font-weight: bold; font-size: 1.4vmax; color: grey; text-align:"><br/><br/><br/><br/></font>
                </div>
            </div>
        </div>
    </div>
    <div id="MiddleBar"
         style="width: 100%; height: 88%; overflow: hidden;position: relative; z-index: 2;display: inline-block; background: hsla(0, 0%, 92%, 1);">
        <div id="VS3"
             style="width: 2%; height: 100%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
        <div id="middleSection"
             style="width: 96%; height: 100%; overflow: hidden;position: relative; z-index: 1;display: inline-block; ">
            <div id="HS1"
                 style="width: 100%; height: 1.5%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
            <div id="resultNameH"
                 style="width: 100%; height: 5%; overflow: hidden;position: relative; z-index: 1;display: inline-block; background: white; border-radius: 10px;">
                <div id="VSi1"
                     style="width: 2.5%; height: 100%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
                <div id="resultNameTextH"
                     style="width: 95%; height: 100%; overflow: hidden;position: relative; z-index: 1;display: inline-block;">
                    <div id="HSi1"
                         style="width: 100%; height: 5%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
                    <div id="resultName"
                         style="width:10%; height: 90%; overflow: hidden;position: relative; z-index: 1;display: inline-block;">
                        <div style="width: 100%; height: 100%; font-family: Source Sans Pro; font-size: 1.3vmax; display:flex; align-items: center;">
                            RESULTS
                        </div>
                    </div>

                    <div id="expName"
                         style="width: 10%; height: 90%; overflow: hidden;position: relative; z-index: 1;display: inline-block;">
                        <div style="width: 100%; height: 100%; font-family: Source Sans Pro; font-size: 1.2vmax; display:flex; align-items: center; color: grey;">
                            Experiment ID
                        </div>
                    </div>
                    <div id="expNameDisp"
                         style="width: 30%; height: 90%; overflow: hidden;position: relative; z-index: 1;display: inline-block;">
                        <div style="width: 100%; height: 100%; font-family: Source Sans Pro; font-size: 1.2vmax; display:flex; align-items: center;">
                            <div id="expID">
                                3b00aa95-a902-4a06-a98a-082b14134b6e
                            </div>
                            &nbsp&nbsp&nbsp<i class="im im-copy" style="font-size: 1vmax; cursor: pointer; color: grey;"
                                              onclick="r_copyText(event)"></i></font>
                        </div>

                    </div>


                    <div id="sharesH"
                         style="width: 50%; height: 90%; overflow: hidden;position: relative; z-index: 1;display: inline-block;">
                        <div style="width: 100%; height: 100%; font-family: Source Sans Pro; font-size: 1.2vmax; display:flex; align-items: center; justify-content: flex-end;">
                            <div style="width:40%">
                            </div>
                            <div style="width: 10%">
                                Share
                            </div>
                            <div style="width: 10%">
                            </div>
                            <div style="width: 40%">
                                <div id="addToAnyStuff" class="a2a_kit a2a_kit_size_32 a2a_default_style"
                                     data-a2a-url="https://abmforcovid.org/?expId=3b00aa95-a902-4a06-a98a-082b14134b6e"
                                     data-a2a-title="ABM for Covid : ">
                                    <a class="a2a_button_twitter"></a>
                                    <a class="a2a_button_whatsapp"></a>
                                    <a class="a2a_button_facebook"></a>
                                    <a class="a2a_button_reddit"></a>
                                    <a class="a2a_button_email"></a>
                                    <a class="a2a_button_linkedin"></a>
                                    <a class="a2a_button_google_gmail"></a>
                                </div>
                                <script async src="https://static.addtoany.com/menu/page.js"></script>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
            <div id="HS1r"
                 style="width: 100%; height: 1.5%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
            <div id="dynaParametersH"
                 style="width: 100%; height: 67%; overflow: hidden;position: relative; z-index: 1;display: inline-block; background: white; border-radius: 10px;">
                <div id="VSi1"
                     style="width: 2.5%; height: 100%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
                <div id="dynaParameters"
                     style="width: 95%; height: 100%; overflow: hidden;position: relative; z-index: 1;display: inline-block;">
                    <div id="HSi1"
                         style="width: 100%; height: 1%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
                    <div id="gradfillinitParameters"
                         style='margin:0px;width:100%; height: 45%; display: inline-block; position: absolute; pointer-events: none; background: linear-gradient(to bottom,hsla(0, 0%, 0%, 0), hsla(0, 100%, 100%, 0) 0%, hsla(0, 100%, 100%, 0) 0%, hsla(0, 100%, 100%, 0) 7%, hsla(0, 0%, 100%, 0) 90%,hsla(0, 100%, 100%, 1) 100%,hsla(0, 100%, 100%, 0) 100%,hsla(0, 100%, 100%, 0)); z-index: 400;'></div>
                    <div id="graphPHold"
                         style="width: 100%; height: 46%; overflow-y: scroll;position: relative; z-index: 1;display: inline-block;">
                        <div id="HSi15"
                             style="width: 100%; height: 1%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
                        <div id="graphTextBox"
                             style="width: 20%; height: 99%; overflow: hidden;position: relative; z-index: 1;display: inline-block;">
                            <div id="graphInfoText"
                                 style="width: 100%; height: 100%; overflow: hidden;position: relative; z-index: 1;display: inline-flex; align-items: center; font-family: Source Sans Pro; font-size: 1.3vmax; text-align: left;">
                                <div>
                                    Graph Plot<font style="color: grey; font-size: 0.9vmax"><br/>Various results plotted
                                    with the time</font><br/><br/>
                                    <input type="checkbox" id="infected_agents" onchange="r_graphCheck(event)"
                                           name="infected_agents" value="0">&nbsp&nbsp<label for="infected_agents_check"
                                                                                             style="text-indent: 1%; color: hsla(2, 100%, 50%, 1); font-size: 1vmax;">Infected
                                    Agents</label><br/>
                                    <input type="checkbox" id="exposed_agents" onchange="r_graphCheck(event)"
                                           name="exposed_agents" value="0">&nbsp&nbsp<label for="exposed_agents_check"
                                                                                            style="text-indent: 1%; color: hsla(320, 100%, 50%, 1); font-size: 1vmax;">Exposed
                                    Agents</label><br/>
                                    <input type="checkbox" id="recovered_agents" onchange="r_graphCheck(event)"
                                           name="recovered_agents" value="0">&nbsp&nbsp<label
                                        for="recovered_agents_check"
                                        style="text-indent: 1%; color: hsla(280, 100%, 50%, 1); font-size: 1vmax;">Recovered
                                    Agents</label><br/>
                                    <input type="checkbox" id="dead_agents" onchange="r_graphCheck(event)"
                                           name="dead_agents" value="0">&nbsp&nbsp<label for="dead_agents_check"
                                                                                         style="text-indent: 1%; color: hsla(280, 0%, 50%, 1); font-size: 1vmax;">Dead
                                    Agents</label><br/>
                                    <input type="checkbox" id="asympt_agents" onchange="r_graphCheck(event)"
                                           name="asympt_agents" value="0">&nbsp&nbsp<label for="asympt_agents_check"
                                                                                           style="text-indent: 1%; color: hsla(230, 100%, 50%, 1); font-size: 1vmax;">Asymptomatic
                                    Agents</label><br/>
                                    <input type="checkbox" id="suscept_agents" onchange="r_graphCheck(event)"
                                           name="suscept_agents" value="0">&nbsp&nbsp<label for="suscept_agents_check"
                                                                                            style="text-indent: 1%; color: hsla(190, 100%, 50%, 1); font-size: 1vmax;">Susceptible
                                    Agents</label><br/>
                                    <br/>
                                    <input type="checkbox" id="lockdown_disp" onchange="pr_graphCheck(event)"
                                           name="lockdown_disp" value="0">&nbsp&nbsp<label for="lockdown_disp_check"
                                                                                           id="lockdown_disp_check"
                                                                                           style="text-indent: 1%; color: hsla(190, 100%, 0%, 1); font-size: 1vmax;">Display
                                    Lockdowns</label><br/>
                                    <input type="checkbox" id="quarantine_disp" onchange="pr_graphCheck(event)"
                                           name="quarantine_disp" value="0">&nbsp&nbsp<label for="quarantine_disp_check"
                                                                                             id="quarantine_disp_check"
                                                                                             style="text-indent: 1%; color: hsla(190, 100%, 0%, 1); font-size: 1vmax;">Display
                                    Quarantine Approaches</label><br/><input type="checkbox" id="social_distancing_disp"
                                                                             onchange="pr_graphCheck(event)"
                                                                             name="social_distancing_disp" value="0">&nbsp&nbsp<label
                                        for="social_distancing_disp_check" id="social_distancing_disp_check"
                                        style="text-indent: 1%; color: hsla(190, 100%, 0%, 1); font-size: 1vmax;">Display
                                    Social Distancing</label><br/>
                                    <input type="checkbox" id="daily_testing_disp" onchange="pr_graphCheck(event)"
                                           name="daily_testing_disp" value="0">&nbsp&nbsp<label
                                        for="daily_testing_disp_check" id="daily_testing_disp_check"
                                        style="text-indent: 1%; color: hsla(190, 100%, 0%, 1); font-size: 1vmax;">Display
                                    Daily Testing</label><br/>
                                    <input type="checkbox" id="age_based_lockdown_disp" onchange="pr_graphCheck(event)"
                                           name="age_based_lockdown_disp" value="0">&nbsp&nbsp<label
                                        for="age_based_lockdown_disp_check" id="age_based_lockdown_disp_check"
                                        style="text-indent: 1%; color: hsla(190, 100%, 0%, 1); font-size: 1vmax;">Display
                                    Age Based Lockdowns</label><br/>
                                    <input type="checkbox" id="contact_tracing_disp" onchange="pr_graphCheck(event)"
                                           name="contact_tracing_disp" value="0">&nbsp&nbsp<label
                                        for="contact_tracing_disp_check" id="contact_tracing_disp_check"
                                        style="text-indent: 1%; color: hsla(190, 100%, 0%, 1); font-size: 1vmax;">Display
                                    Contact Tracing Approaches</label><br/>
                                    <input type="checkbox" id="border_closing_disp" onchange="pr_graphCheck(event)"
                                           name="border_closing_disp" value="0">&nbsp&nbsp<label
                                        for="border_closing_disp_check" id="border_closing_disp_check"
                                        style="text-indent: 1%; color: hsla(190, 100%, 0%, 1); font-size: 1vmax;">Display
                                    Border Closing Approaches</label><br/>
                                    <input type="checkbox" id="hospitalization_disp" onchange="pr_graphCheck(event)"
                                           name="hospitalization_disp" value="0">&nbsp&nbsp<label
                                        for="hospitalization_disp_check" id="hospitalization_disp_check"
                                        style="text-indent: 1%; color: hsla(190, 100%, 0%, 1); font-size: 1vmax;">Display
                                    Hospitalization Approaches</label><br/>
                                </div>
                            </div>
                        </div>
                        <div id="plotGH"
                             style="width: 80%; height: 99%; overflow: hidden;position: relative; z-index: 1;display: inline-block;">
                        </div>
                    </div>
                    <div id="dynaParametersName"
                         style="width: 100%; height: 3%; overflow: hidden;position: relative; z-index: 1;display: inline-block;">
                        <div style="width: 100%; height: 100%; font-family: Source Sans Pro; font-size: 1.3vmax; display:flex; align-items: center;">
                            Dynamic Parameters &nbsp | &nbsp Policies
                        </div>
                    </div>
                    <div id="HSi2"
                         style="width: 100%; height: 0.5%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
                    <br/>
                    <div id="dynaFullGraphH"
                         style="width: 80%; height: 89%; top: 5%; left: 20%; overflow-y: scroll;position: absolute; z-index: 100;display: inline-block; font-family: Source Sans Pro; font-size: 1vmax; pointer-events: none;">
                    </div>

                    <br/>
                    <div id="gradfillinitParameters"
                         style='margin:0px;width:100%; height: 42%; display: inline-block; position: absolute; pointer-events: none; background: linear-gradient(to bottom,hsla(0, 0%, 0%, 0), hsla(0, 100%, 100%, 0) 0%, hsla(0, 100%, 100%, 1) 0%, hsla(0, 100%, 100%, 0) 7%, hsla(0, 0%, 100%, 0) 90%,hsla(0, 100%, 100%, 1) 100%,hsla(0, 100%, 100%, 0) 100%,hsla(0, 100%, 100%, 0)); z-index: 2;'></div>

                    <div id="dynaPHold"
                         style="width: 100%; height: 42%; overflow-y: scroll;position: relative; z-index: 1;display: inline-block;">

                        <div id="HSi5"
                             style="width: 100%; height: 3%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
                        <div id="dynaParameterLockdownTextBox"
                             style="width: 20%; height: 7%; overflow: hidden;position: relative; z-index: 1;display: inline-block;">
                            <div id="dynaParameterLockDownTextownText"
                                 style="width: 100%; height: 100%; overflow: hidden;position: relative; z-index: 1;display: inline-flex; align-items: center; justify-content: flex-end; font-family: Source Sans Pro; font-size: 1vmax; text-align: right;">
                                <div>
                                    Lockdown
                                </div>
                            </div>
                        </div>
                        <div id="dynaParameterLockdownParts"
                             style="width: 80%; height: 7%; overflow: hidden;position: relative; z-index: 1;display: inline-block;">
                            <div id="dynaParameterLockdownH"
                                 style="width: 100%; height: 100%; overflow: hidden;position: relative; z-index: 1;display: inline-block;">
                            </div>
                        </div>
                        <div id="HSi6"
                             style="width: 100%; height: 0.3%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
                        <div id="dynaParameterQuarantineTextBox"
                             style="width: 20%; height: 7%; overflow: hidden;position: relative; z-index: 1;display: inline-block;">
                            <div id="dynaParameterQuarantineText"
                                 style="width: 100%; height: 100%; overflow: hidden;position: relative; z-index: 1;display: inline-flex; align-items: center; justify-content: flex-end; font-family: Source Sans Pro; font-size: 1vmax; text-align: right;">
                                <div>
                                    Quarantine
                                </div>
                            </div>
                        </div>
                        <div id="dynaParameterQuarantineH"
                             style="width: 80%; height: 7%; overflow: hidden;position: relative; z-index: 1;display: inline-block;">
                        </div>
                        <div id="HSi12"
                             style="width: 100%; height: 0.3%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
                        <div id="dynaParameterSocialDistancingTextBox"
                             style="width: 20%; height: 7%; overflow: hidden;position: relative; z-index: 1;display: inline-block;">
                            <div id="dynaParameterSocialDistancingText"
                                 style="width: 100%; height: 100%; overflow: hidden;position: relative; z-index: 1;display: inline-flex; align-items: center; justify-content: flex-end; font-family: Source Sans Pro; font-size: 1vmax; text-align: right;">
                                <div>
                                    Social Distancing
                                </div>
                            </div>
                        </div>
                        <div id="dynaParameterSocialDistancingH"
                             style="width: 80%; height: 7%; overflow: hidden;position: relative; z-index: 1;display: inline-block;">
                        </div>
                        <div id="HSi7"
                             style="width: 100%; height: 0.3%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
                        <div id="dynaParameterDailytestingTextBox"
                             style="width: 20%; height: 7%; overflow: hidden;position: relative; z-index: 1;display: inline-block;">
                            <div id="dynaParameterDailytestingText"
                                 style="width: 100%; height: 100%; overflow: hidden;position: relative; z-index: 1;display: inline-flex; align-items: center; justify-content: flex-end; font-family: Source Sans Pro; font-size: 1vmax; text-align: right;">
                                <div>
                                    Daily Testing
                                </div>
                            </div>
                        </div>
                        <div id="dynaParameterDailytestingH"
                             style="width: 80%; height: 7%; overflow: hidden;position: relative; z-index: 1;display: inline-block;">
                        </div>
                        <!-- <div id="HSi8" style="width: 100%; height: 0.3%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div> -->
                        <div id="dynaParameterTestingCapacityTextBox"
                             style="width: 20%; height: 33%; overflow: hidden;position: relative; z-index: 1;display: inline-block;">
                            <div id="dynaParameterTestingCapacityText"
                                 style="width: 100%; height: 100%; overflow: hidden;position: relative; z-index: 1;display: inline-flex; align-items: center; justify-content: flex-end; font-family: Source Sans Pro; font-size: 1vmax; text-align: right;">
                                <div>
                                    Tests per day
                                </div>
                            </div>
                        </div>
                        <div id="dynaParameterTestingCapacityH"
                             style="width: 80%; height: 33%; overflow: hidden;position: relative; z-index: 1;display: inline-block;">
                        </div>
                        <div id="HSi13"
                             style="width: 100%; height: 0.3%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
                        <div id="dynaParameterAgeBasedLockDownTextBox"
                             style="width: 20%; height: 7%; overflow: hidden;position: relative; z-index: 1;display: inline-block;">
                            <div id="dynaParameterAgeBasedLockDownText"
                                 style="width: 100%; height: 100%; overflow: hidden;position: relative; z-index: 1;display: inline-flex; align-items: center; justify-content: flex-end; font-family: Source Sans Pro; font-size: 1vmax; text-align: right;">
                                <div>
                                    Age based lockdown
                                </div>
                            </div>
                        </div>
                        <div id="dynaParameterAgeBasedLockDownH"
                             style="width: 80%; height: 7%; overflow: hidden;position: relative; z-index: 1;display: inline-block;">
                        </div>
                        <!-- <div id="HSi14" style="width: 100%; height: 0.3%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div> -->
                        <div id="dynaParameterAgeThresholdTextBox"
                             style="width: 20%; height: 33%; overflow: hidden;position: relative; z-index: 1;display: inline-block;">
                            <div id="dynaParameterAgeThresholdText"
                                 style="width: 100%; height: 100%; overflow: hidden;position: relative; z-index: 1;display: inline-flex; align-items: center; justify-content: flex-end; font-family: Source Sans Pro; font-size: 1vmax; text-align: right;">
                                <div>
                                    Lockdown Age Threshold
                                </div>
                            </div>
                        </div>
                        <div id="dynaParameterAgeThresholdH"
                             style="width: 80%; height: 33%; overflow: hidden;position: relative; z-index: 1;display: inline-block;">
                        </div>

                        <div id="HSi9"
                             style="width: 100%; height: 0.3%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
                        <div id="dynaParameterContactTracingTextBox"
                             style="width: 20%; height: 7%; overflow: hidden;position: relative; z-index: 1;display: inline-block;">
                            <div id="dynaParameterContactTracingText"
                                 style="width: 100%; height: 100%; overflow: hidden;position: relative; z-index: 1;display: inline-flex; align-items: center; justify-content: flex-end; font-family: Source Sans Pro; font-size: 1vmax; text-align: right;">
                                <div>
                                    Contact Tracing
                                </div>
                            </div>
                        </div>
                        <div id="dynaParameterContactTracingH"
                             style="width: 80%; height: 7%; overflow: hidden;position: relative; z-index: 1;display: inline-block;">
                        </div>

                        <div id="HSi3"
                             style="width: 100%; height: 0.3%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
                        <div id="dynaParameterBorderClosingTextBox"
                             style="width: 20%; height: 7%; overflow: hidden;position: relative; z-index: 1;display: inline-block;">
                            <div id="dynaParameterBorderClosingText"
                                 style="width: 100%; height: 100%; overflow: hidden;position: relative; z-index: 1;display: inline-flex; align-items: center; justify-content: flex-end; font-family: Source Sans Pro; font-size: 1vmax; text-align: right;">
                                <div>
                                    Border Closing
                                </div>
                            </div>
                        </div>
                        <div id="dynaParameterBorderClosingH"
                             style="width: 80%; height: 7%; overflow: hidden;position: relative; z-index: 1;display: inline-block;">

                        </div>
                        <div id="HSi4"
                             style="width: 100%; height: 0.3%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
                        <div id="dynaParameterHospitalizationTextBox"
                             style="width: 20%; height: 7%; overflow: hidden;position: relative; z-index: 1;display: inline-block;">
                            <div id="dynaParameterHospitalizationText"
                                 style="width: 100%; height: 100%; overflow: hidden;position: relative; z-index: 1;display: inline-flex; align-items: center; justify-content: flex-end; font-family: Source Sans Pro; font-size: 1vmax; text-align: right;">
                                <div>
                                    Hospitalization
                                </div>
                            </div>
                        </div>
                        <div id="dynaParameterHospitalizationH"
                             style="width: 80%; height: 7%; overflow: hidden;position: relative; z-index: 1;display: inline-block;">
                        </div>


                        <div id="HSi10"
                             style="width: 100%; height: 0.3%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
                        <div id="dynaParameterICUBedsTextBox"
                             style="width: 20%; height: 33%; overflow: hidden;position: relative; z-index: 1;display: inline-block;">
                            <div id="dynaParameterICUBedsText"
                                 style="width: 100%; height: 100%; overflow: hidden;position: relative; z-index: 1;display: inline-flex; align-items: center; justify-content: flex-end; font-family: Source Sans Pro; font-size: 1vmax; text-align: right;">
                                <div>
                                    Additional ICU Beds
                                </div>
                            </div>
                        </div>
                        <div id="dynaParameterICUBedsH"
                             style="width: 80%; height: 33%; overflow: hidden;position: relative; z-index: 1;display: inline-block;">
                        </div>
                        <!-- <div id="HSi11" style="width: 100%; height: 0.3%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div> -->
                        <div id="dynaParameterHBedsTextBox"
                             style="width: 20%; height: 33%; overflow: hidden;position: relative; z-index: 1;display: inline-block;">
                            <div id="dynaParameterHBedsText"
                                 style="width: 100%; height: 100%; overflow: hidden;position: relative; z-index: 1;display: inline-flex; align-items: center; justify-content: flex-end; font-family: Source Sans Pro; font-size: 1vmax; text-align: right;">
                                <div>
                                    Additional Hospital Beds
                                </div>
                            </div>
                        </div>
                        <div id="dynaParameterHBedsH"
                             style="width: 80%; height: 33%; overflow: hidden;position: relative; z-index: 1;display: inline-block;">
                        </div>
                        <div id="HSi11"
                             style="width: 100%; height: 65%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>

                    </div>
                    <br/>
                    <div id="dynaParameterTime"
                         style="width: 20%; height: 3%; overflow: hidden;position: relative; z-index: 1;display: inline-block;">
                        <div id="timelabelText"
                             style="width: 100%; height: 100%; overflow: hidden;position: relative; z-index: 1;display: inline-flex; align-items: center; justify-content: flex-end; font-family: Source Sans Pro; font-size: 1vmax; text-align: right;">
                            <div>
                                Time (Days)
                            </div>
                        </div>
                    </div>
                    <div id="dynaParameterTimeGraphH"
                         style="width: 80%; height: 3%; overflow-y: scroll;position: relative; z-index: 1;display: inline-block;">
                    </div>

                    <div id="additionalRunBH"
                         style="width: 100%; height: 4%; overflow: hidden;position: relative; z-index: 1;display: inline-block;">
                    </div>
                    <div id="HSii2Last"
                         style="width: 100%; height: 0.5%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
                </div>
            </div>
            <div id="HS2"
                 style="width: 100%; height: 2%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
            <div id="initParametersH"
                 style="width: 100%; height: 21.5%; overflow: hidden;position: relative; z-index: 1;display: inline-block; background: white; border-radius: 10px;">
                <div id="VSi1"
                     style="width: 2.5%; height: 100%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
                <div id="initParameters"
                     style="width: 95%; height: 100%; overflow: hidden;position: relative; z-index: 1;display: inline-block;">
                    <div id="HSi1"
                         style="width: 100%; height: 5%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
                    <div id="initParametersName"
                         style="width: 100%; height: 8%; overflow: hidden;position: relative; z-index: 1;display: inline-block;">
                        <div style="width: 100%; height: 100%; font-family: Source Sans Pro; font-size: 1.3vmax; display:flex; align-items: center;">
                            Initial Parameters
                        </div>
                    </div>
                    <div id="HSi3"
                         style="width: 100%; height: 1%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
                    <br/>
                    <div id="gradfillinitParameters"
                         style='margin:0px;width:100%; height: 77%; display: inline-block; position: absolute; pointer-events: none; background: linear-gradient(to bottom,hsla(0, 0%, 0%, 0), hsla(0, 100%, 100%, 0) 0%, hsla(0, 100%, 100%, 1) 0%, hsla(0, 100%, 100%, 0) 7%, hsla(0, 0%, 100%, 0) 90%,hsla(0, 100%, 100%, 1) 100%,hsla(0, 100%, 100%, 0) 100%,hsla(0, 100%, 100%, 0)); z-index: 2;'></div>
                    <div id="initParameterHolder"
                         style="width: 100%; height: 77%; overflow: auto; position: relative; z-index: 1;display: inline-block;">
                        <div id="HSii1"
                             style="width: 100%; height: 5%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
                        <div id="parameterBox0"
                             style="margin:0px;width:17%;position: relative; z-index: 1;display: inline-block;">
                            <div id="parameterBoxInner0"
                                 style="margin:0px;width:100%;position: relative; z-index: 1;display: flex; font-size: 1vmax; font-family: Source Sans Pro;">
                                <div id="parameter0Text"
                                     style="margin:0px;width:100%; position: relative; z-index: 1; display: inline-block; text-align: left; ">
                                    Number of Agents &nbsp<font id="parameter0Value"
                                                                style="font-weight:bold; color:hsla(195, 100%, 50% , 1);">200</font><br/><font
                                        style="color:hsla(0, 0%, 60%, 1); font-size: 0.8vmax;">Number of agents in the
                                    simulation</font>
                                </div>
                            </div>
                        </div>
                        <div id="parameterSpacer0"
                             style="width: 3%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
                        <div id="parameterBox1"
                             style="margin:0px;width:17%;position: relative; z-index: 1;display: inline-block;">
                            <div id="parameterBoxInner1"
                                 style="margin:0px;width:100%;position: relative; z-index: 1;display: flex; font-size: 1vmax; font-family: Source Sans Pro;">
                                <div id="parameter1Text"
                                     style="margin:0px;width:100%; position: relative; z-index: 1; display: inline-block; text-align: left; ">
                                    Agent Density &nbsp<font id="parameter1Value"
                                                             style="font-weight:bold; color:hsla(195, 100%, 50% , 1);">0.0001</font><br/><font
                                        style="color:hsla(0, 0%, 60%, 1); font-size: 0.8vmax;">How many agent per sq of
                                    pixel in our simulation</font>
                                </div>

                            </div>
                        </div>
                        <div id="parameterSpacer1"
                             style="width: 3%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
                        <div id="parameterBox2"
                             style="margin:0px;width:17%;position: relative; z-index: 1;display: inline-block;">
                            <div id="parameterBoxInner2"
                                 style="margin:0px;width:100%; position: relative; z-index: 1;display: flex; font-size: 1vmax; font-family: Source Sans Pro;">
                                <div id="parameter2Text"
                                     style="margin:0px;width:100%; position: relative; z-index: 1; display: inline-block; text-align: left;">
                                    Hospital bed per agent &nbsp<font id="parameter2Value"
                                                                      style="font-weight:bold; color:hsla(195, 100%, 50% , 1);">0.1</font><br/><font
                                        style="color:hsla(0, 0%, 60%, 1); font-size: 0.8vmax;">Set the factor at which
                                    hospitals are available in the env/agent</font>
                                </div>

                            </div>
                        </div>
                        <div id="parameterSpacer2"
                             style="width: 3%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
                        <div id="parameterBox3"
                             style="margin:0px;width:17%;position: relative; z-index: 1;display: inline-block;">
                            <div id="parameterBoxInner3"
                                 style="margin:0px;width:100%;position: relative; z-index: 1;display: flex; font-size: 1vmax; font-family: Source Sans Pro;">
                                <div id="parameter3Text"
                                     style="margin:0px;width:100%; position: relative; z-index: 1; display: inline-block; text-align: left; ">
                                    ICU bed per hospital bed &nbsp<font id="parameter3Value"
                                                                        style="font-weight:bold; color:hsla(195, 100%, 50% , 1);">0.05</font><br/><font
                                        style="color:hsla(0, 0%, 60%, 1); font-size: 0.8vmax;">How many ICU beds are
                                    available per hospital bed. </font>
                                </div>

                            </div>
                        </div>
                        <div id="parameterSpacer3"
                             style="width: 3%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
                        <div id="parameterBox4"
                             style="margin:0px;width:17%;position: relative; z-index: 1;display: inline-block;">
                            <div id="parameterBoxInner4"
                                 style="margin:0px;width:100%; position: relative; z-index: 1;display: flex; font-size: 1vmax; font-family: Source Sans Pro;">
                                <div id="parameter4Text"
                                     style="margin:0px;width:100%; position: relative; z-index: 1; display: inline-block; text-align: left;">
                                    Infection percent &nbsp<font id="parameter4Value"
                                                                 style="font-weight:bold; color:hsla(195, 100%, 50% , 1);">0.0</font><br/><font
                                        style="color:hsla(0, 0%, 60%, 1); font-size: 0.8vmax;">% of agents are
                                    infectious at the start of simulation</font>
                                </div>

                            </div>
                        </div>
                        <div id="parameterSpacer4"
                             style="width: 10%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
                        <div id="HSii3"
                             style="width: 100%; height: 7%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
                        <div id="parameterBox10"
                             style="margin:0px;width:17%;position: relative; z-index: 1;display: inline-block;">
                            <div id="parameterBoxInner10"
                                 style="margin:0px;width:100%; position: relative; z-index: 1;display: flex; font-size: 1vmax; font-family: Source Sans Pro;">
                                <div id="parameter10Text"
                                     style="margin:0px;width:100%; position: relative; z-index: 1; display: inline-block; text-align: left;">
                                    Essential Agent percent &nbsp<font id="parameter10Value"
                                                                       style="font-weight:bold; color:hsla(195, 100%, 50% , 1);">0.05</font><br/><font
                                        style="color:hsla(0, 0%, 60%, 1); font-size: 0.8vmax;">What % of agents are
                                    essentials? ( They will be mobile under the lockdown)</font>
                                </div>
                            </div>
                        </div>
                        <div id="parameterSpacer10"
                             style="width: 3%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
                        <div id="parameterBox11"
                             style="margin:0px;width:17%;position: relative; z-index: 1;display: inline-block;">
                            <div id="parameterBoxInner11"
                                 style="margin:0px;width:100%; position: relative; z-index: 1;display: flex; font-size: 1vmax; font-family: Source Sans Pro;">
                                <div id="parameter11Text"
                                     style="margin:0px;width:100%; position: relative; z-index: 1; display: inline-block; text-align: left;">
                                    Testing Efficiency &nbsp<font id="parameter11Value"
                                                                  style="font-weight:bold; color:hsla(195, 100%, 50% , 1);">0.3</font><br/><font
                                        style="color:hsla(0, 0%, 60%, 1); font-size: 0.8vmax;">Percentage of false
                                    negatives in testing</font>
                                </div>

                            </div>
                        </div>
                        <div id="parameterSpacer11"
                             style="width: 3%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
                        <div id="parameterBox12"
                             style="margin:0px;width:17%;position: relative; z-index: 1;display: inline-block;">
                            <div id="parameterBoxInner12"
                                 style="margin:0px;width:100%; position: relative; z-index: 1;display: flex; font-size: 1vmax; font-family: Source Sans Pro;">
                                <div id="parameter12Text"
                                     style="margin:0px;width:100%; position: relative; z-index: 1; display: inline-block; text-align: left;">
                                    Contact Tracing Capacity &nbsp<font id="parameter12Value"
                                                                        style="font-weight:bold; color:hsla(195, 100%, 50% , 1);">5</font><br/><font
                                        style="color:hsla(0, 0%, 60%, 1); font-size: 0.8vmax;">Tracing extent
                                    factor</font>
                                </div>

                            </div>
                        </div>
                        <div id="parameterSpacer12"
                             style="width: 3%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
                        <div id="parameterBox13"
                             style="margin:0px;width:17%;position: relative; z-index: 1;display: inline-block;">
                            <div id="parameterBoxInner13"
                                 style="margin:0px;width:100%; position: relative; z-index: 1;display: flex; font-size: 1vmax; font-family: Source Sans Pro;">
                                <div id="parameter13Text"
                                     style="margin:0px;width:100%; position: relative; z-index: 1; display: inline-block; text-align: left;">
                                    Social Distancing Efficiency &nbsp<font id="parameter13Value"
                                                                            style="font-weight:bold; color:hsla(195, 100%, 50% , 1);">0.6</font><font
                                        style="color:hsla(0, 0%, 60%, 1); font-size: 0.8vmax;"></font>
                                </div>
                            </div>
                        </div>
                        <div id="parameterSpacer13"
                             style="width: 3%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
                        <div id="parameterBox14"
                             style="margin:0px;width:17%;position: relative; z-index: 1;display: inline-block;">
                            <div id="parameterBoxInner14"
                                 style="margin:0px;width:100%; position: relative; z-index: 1;display: flex; font-size: 1vmax; font-family: Source Sans Pro;">
                                <div id="parameter14Text"
                                     style="margin:0px;width:100%; position: relative; z-index: 1; display: inline-block; text-align: left;">
                                    Recovered Agent percent &nbsp<font id="parameter14Value"
                                                                       style="font-weight:bold; color:hsla(195, 100%, 50% , 1);">0</font><font
                                        style="color:hsla(0, 0%, 60%, 1); font-size: 0.8vmax;"><br/>These agents would
                                    be recovered already with the start of the simulation. </font>
                                </div>
                            </div>
                        </div>
                        <div id="HSi7"
                             style="width: 100%; height: 7%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
                        <div id="holdset"
                             style="margin:0px;width:50%; height: 40%; position: relative; z-index: 1;display: inline-block; overflow: hidden;">
                            <div id="parameterBox5"
                                 style="margin:0px;width:45%;  position: relative; z-index: 1;display: inline-block;">
                                <div id="parameterBoxInner5"
                                     style="margin:0px; position: relative; z-index: 1;display: inline-block; font-size: 1vmax; font-family: Source Sans Pro;">
                                    <div id="ageDisText"
                                         style="margin:0px;width:100%; height: 20%; position: relative; z-index: 1;color: hsla(270, 100%, 50%, 1);">
                                        Age Distribution (Triangular Distribution) &nbsp
                                    </div>
                                    <div id="parameter5Text"
                                         style="margin:0px;width:100%; height: 20%; position: relative; z-index: 1; display: inline-block; text-align: left;">
                                        Distribution age minimum &nbsp<font id="parameter5Value"
                                                                            style="font-weight:bold; color:hsla(195, 100%, 50% , 1);">1</font><br/><font
                                            style="color:hsla(0, 0%, 60%, 1); font-size: 0.8vmax;"></font>
                                    </div>
                                    <div id="parameter6Text"
                                         style="margin:0px;width:100%; height: 20%; position: relative; z-index: 1; display: inline-block; text-align: left;">
                                        Distribution age maximum &nbsp <font id="parameter6Value"
                                                                             style="font-weight:bold; color:hsla(195, 100%, 50% , 1);">90</font><br/><font
                                            style="color:hsla(0, 0%, 60%, 1); font-size: 0.8vmax;"></font>
                                    </div>
                                    <div id="parameter7Text"
                                         style="margin:0px;width:100%; height: 20%; position: relative; z-index: 1; display: inline-block; text-align: left;">
                                        Distribution age peak &nbsp<font id="parameter7Value"
                                                                         style="font-weight:bold; color:hsla(195, 100%, 50% , 1);">25</font><br/><font
                                            style="color:hsla(0, 0%, 60%, 1); font-size: 0.8vmax;"></font>
                                    </div>

                                </div>
                            </div>
                            <div id="parameterSpacer5"
                                 style="width: 5%;  overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>


                            <div id="parameterBox8"
                                 style="margin:0px;width:45%;  position: relative; z-index: 1;display: inline-block; overflow: hidden;">
                                <div id="parameterBoxInner8"
                                     style="margin:0px; position: relative; z-index: 1;display: inline-block; font-size: 1vmax; font-family: Source Sans Pro;">
                                    <div style="margin:0px;width:100%; height: 10%; position: relative; z-index: 1; display: inline-block;"></div>
                                    <div id="hygDisText"
                                         style="margin:0px;width:100%; height: 30%; position: relative; z-index: 1; display: inline-block; text-align: left; color: hsla(270, 100%, 50%, 1);">
                                        Hygiene Distribution
                                    </div>
                                    <div id="parameter8Text"
                                         style="margin:0px;width:100%; height: 20%; position: relative; z-index: 1; display: inline-block; text-align: left;">
                                        Distribution Hygiene mean &nbsp<font id="parameter8Value"
                                                                             style="font-weight:bold; color:hsla(195, 100%, 50% , 1);">0.5</font><br/><font
                                            style="color:hsla(0, 0%, 60%, 1); font-size: 0.8vmax;"></font>
                                    </div>
                                    <div id="parameter9Text"
                                         style="margin:0px;width:100%; height: 20%; position: relative; z-index: 1; display: inline-block; text-align: left;">
                                        Distribution Hygiene Var &nbsp<font id="parameter9Value"
                                                                            style="font-weight:bold; color:hsla(195, 100%, 50% , 1);">1</font><br/><font
                                            style="color:hsla(0, 0%, 60%, 1); font-size: 0.8vmax;"></font>
                                    </div>

                                </div>
                            </div>
                            <div id="parameterSpacer5"
                                 style="width: 5%;  overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>

                        </div>
                        <div id="HSi7"
                             style="width: 100%; height: 15%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>


                    </div>
                </div>
                <div id="VSi2"
                     style="width: 2.5%; height: 100%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
            </div>

            <div id="HS3"
                 style="width: 100%; height: 1.5%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
        </div>
        <div id="VS4"
             style="width: 2%; height: 100%; overflow: hidden;position: relative; z-index: 1;display: inline-block;"></div>
    </div>
    <div id="BottomBar"
         style="width: 100%; height: 6%; overflow: hidden;position: relative; z-index: 2;display: inline-block; background: hsla(0, 0%, 92%, 1);">
        <div id="disclaimerBox"
             style="width: 100%; height: 100%; overflow: hidden;position: relative; z-index: 3;display: inline-flex; align-items: center; justify-content: center; font-size: 1vmax;">
            <div id="disclaimerText"
                 style="width: 90%; height: 100%; overflow: hidden;position: relative; z-index: 3;font-family: Source Sans Pro; font-size: 1vmax; text-align: center;">
                <div>
                    <font style="font-weight: bold; font-size: 1.1vmax;">Disclaimer</font><br/>
                    This tool uses an agent based model to simulate effect of different policies on virus spread. This
                    output of the model depends on model assumptions and parameter choices. <br/>
                    The model is not quantitatively correct, rather it should be used for qualitative comparison of
                    different strategies by invoking policies at different timeline. It should be used for informational
                    and research purposes only. Please carefully consider the parameters you choose. Interpret and use
                    the simulated results responsibly.
                </div>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript">

    function r_infodisplay(infodata) {
        document.getElementById('infoH').innerHTML = infodata
    }

    function r_setDarkMode() {
        if (r_darkmode) {
            r_darkmode = false;
            document.getElementById('r_darkmodeoption').style.backgroundColor = 'hsla(190, 100%, 0%, 0.2)';
            document.getElementById('r_darkmodeoption').style.color = 'hsla(190, 100%, 100%, 1)';
            document.getElementById('r_darkmodeoption').style.fontWeight = 'normal';

            document.body.style.background = 'white';

            document.getElementById('maintitle').style.color = 'hsla(190, 100%, 0%, 1)';
            document.getElementById('websitelink').style.color = 'hsla(260, 100%, 60%, 1)';
            document.getElementById('asimulationtext').style.color = 'hsla(190, 100%, 60%, 1)';

            document.getElementById('info').style.color = 'hsla(190, 100%, 0%, 1)';

            options = {};
            options.pointcolor = 'hsla(260, 100%, 50%, 1)';
            r_updatePoint('simulationgraph', 'cat', options);

            options = {};
            options.textcolor = 'hsla(260, 0%, 0%, 1)';
            r_updateText('simulationgraph', 'cattext', options);

            options = {};
            options.pointcolor = 'hsla(260, 0%, 0%, 1)';
            r_updatePoint('simulationgraph', 'mouse', options);

            options = {};
            options.textcolor = 'hsla(260, 0%, 0%, 1)';
            r_updateText('simulationgraph', 'mousetext', options);

            options = {};
            options.textcolor = 'hsla(260, 0%, 0%, 1)';
            document.getElementById('mousestatusdisplay').style.color = options.textcolor;

            document.getElementById('darkback').style.backgroundColor = 'transparent';

            document.getElementById('controltab').style.backgroundColor = "hsla(260, 100%, 50%, 0.4)";
            document.getElementById('strategytab').style.backgroundColor = "hsla(260, 100%, 50%, 0.4)";
            document.getElementById('settingtab').style.backgroundColor = "hsla(260, 100%, 50%, 0.4)";

            document.getElementById('controltab').style.color = "black";
            document.getElementById('strategytab').style.color = "black";
            document.getElementById('settingtab').style.color = "black";

            if (currenttab == 'controltab') {
                document.getElementById('controltab').style.color = "white";
                for (bn = 1; bn < 13; bn++) {
                    document.getElementById('cbtn' + bn).style.color = "black";
                    document.getElementById('cbtn' + bn).style.backgroundColor = "transparent"
                }
            }
            else if (currenttab == 'strategytab') {
                document.getElementById('strategytab').style.color = "white"
            }
            else if (currenttab == 'settingtab') {
                document.getElementById('settingtab').style.color = "white"
            }

            for (m = 0; m < strategies.length; m++) {
                if (statname == strategies[m]) {
                    document.getElementById(strategies[m]).style.color = 'hsla(190, 100%, 50%, 1)';
                    document.getElementById(strategies[m] + '-box').style.color = 'black'
                }
                else {
                    document.getElementById(strategies[m]).style.color = 'black';
                    document.getElementById(strategies[m] + '-box').style.color = 'black'
                }
            }


            document.getElementById('catspeedtext').style.color = "black";
            document.getElementById('catspeedinput').style.color = "black";
            document.getElementById('catspeedinput').style.backgroundColor = "transparent";
            document.getElementById('mousespeedtext').style.color = "black";
            document.getElementById('mousespeedinput').style.color = "black";
            document.getElementById('mousespeedinput').style.backgroundColor = "transparent";

            for (st = 0; st < 5; st++) {
                if (settingstatus[st]) {
                    document.getElementById(settingslist[st]).style.color = "hsla(190, 100%, 50%, 1)";
                    document.getElementById(settingslist[st] + '-box').style.color = "hsla(190, 100%, 0%, 1)"
                }
                else {
                    document.getElementById(settingslist[st]).style.color = "hsla(190, 100%, 0%, 1)";
                    document.getElementById(settingslist[st] + '-box').style.color = "hsla(190, 100%, 0%, 1)"
                }
            }

            options = {};
            options.circlecolor = 'hsla(190, 100%, 50%, 1)';
            r_updateCircle('simulationgraph', 'pond', options);

            options = {};
            options.pointcolor = 'hsla(200, 100%, 0%, 0.5)';
            r_updatePoint('simulationgraph', 'oppositePoint', options);

            if (mode != 'portrait') {
                for (stg = 0; stg < strategies.length; stg++) {
                    document.getElementById(strategies[stg]).style.backgroundColor = 'hsla(190, 100%, 0%, 0.1)'
                }
            }


        }
        else {
            r_darkmode = true;
            document.getElementById('r_darkmodeoption').style.backgroundColor = 'hsla(190, 100%, 50%, 1)';
            document.getElementById('r_darkmodeoption').style.color = 'hsla(190, 100%, 100%, 1)';
            document.getElementById('r_darkmodeoption').style.fontWeight = 'bold';

            document.body.style.background = 'black';

            document.getElementById('maintitle').style.color = 'hsla(190, 100%, 100%, 1)';

            document.getElementById('maintitle').style.color = 'hsla(190, 100%, 100%, 1)';
            document.getElementById('websitelink').style.color = 'hsla(260, 100%, 80%, 1)';
            document.getElementById('asimulationtext').style.color = 'hsla(190, 100%, 80%, 1)';

            document.getElementById('info').style.color = 'hsla(190, 0%, 90%, 1)';


            options = {};
            options.pointcolor = 'hsla(260, 100%, 100%, 1)';
            r_updatePoint('simulationgraph', 'cat', options);

            options = {};
            options.textcolor = 'hsla(260, 0%, 100%, 1)';
            r_updateText('simulationgraph', 'cattext', options);

            options = {};
            options.pointcolor = 'hsla(260, 0%, 100%, 1)';
            r_updatePoint('simulationgraph', 'mouse', options);

            options = {};
            options.textcolor = 'hsla(260, 0%, 100%, 1)';
            r_updateText('simulationgraph', 'mousetext', options);


            options = {};
            options.textcolor = 'hsla(260, 0%, 100%, 1)';
            document.getElementById('mousestatusdisplay').style.color = options.textcolor;

            document.getElementById('darkback').style.backgroundColor = 'hsla(190, 0%, 10%, 1)';

            if (currenttab == 'controltab') {
                document.getElementById('controltab').style.backgroundColor = "hsla(260, 0%, 20%, 1)";
                document.getElementById('controltab').style.color = "white";
                for (k = 1; k < 13; k++) {
                    document.getElementById('cbtn' + k).style.backgroundColor = "hsla(190, 100%, 0%, 1)";
                    document.getElementById('cbtn' + k).style.color = "hsla(190, 100%, 50%, 1)"
                }

            }
            else {
                document.getElementById('controltab').style.backgroundColor = "hsla(260, 0%, 0%, 1)";
                document.getElementById('controltab').style.color = "hsla(100, 0%, 55%, 1)"
            }

            if (currenttab == 'strategytab') {
                document.getElementById('strategytab').style.backgroundColor = "hsla(260, 0%, 20%, 1)";
                document.getElementById('strategytab').style.color = "white"
            }
            else {
                document.getElementById('strategytab').style.backgroundColor = "hsla(260, 0%, 0%, 1)";
                document.getElementById('strategytab').style.color = "hsla(100, 0%, 55%, 1)"
            }

            if (currenttab == 'settingtab') {
                document.getElementById('settingtab').style.backgroundColor = "hsla(260, 0%, 20%, 1)";
                document.getElementById('settingtab').style.color = "white"
            }
            else {
                document.getElementById('settingtab').style.backgroundColor = "hsla(260, 0%, 0%, 1)";
                document.getElementById('settingtab').style.color = "hsla(100, 0%, 55%, 1)"
            }

            statname = tactic;

            for (m = 0; m < strategies.length; m++) {
                if (statname == strategies[m]) {
                    document.getElementById(strategies[m]).style.color = 'hsla(190, 100%, 50%, 1)';
                    document.getElementById(strategies[m] + '-box').style.color = 'white'
                }
                else {
                    document.getElementById(strategies[m]).style.color = 'white';
                    document.getElementById(strategies[m] + '-box').style.color = 'white'
                }
            }

            document.getElementById('catspeedtext').style.color = "white";
            document.getElementById('catspeedinput').style.color = "white";
            document.getElementById('catspeedinput').style.backgroundColor = "black";
            document.getElementById('mousespeedtext').style.color = "white";
            document.getElementById('mousespeedinput').style.color = "white";
            document.getElementById('mousespeedinput').style.backgroundColor = "black";

            for (st = 0; st < 5; st++) {
                if (settingstatus[st]) {
                    document.getElementById(settingslist[st]).style.color = "hsla(190, 100%, 50%, 1)";
                    document.getElementById(settingslist[st] + '-box').style.color = "hsla(190, 100%, 100%, 1)"
                }
                else {
                    document.getElementById(settingslist[st]).style.color = "hsla(190, 100%, 100%, 1)";
                    document.getElementById(settingslist[st] + '-box').style.color = "hsla(190, 100%, 100%, 1)"
                }
            }

            options = {};
            options.circlecolor = 'hsla(200, 100%, 50%, 1)';
            r_updateCircle('simulationgraph', 'pond', options);

            options = {};
            options.pointcolor = 'hsla(200, 100%, 100%, 0.5)';
            r_updatePoint('simulationgraph', 'oppositePoint', options);

            if (mode != 'portrait') {
                for (stg = 0; stg < strategies.length; stg++) {
                    document.getElementById(strategies[stg]).style.backgroundColor = 'black'
                }
            }
        }
    }

    r_darkmode = false;

    if (r_darkmode) {
        document.body.style.background = 'black'
    }

    function r_graphToSvgY(value, graphymin, graphymax) {
        if (graphymin == graphymax) {
            graphymin = graphymin - 1;
            graphymax = graphymax + 1;
            console.log('Conversion error, maximum value is equal to minimum value. Max value was raised by 1 and Min value was reduced by 1. Max value : ' + graphymax + ' and Min value : ' + graphymin)
        }
        if (graphymin > graphymax) {
            temp = graphymin;
            graphymin = graphymax;
            graphymax = temp;
            console.log('Conversion error, maximum value less than minimum value. Values were swapped. Max value : ' + graphymax + ' and Min value : ' + graphymin)
        }
        y = ((-80) / (graphymax - graphymin)) * (value - graphymin) + 90;
        return y
    }

    function r_graphToScaledY(value, graphymin, graphymax, aspectratio) {
        if (aspectratio > 1) {
            if (graphymin == graphymax) {
                graphymin = graphymin - 1;
                graphymax = graphymax + 1;
                console.log('Conversion error, maximum value is equal to minimum value. Max value was raised by 1 and Min value was reduced by 1. Max value : ' + graphymax + ' and Min value : ' + graphymin)
            }
            if (graphymin > graphymax) {
                temp = graphymin;
                graphymin = graphymax;
                graphymax = temp;
                console.log('Conversion error, maximum value less than minimum value. Values were swapped. Max value : ' + graphymax + ' and Min value : ' + graphymin)
            }
            y = ((-80) / (graphymax - graphymin)) * (value - graphymin) + 90

        }
        else {
            if (graphymin == graphymax) {
                graphymin = graphymin - 1;
                graphymax = graphymax + 1;
                console.log('Conversion error, maximum value is equal to minimum value. Max value was raised by 1 and Min value was reduced by 1. Max value : ' + graphymax + ' and Min value : ' + graphymin)
            }
            if (graphymin > graphymax) {
                temp = graphymin;
                graphymin = graphymax;
                graphymax = temp;
                console.log('Conversion error, maximum value less than minimum value. Values were swapped. Max value : ' + graphymax + ' and Min value : ' + graphymin)
            }
            aspectratio = 1 / aspectratio;
            vl = (100 * (1 - aspectratio) / 2) + (10 * aspectratio);
            vh = (100 * (aspectratio + 1) / 2) - (10 * aspectratio);
            y = ((vl - vh) / (graphymax - graphymin)) * (value - graphymin) + vh;
            // console.log(x)
            // console.log(v1, v2)
            // y = (((v2 - v1)/(100))*(y)) + v1
        }

        return y
    }

    function r_svgToGraphY(percentvalue, graphymin, graphymax, aspectratio) {
        if (aspectratio > 1) {
            if (graphymin == graphymax) {
                graphymin = graphymin - 1;
                graphymax = graphymax + 1;
                console.log('Conversion error, maximum value is equal to minimum value. Max value was raised by 1 and Min value was reduced by 1. Max value : ' + graphymax + ' and Min value : ' + graphymin)
            }
            if (graphymin > graphymax) {
                temp = graphymin;
                graphymin = graphymax;
                graphymax = temp;
                console.log('Conversion error, maximum value less than minimum value. Values were swapped. Max value : ' + graphymax + ' and Min value : ' + graphymin)
            }

            y = ((percentvalue - 90) * (graphymax - graphymin) / ((-1) * 80)) + graphymin

        }
        else {
            if (graphymin == graphymax) {
                graphymin = graphymin - 1;
                graphymax = graphymax + 1;
                console.log('Conversion error, maximum value is equal to minimum value. Max value was raised by 1 and Min value was reduced by 1. Max value : ' + graphymax + ' and Min value : ' + graphymin)
            }
            if (graphymin > graphymax) {
                temp = graphymin;
                graphymin = graphymax;
                graphymax = temp;
                console.log('Conversion error, maximum value less than minimum value. Values were swapped. Max value : ' + graphymax + ' and Min value : ' + graphymin)
            }
            aspectratio = 1 / aspectratio;
            vl = (100 * (1 - aspectratio) / 2) + (10 * aspectratio);
            vh = (100 * (aspectratio + 1) / 2) - (10 * aspectratio);

            // y = ((vl - vh)/(graphymax - graphymin))*(value - graphymin) + vh
            y = (((percentvalue - vh) * (graphymax - graphymin)) / (vl - vh)) + graphymin;
            // console.log(x)
            // console.log(v1, v2)
            // y = (((v2 - v1)/(100))*(y)) + v1
        }

        return y
    }

    function r_graphToSvgX(value, graphxmin, graphxmax) {
        if (graphxmin == graphxmax) {
            graphxmin = graphxmin - 1;
            graphxmax = graphxmax + 1;
            console.log('Conversion error, maximum value is equal to minimum value. Max value was raised by 1 and Min value was reduced by 1. Max value : ' + graphxmax + ' and Min value : ' + graphxmin)
        }
        if (graphxmin > graphxmax) {
            temp = graphxmin;
            graphxmin = graphxmax;
            graphxmax = temp;
            console.log('Conversion error, maximum value less than minimum value. Values were swapped. Max value : ' + graphxmax + ' and Min value : ' + graphxmin)
        }
        x = ((80) / (graphxmax - graphxmin)) * (value - graphxmin) + 10;
        return x
    }

    function r_graphToScaledX(value, graphxmin, graphxmax, aspectratio) {
        if (aspectratio <= 1) {
            if (graphxmin == graphxmax) {
                graphxmin = graphxmin - 1;
                graphxmax = graphxmax + 1;
                console.log('Conversion error, maximum value is equal to minimum value. Max value was raised by 1 and Min value was reduced by 1. Max value : ' + graphxmax + ' and Min value : ' + graphxmin)
            }
            if (graphxmin > graphxmax) {
                temp = graphxmin;
                graphxmin = graphxmax;
                graphxmax = temp;
                console.log('Conversion error, maximum value less than minimum value. Values were swapped. Max value : ' + graphxmax + ' and Min value : ' + graphxmin)
            }
            x = ((80) / (graphxmax - graphxmin)) * (value - graphxmin) + 10
        }
        else {
            if (graphxmin == graphxmax) {
                graphxmin = graphxmin - 1;
                graphxmax = graphxmax + 1;
                console.log('Conversion error, maximum value is equal to minimum value. Max value was raised by 1 and Min value was reduced by 1. Max value : ' + graphxmax + ' and Min value : ' + graphxmin)
            }
            if (graphxmin > graphxmax) {
                temp = graphxmin;
                graphxmin = graphxmax;
                graphxmax = temp;
                console.log('Conversion error, maximum value less than minimum value. Values were swapped. Max value : ' + graphxmax + ' and Min value : ' + graphxmin)
            }
            vl = (100 * (1 - aspectratio) / 2) + (10 * aspectratio);
            vh = (100 * (aspectratio + 1) / 2) - (10 * aspectratio);
            x = ((vh - vl) / (graphxmax - graphxmin)) * (value - graphxmin) + vl;
            // console.log(x)
            // console.log(v1, v2)
            // y - y1 = (y2 - y1)/(x2 - x1) * (x - x1)
            // x = (((v2 - v1)/(90))*(x - 10)) + v1
            // console.log(x)
            // console.log('_')
        }
        return x
    }

    function r_svgToGraphX(percentvalue, graphxmin, graphxmax, aspectratio) {
        if (aspectratio <= 1) {
            if (graphxmin == graphxmax) {
                graphxmin = graphxmin - 1;
                graphxmax = graphxmax + 1;
                console.log('Conversion error, maximum value is equal to minimum value. Max value was raised by 1 and Min value was reduced by 1. Max value : ' + graphxmax + ' and Min value : ' + graphxmin)
            }
            if (graphxmin > graphxmax) {
                temp = graphxmin;
                graphxmin = graphxmax;
                graphxmax = temp;
                console.log('Conversion error, maximum value less than minimum value. Values were swapped. Max value : ' + graphxmax + ' and Min value : ' + graphxmin)
            }

            x = ((percentvalue - 10) * (graphxmax - graphxmin) / 80) + graphxmin
        }
        else {
            if (graphxmin == graphxmax) {
                graphxmin = graphxmin - 1;
                graphxmax = graphxmax + 1;
                console.log('Conversion error, maximum value is equal to minimum value. Max value was raised by 1 and Min value was reduced by 1. Max value : ' + graphxmax + ' and Min value : ' + graphxmin)
            }
            if (graphxmin > graphxmax) {
                temp = graphxmin;
                graphxmin = graphxmax;
                graphxmax = temp;
                console.log('Conversion error, maximum value less than minimum value. Values were swapped. Max value : ' + graphxmax + ' and Min value : ' + graphxmin)
            }
            vl = (100 * (1 - aspectratio) / 2) + (10 * aspectratio);
            vh = (100 * (aspectratio + 1) / 2) - (10 * aspectratio);

            // x = ((vh - vl)/(graphxmax - graphxmin))*(value - graphxmin) + vl

            x = ((percentvalue - vl) * (graphxmax - graphxmin) / (vh - vl)) + graphxmin;

            // y - y1 = (y2 - y1)/(x2 - x1) * (x - x1)
            // x = (((v2 - v1)/(90))*(x - 10)) + v1

        }
        return x
    }

    function r_isInt(n) {
        return Number(n) === n && n % 1 === 0;
    }

    function r_isFloat(n) {
        return Number(n) === n && n % 1 !== 0;
    }

    function r_gridtickvalues(valmin, valmax, ticksexpected) {
        expstring = ((valmax - valmin) / ticksexpected).toExponential();
        majorgridorder = parseFloat(Math.pow(10, expstring.slice(expstring.indexOf('e') + 1)));

        if (expstring.indexOf('.') != -1) {
            majorgriddivision = parseFloat(expstring.slice(0, expstring.indexOf('.')) * majorgridorder)
        }
        else {
            majorgriddivision = parseFloat(expstring.slice(0, expstring.indexOf('e')) * majorgridorder)
        }


        integerchoices = [1, 2, 5, 10];
        for (choice = 0; choice < integerchoices.length - 1; choice++) {
            if (majorgriddivision < integerchoices[choice + 1] * majorgridorder) {
                majorgriddivisionchoice = majorgridorder * integerchoices[choice];
                break
            }
        }

        if (valmin > 0) {
            majorgridstart = Math.ceil(valmin / majorgriddivisionchoice) * majorgriddivisionchoice;
            majorgridstart = majorgridstart - majorgriddivisionchoice
        }
        else if (valmin < 0) {
            majorgridstart = Math.floor(valmin / majorgriddivisionchoice) * majorgriddivisionchoice;
        }
        else {
            majorgridstart = majorgriddivisionchoice;
        }

        // majorgridstart = majorgridstart - majorgriddivisionchoice
        // console.log(majorgridstart, (valmax + majorgriddivisionchoice), majorgriddivisionchoice)

        majortickvalues = [];
        for (majoraxispoint = majorgridstart; majoraxispoint < (valmax + majorgriddivisionchoice); majoraxispoint = majoraxispoint + majorgriddivisionchoice) {
            majortickvalues.push(majoraxispoint)
        }

        return majortickvalues
    }

    function r_updateGraphZoom(graphname, newMinMax) {
        gdata = r_graphData[graphname];

        svgElement = gdata.svgElement;

        if (newMinMax.xmin != 0) {
            gdata.xmin = newMinMax.xmin || gdata.xmin
        }
        else {
            gdata.xmin = 0
        }

        if (newMinMax.xmax != 0) {
            gdata.xmax = newMinMax.xmax || gdata.xmax
        }
        else {
            gdata.xmax = 0
        }

        if (newMinMax.ymin != 0) {
            gdata.ymin = newMinMax.ymin || gdata.ymin
        }
        else {
            gdata.ymin = 0
        }

        if (newMinMax.ymax != 0) {
            gdata.ymax = newMinMax.ymax || gdata.ymax
        }
        else {
            gdata.ymax = 0
        }

        aratio = gdata.aspectratio;

        if (gdata.unitAspectRatio == 'yes') {
            if (gdata.fixAxis == 'yaxis') {
                if (gdata.fixAxisStretchCentrally == 'yes') {
                    centre = (gdata.xmax + gdata.xmin) / 2;
                    gdata.xmin = centre - ((gdata.ymax - gdata.ymin) * aratio / 2);
                    gdata.xmax = centre + ((gdata.ymax - gdata.ymin) * aratio / 2)
                }
                else {
                    gdata.xmax = gdata.xmin + (gdata.ymax - gdata.ymin) * aratio
                }

            }
            else {
                if (gdata.fixAxisStretchCentrally == 'yes') {
                    centre = (gdata.ymax + gdata.ymin) / 2;
                    gdata.ymin = centre - ((gdata.xmax - gdata.xmin) * aratio / 2);
                    gdata.ymax = centre + ((gdata.xmax - gdata.xmin) * aratio / 2)
                }
                else {
                    gdata.ymax = gdata.ymin + (gdata.xmax - gdata.xmin) * aratio
                }

            }
        }

        if (gdata.yaxisvisibility == 'yes') {
            var lineElement = gdata.yaxisElement;
            lineElement.setAttribute('x1', r_graphToScaledX(gdata.axislocationX, gdata.xmin, gdata.xmax, aratio) + '%');
            lineElement.setAttribute('y1', r_graphToScaledY(gdata.ymax, gdata.ymin, gdata.ymax, aratio) + '%');
            lineElement.setAttribute('x2', r_graphToScaledX(gdata.axislocationX, gdata.xmin, gdata.xmax, aratio) + '%');
            lineElement.setAttribute('y2', r_graphToScaledY(gdata.ymin, gdata.ymin, gdata.ymax, aratio) + '%');
            if (r_darkmode == false) {
                lineElement.style.stroke = gdata.yaxiscolor
            }
            else {
                lineElement.style.stroke = 'hsla(0, 0%, 100%, 1)'
            }
            gdata.yaxisElement = lineElement
        }

        if (gdata.xaxisvisibility == 'yes') {
            var lineElement = gdata.xaxisElement;
            lineElement.setAttribute('x1', r_graphToScaledX(gdata.xmin, gdata.xmin, gdata.xmax, aratio) + '%');
            lineElement.setAttribute('y1', r_graphToScaledY(gdata.axislocationY, gdata.ymin, gdata.ymax, aratio) + '%');
            lineElement.setAttribute('x2', r_graphToScaledX(gdata.xmax, gdata.xmin, gdata.xmax, aratio) + '%');
            lineElement.setAttribute('y2', r_graphToScaledY(gdata.axislocationY, gdata.ymin, gdata.ymax, aratio) + '%');
            if (r_darkmode == false) {
                lineElement.style.stroke = gdata.xaxiscolor
            }
            else {
                lineElement.style.stroke = 'hsla(0, 0%, 100%, 1)'
            }
            gdata.xaxisElement = lineElement
        }

        r_deleteSegments(gdata.xmajorgridElements);

        ticks = gdata.gridlinenumberX;

        if (gdata.xmajorgridlinesvisibility == 'yes') {
            xmajortickvalues = r_gridtickvalues(gdata.xmin, gdata.xmax, ticks);
            gdata.xmajorgridElements = [];
            for (m = 0; m < xmajortickvalues.length; m++) {
                ticklocation = xmajortickvalues[m];
                var lineElement = document.createElementNS("http://www.w3.org/2000/svg", 'line');
                ylength = (gdata.ymax - gdata.ymin);
                if (gdata.xmajorgridlinesextension == 'yes') {
                    lineElement.setAttribute('x1', r_graphToScaledX(ticklocation, gdata.xmin, gdata.xmax, aratio) + '%');
                    lineElement.setAttribute('y1', r_graphToScaledY(gdata.ymin - (ylength) / 2, gdata.ymin, gdata.ymax, aratio) + '%');
                    lineElement.setAttribute('vector-effect', 'non-scaling-stroke');
                    lineElement.setAttribute('x2', r_graphToScaledX(ticklocation, gdata.xmin, gdata.xmax, aratio) + '%');
                    lineElement.setAttribute('y2', r_graphToScaledY(gdata.ymax + (ylength) / 2, gdata.ymin, gdata.ymax, aratio) + '%');

                }
                else {
                    lineElement.setAttribute('x1', r_graphToScaledX(ticklocation, gdata.xmin, gdata.xmax, aratio) + '%');
                    lineElement.setAttribute('y1', r_graphToScaledY(gdata.ymin, gdata.ymin, gdata.ymax, aratio) + '%');
                    lineElement.setAttribute('vector-effect', 'non-scaling-stroke');
                    lineElement.setAttribute('x2', r_graphToScaledX(ticklocation, gdata.xmin, gdata.xmax, aratio) + '%');
                    lineElement.setAttribute('y2', r_graphToScaledY(gdata.ymax, gdata.ymin, gdata.ymax, aratio) + '%');
                    lineElement.setAttribute('id', gdata.name + '-xmajorgridline-' + m)
                }
                if (r_darkmode == false) {
                    lineElement.style.stroke = gdata.xmajorgridcolor
                }
                else {
                    lineElement.style.stroke = 'hsla(0, 0%, 100%, 1)'
                }
                lineElement.setAttribute('id', gdata.name + '-xmajorgridline-' + m);
                lineElement.style.strokeWidth = gdata.xmajorgridthickness + '%';
                gdata.xmajorgridElements.push(lineElement);
                svgElement.appendChild(lineElement);
            }
            gdata.xmajorgridticks = xmajortickvalues
        }

        r_deleteSegments(gdata.ymajorgridElements);

        ticks = gdata.gridlinenumberY;

        if (gdata.ymajorgridlinesvisibility == 'yes') {
            ymajortickvalues = r_gridtickvalues(gdata.ymin, gdata.ymax, ticks);
            gdata.ymajorgridElements = [];
            for (m = 0; m < ymajortickvalues.length; m++) {
                ticklocation = ymajortickvalues[m];
                var lineElement = document.createElementNS("http://www.w3.org/2000/svg", 'line');
                xlength = (gdata.xmax - gdata.xmin);
                if (gdata.ymajorgridlinesextension == 'yes') {
                    lineElement.setAttribute('x1', r_graphToScaledX((gdata.xmin) - xlength / 2, gdata.xmin, gdata.xmax, aratio) + '%');
                    lineElement.setAttribute('y1', r_graphToScaledY(ticklocation, gdata.ymin, gdata.ymax, aratio) + '%');
                    lineElement.setAttribute('vector-effect', 'non-scaling-stroke');
                    lineElement.setAttribute('x2', r_graphToScaledX(gdata.xmax + (xlength / 2), gdata.xmin, gdata.xmax, aratio) + '%');
                    lineElement.setAttribute('y2', r_graphToScaledY(ticklocation, gdata.ymin, gdata.ymax, aratio) + '%');
                }
                else {
                    lineElement.setAttribute('x1', r_graphToScaledX(gdata.xmin, gdata.xmin, gdata.xmax, aratio) + '%');
                    lineElement.setAttribute('y1', r_graphToScaledY(ticklocation, gdata.ymin, gdata.ymax, aratio) + '%');
                    lineElement.setAttribute('vector-effect', 'non-scaling-stroke');
                    lineElement.setAttribute('x2', r_graphToScaledX(gdata.xmax, gdata.xmin, gdata.xmax, aratio) + '%');
                    lineElement.setAttribute('y2', r_graphToScaledY(ticklocation, gdata.ymin, gdata.ymax, aratio) + '%');
                }
                lineElement.setAttribute('id', gdata.name + '-ymajorgridline-' + m);
                if (r_darkmode == false) {
                    lineElement.style.stroke = gdata.ymajorgridcolor
                }
                else {
                    lineElement.style.stroke = 'hsla(0, 0%, 100%, 1)'
                }
                lineElement.setAttribute('id', gdata.name + '-ymajorgridline-' + m);
                lineElement.style.strokeWidth = gdata.ymajorgridthickness + '%';
                gdata.ymajorgridElements.push(lineElement);
                svgElement.appendChild(lineElement);
            }
            gdata.ymajorgridticks = ymajortickvalues
        }

        r_deleteSegments(gdata.ymajorlabelsElements);


        ticks = gdata.gridlinenumberY;

        if (gdata.ymajorgridlabelvisibility == 'yes') {
            gdata.ymajorlabelsElements = [];
            ymajortickvalues = r_gridtickvalues(gdata.ymin, gdata.ymax, ticks);
            scale = gdata.ymax - gdata.ymin;
            expstring = scale.toExponential().toString();
            order = (expstring.slice(expstring.indexOf('e') + 1) * (-1));
            labelylocationX = gdata.axislocationX;
            if (r_graphToScaledX(gdata.axislocationX, gdata.xmin, gdata.xmax, aratio) < 0) {
                labelylocationX = gdata.xmin
            }
            if (r_graphToScaledX(gdata.axislocationX, gdata.xmin, gdata.xmax, aratio) > 100) {
                labelylocationX = gdata.xmax
            }
            for (m = gdata.ylabelexclusionsstart; m < ymajortickvalues.length - gdata.ylabelexclusionsend; m++) {
                ticklocation = ymajortickvalues[m];
                value = ticklocation;
                if (eval(gdata.ymajorgridlabelOnlyIf)) {

                    var textElement = document.createElementNS("http://www.w3.org/2000/svg", 'text');


                    if (r_isInt(ticklocation)) {
                        if (gdata.isComplexPlane == 'yes') {
                            textElement.innerHTML = ticklocation + 'i'
                        }
                        else {
                            textElement.innerHTML = ticklocation
                        }
                    }
                    else {

                        if (Math.abs(ticklocation) < 0.01 && order > 2) {
                            ticklocation = ticklocation.toExponential(order)

                        }
                        else {
                            ticklocation = ticklocation.toFixed(order + 1)
                        }
                        if (gdata.isComplexPlane == 'yes') {
                            textElement.innerHTML = ticklocation + 'i'
                        }
                        else {
                            textElement.innerHTML = ticklocation
                        }
                        if (ticklocation == 0) {
                            textElement.innerHTML = 0
                        }

                    }


                    textElement.setAttribute('x', r_graphToScaledX(labelylocationX, gdata.xmin, gdata.xmax, aratio) + 0.5 + gdata.ymajorgridlabelshift + '%');
                    textElement.setAttribute('y', r_graphToScaledY(ticklocation, gdata.ymin, gdata.ymax, aratio) + 0.5 + '%');
                    textElement.setAttribute('id', gdata.name + '-yticklabel-' + m);
                    textElement.style.fontSize = gdata.fontSize;
                    textElement.style.fontFamily = 'Source Sans Pro';
                    textElement.style.userSelect = 'none';
                    // textElement.setAttribute('text-anchor', 'middle')
                    textElement.style.fill = gdata.ymajorgridlabelcolor;
                    if (r_darkmode == false) {
                        textElement.style.fill = gdata.ymajorgridlabelcolor
                    }
                    else {
                        textElement.style.fill = 'hsla(0, 0%, 100%, 1)'
                    }
                    svgElement.appendChild(textElement);

                    gdata.ymajorlabelsElements.push(textElement)
                }

            }
        }


        r_deleteSegments(gdata.xmajorlabelsElements);

        ticks = gdata.gridlinenumberX;

        if (gdata.xmajorgridlabelvisibility == 'yes') {
            gdata.xmajorlabelsElements = [];
            xmajortickvalues = r_gridtickvalues(gdata.xmin, gdata.xmax, ticks);
            scale = gdata.xmax - gdata.xmin;
            expstring = scale.toExponential().toString();
            order = (expstring.slice(expstring.indexOf('e') + 1) * (-1));

            labelxlocationY = gdata.axislocationY;
            if (r_graphToScaledY(gdata.axislocationY, gdata.ymin, gdata.ymax, aratio) < 0) {
                labelxlocationY = gdata.ymax
            }
            if (r_graphToScaledY(gdata.axislocationY, gdata.ymin, gdata.ymax, aratio) > 100) {
                labelxlocationY = gdata.ymin
            }


            for (m = gdata.xlabelexclusionsstart; m < xmajortickvalues.length - gdata.xlabelexclusionsend; m++) {
                ticklocation = xmajortickvalues[m];

                value = ticklocation;
                if (eval(gdata.xmajorgridlabelOnlyIf)) {

                    var textElement = document.createElementNS("http://www.w3.org/2000/svg", 'text');

                    if (r_isInt(ticklocation)) {
                        textElement.innerHTML = ticklocation
                    }
                    else {

                        if (Math.abs(ticklocation) < 0.01 && order > 2) {
                            ticklocation = ticklocation.toExponential(order)


                        }
                        else {
                            ticklocation = ticklocation.toFixed(order + 1)
                        }
                        textElement.innerHTML = ticklocation;

                        if (ticklocation == 0) {
                            textElement.innerHTML = 0
                        }

                    }

                    transformedXval = r_graphToScaledX(ticklocation, gdata.xmin, gdata.xmax, aratio) - 1;
                    textElement.setAttribute('x', transformedXval + '%');
                    transformedYval = r_graphToScaledY(labelxlocationY, gdata.ymin, gdata.ymax, aratio) + 2 + gdata.xmajorgridlabelshift;
                    textElement.setAttribute('y', transformedYval + '%');
                    textElement.setAttribute('id', gdata.name + '-xticklabel-' + m);
                    textElement.style.fontSize = gdata.fontSize;
                    textElement.style.userSelect = 'none';
                    textElement.setAttribute('text-anchor', 'middle');
                    if (parseFloat(order) >= 2) {
                        textElement.setAttribute('transform', 'rotate(90, ' + transformedXval + ', ' + transformedYval + ')')
                    }
                    textElement.style.fontFamily = 'Source Sans Pro';
                    if (r_darkmode == false) {
                        textElement.style.fill = gdata.xmajorgridlabelcolor
                    }
                    else {
                        textElement.style.fill = 'hsla(0, 0%, 100%, 1)'
                    }
                    svgElement.appendChild(textElement);

                    gdata.xmajorlabelsElements.push(textElement)
                }

            }
        }


        if (gdata.xaxislabelvisibility == 'yes') {
            var textElement = gdata.xaxislabelElement;
            textElement.setAttribute('x', r_graphToScaledX(gdata.xmax, gdata.xmin, gdata.xmax, aratio) + gdata.xaxislabelshift + '%');
            textElement.setAttribute('y', r_graphToScaledY(gdata.axislocationY, gdata.ymin, gdata.ymax, aratio) + 1 + '%');
            gdata.xaxislabelElement = textElement
        }


        if (gdata.yaxislabelvisibility == 'yes') {
            var textElement = gdata.yaxislabelElement;
            textElement.setAttribute('x', r_graphToScaledX(gdata.axislocationX, gdata.xmin, gdata.xmax, aratio) + 0 + '%');
            textElement.setAttribute('y', r_graphToScaledY(gdata.ymax, gdata.ymin, gdata.ymax, aratio) - gdata.yaxislabelshift + '%');
            gdata.yaxislabelElement = textElement

        }


        for (var key in gdata.lineData) {
            lineElement = gdata.lineData[key][0];
            lineoptions = gdata.lineData[key][1];

            lineElement.setAttribute('x1', r_graphToScaledX(lineoptions.x1, gdata.xmin, gdata.xmax, aratio) + '%');
            lineElement.setAttribute('y1', r_graphToScaledY(lineoptions.y1, gdata.ymin, gdata.ymax, aratio) + '%');
            lineElement.setAttribute('x2', r_graphToScaledX(lineoptions.x2, gdata.xmin, gdata.xmax, aratio) + '%');
            lineElement.setAttribute('y2', r_graphToScaledY(lineoptions.y2, gdata.ymin, gdata.ymax, aratio) + '%');
        }

        for (var key in gdata.circleData) {
            circleElement = gdata.circleData[key][0];
            circleoptions = gdata.circleData[key][1];
            rx = r_distanceBTWgraphToSvg([0, 0], [circleoptions.radius, 0], gdata.xmin, gdata.xmax, gdata.ymin, gdata.ymax, aratio);
            ry = r_distanceBTWgraphToSvg([0, 0], [0, circleoptions.radius], gdata.xmin, gdata.xmax, gdata.ymin, gdata.ymax, aratio);
            circleElement.setAttribute('cx', r_graphToScaledX(circleoptions.x, gdata.xmin, gdata.xmax, aratio) + '%');
            circleElement.setAttribute('cy', r_graphToScaledY(circleoptions.y, gdata.ymin, gdata.ymax, aratio) + '%');
            circleElement.setAttribute('rx', rx + '%');
            circleElement.setAttribute('ry', ry + '%');

        }

        for (var key in gdata.pathData) {
            pathElement = gdata.pathData[key][0];
            pathoptions = gdata.pathData[key][1];
            pathstring = 'M';
            for (pth = 0; pth < pathoptions.points.length; pth++) {
                if (pth == 0) {
                    pathstring = pathstring + r_graphToScaledX(pathoptions.points[pth][0], gdata.xmin, gdata.xmax, aratio) + ' ' + r_graphToScaledY(pathoptions.points[pth][1], gdata.ymin, gdata.ymax, aratio) + ' '
                }
                else {
                    pathstring = pathstring + 'L' + r_graphToScaledX(pathoptions.points[pth][0], gdata.xmin, gdata.xmax, aratio) + ' ' + r_graphToScaledY(pathoptions.points[pth][1], gdata.ymin, gdata.ymax, aratio) + ' '
                }
            }
            pathElement.setAttribute('d', pathstring);

        }

        for (var key in gdata.ellipseData) {
            ellipseElement = gdata.ellipseData[key][0];
            ellipseoptions = gdata.ellipseData[key][1];
            rx = r_distanceBTWgraphToSvg([0, 0], [ellipseoptions.rx, 0], gdata.xmin, gdata.xmax, gdata.ymin, gdata.ymax, aratio);
            ry = r_distanceBTWgraphToSvg([0, 0], [0, ellipseoptions.ry], gdata.xmin, gdata.xmax, gdata.ymin, gdata.ymax, aratio);
            ellipseElement.setAttribute('cx', r_graphToScaledX(ellipseoptions.x, gdata.xmin, gdata.xmax, aratio) + '%');
            ellipseElement.setAttribute('cy', r_graphToScaledY(ellipseoptions.y, gdata.ymin, gdata.ymax, aratio) + '%');
            ellipseElement.setAttribute('rx', rx + '%');
            ellipseElement.setAttribute('ry', ry + '%');

        }

        for (var key in gdata.textData) {
            textElement = gdata.textData[key][0];
            textoptions = gdata.textData[key][1];
            textElement.setAttribute('x', r_graphToScaledX(textoptions.x, gdata.xmin, gdata.xmax, aratio) + '%');
            textElement.setAttribute('y', r_graphToScaledY(textoptions.y, gdata.ymin, gdata.ymax, aratio) + '%');

        }

        for (var key in gdata.rectData) {
            rectElement = gdata.rectData[key][0];
            rectoptions = gdata.rectData[key][1];


            rx = r_distanceBTWgraphToSvg([0, 0], [rectoptions.w, 0], gdata.xmin, gdata.xmax, gdata.ymin, gdata.ymax, aratio);
            ry = r_distanceBTWgraphToSvg([0, 0], [0, rectoptions.h], gdata.xmin, gdata.xmax, gdata.ymin, gdata.ymax, aratio);

            rectElement.setAttribute('x', r_graphToScaledX(rectoptions.x, gdata.xmin, gdata.xmax, aratio) + '%');
            rectElement.setAttribute('y', r_graphToScaledY(rectoptions.y, gdata.ymin, gdata.ymax, aratio) + '%');
            rectElement.setAttribute('width', rx + '%');
            rectElement.setAttribute('height', ry + '%');
        }

        for (var key in gdata.pointData) {
            pointElement = gdata.pointData[key][0];
            pointoptions = gdata.pointData[key][1];


            pointElement.setAttribute('cx', r_graphToScaledX(pointoptions.x, gdata.xmin, gdata.xmax, aratio) + '%');
            pointElement.setAttribute('cy', r_graphToScaledY(pointoptions.y, gdata.ymin, gdata.ymax, aratio) + '%');
        }
    }

    function r_addGraph(parentdiv, name, gdata) {
        gdata = gdata || {};

        gdata.name = name || 'graph' + Math.random().toString();

        if (gdata.axislocationX != 0) {
            gdata.axislocationX = gdata.axislocationX || 0
        }
        else {
            gdata.axislocationX = 0
        }
        if (gdata.axislocationY != 0) {
            gdata.axislocationY = gdata.axislocationY || 0
        }
        else {
            gdata.axislocationY = 0
        }
        if (gdata.xmin != 0) {
            gdata.xmin = gdata.xmin || -1
        }
        else {
            gdata.xmin = 0
        }
        if (gdata.xmax != 0) {
            gdata.xmax = gdata.xmax || -1
        }
        else {
            gdata.xmax = 0
        }
        if (gdata.ymin != 0) {
            gdata.ymin = gdata.ymin || -1
        }
        else {
            gdata.ymin = 0
        }
        if (gdata.ymax != 0) {
            gdata.ymax = gdata.ymax || -1
        }
        else {
            gdata.ymax = 0
        }

        gdata.unitAspectRatio = gdata.unitAspectRatio || 'no';
        gdata.fixAxis = gdata.fixAxis || 'yaxis';
        gdata.fixAxisStretchCentrally = gdata.fixAxisStretchCentrally || 'no';


        gdata.xaxisvisibility = gdata.xaxisvisibility || 'yes';
        gdata.yaxisvisibility = gdata.yaxisvisibility || 'yes';

        gdata.xaxislabelvisibility = gdata.xaxislabelvisibility || 'yes';
        gdata.yaxislabelvisibility = gdata.yaxislabelvisibility || 'yes';

        gdata.xmajorgridlinesvisibility = gdata.xmajorgridlinesvisibility || 'yes';
        gdata.ymajorgridlinesvisibility = gdata.ymajorgridlinesvisibility || 'yes';

        gdata.position = gdata.position || 'absolute';

        var svgElement = document.createElementNS("http://www.w3.org/2000/svg", 'svg');
        svgElement.setAttribute('height', "100%");
        svgElement.setAttribute('width', '100%');
        svgElement.setAttribute('viewBox', "0 0 100 100");
        // svgElement.setAttribute('preserveAspectRatio',"none")
        svgElement.setAttribute('id', name);
        svgElement.style.position = gdata.position;
        svgElement.style.left = '0%';
        svgElement.style.top = '0%';
        parentdiv.appendChild(svgElement);
        gdata.svgElement = svgElement;
        gdata.parentElement = parentdiv;

        gdata.fontSize = gdata.fontSize || 5;

        gdata.gridlinenumberX = gdata.gridlinenumberX || 10;
        gdata.gridlinenumberY = gdata.gridlinenumberY || 10;


        gdata.parentW = parentdiv.getBoundingClientRect().width;
        gdata.parentH = parentdiv.getBoundingClientRect().height;

        aratio = gdata.parentW / gdata.parentH;


        if (gdata.unitAspectRatio == 'yes') {
            if (gdata.fixAxis == 'yaxis') {
                if (gdata.fixAxisStretchCentrally == 'yes') {
                    centre = (gdata.xmax + gdata.xmin) / 2;
                    gdata.xmin = centre - ((gdata.ymax - gdata.ymin) * aratio / 2);
                    gdata.xmax = centre + ((gdata.ymax - gdata.ymin) * aratio / 2)
                }
                else {
                    gdata.xmax = gdata.xmin + (gdata.ymax - gdata.ymin) * aratio
                }

            }
            else {
                if (gdata.fixAxisStretchCentrally == 'yes') {
                    centre = (gdata.ymax + gdata.ymin) / 2;
                    gdata.ymin = centre - ((gdata.xmax - gdata.xmin) * aratio / 2);
                    gdata.ymax = centre + ((gdata.xmax - gdata.xmin) * aratio / 2)
                }
                else {
                    gdata.ymax = gdata.ymin + (gdata.xmax - gdata.xmin) * aratio
                }

            }
        }


        if (r_darkmode) {
            gdata.yaxiscolor = gdata.yaxiscolor || 'hsla(0, 100%, 100%, 1)';
            gdata.xaxiscolor = gdata.xaxiscolor || 'hsla(0, 100%, 100%, 1)';
            gdata.xmajorgridlabelcolor = gdata.xmajorgridlabelcolor || 'hsla(0, 100%, 100%, 1)';
            gdata.ymajorgridlabelcolor = gdata.ymajorgridlabelcolor || 'hsla(0, 100%, 100%, 1)';
            gdata.xmajorgridcolor = gdata.xmajorgridcolor || 'hsla(0, 100%, 100%, 1)';
            gdata.ymajorgridcolor = gdata.ymajorgridcolor || 'hsla(0, 100%, 100%, 1)'
        }

        gdata.yaxisthickness = gdata.yaxisthickness || 0.5;
        gdata.yaxiscolor = gdata.yaxiscolor || 'hsla(0, 50%, 0%, 1)';


        if (gdata.yaxisvisibility == 'yes') {
            var lineElement = document.createElementNS("http://www.w3.org/2000/svg", 'line');
            lineElement.setAttribute('x1', r_graphToScaledX(gdata.axislocationX, gdata.xmin, gdata.xmax, aratio) + '%');
            lineElement.setAttribute('y1', r_graphToScaledY(gdata.ymax, gdata.ymin, gdata.ymax, aratio) + '%');
            lineElement.setAttribute('vector-effect', 'non-scaling-stroke');
            lineElement.setAttribute('x2', r_graphToScaledX(gdata.axislocationX, gdata.xmin, gdata.xmax, aratio) + '%');
            lineElement.setAttribute('y2', r_graphToScaledY(gdata.ymin, gdata.ymin, gdata.ymax, aratio) + '%');
            lineElement.setAttribute('id', gdata.name + '-yaxis');
            lineElement.style.stroke = gdata.yaxiscolor;
            lineElement.style.strokeWidth = gdata.yaxisthickness + '%';
            gdata.yaxisElement = lineElement;
            svgElement.appendChild(lineElement);
        }

        gdata.xaxisthickness = gdata.xaxisthickness || 0.5;
        gdata.xaxiscolor = gdata.xaxiscolor || 'hsla(0, 50%, 0%, 1)';


        if (gdata.xaxisvisibility == 'yes') {
            var lineElement = document.createElementNS("http://www.w3.org/2000/svg", 'line');
            lineElement.setAttribute('x1', r_graphToScaledX(gdata.xmin, gdata.xmin, gdata.xmax, aratio) + '%');
            lineElement.setAttribute('y1', r_graphToScaledY(gdata.axislocationY, gdata.ymin, gdata.ymax, aratio) + '%');
            lineElement.setAttribute('vector-effect', 'non-scaling-stroke');
            lineElement.setAttribute('x2', r_graphToScaledX(gdata.xmax, gdata.xmin, gdata.xmax, aratio) + '%');
            lineElement.setAttribute('y2', r_graphToScaledY(gdata.axislocationY, gdata.ymin, gdata.ymax, aratio) + '%');
            lineElement.setAttribute('id', gdata.name + '-xaxis');
            lineElement.style.stroke = gdata.xaxiscolor;
            lineElement.style.strokeWidth = gdata.xaxisthickness + '%';
            gdata.xaxisElement = lineElement;
            svgElement.appendChild(lineElement);
        }


        gdata.xmajorgridcolor = gdata.xmajorgridcolor || 'hsla(190, 0%, 50%, 1)';
        gdata.xmajorgridthickness = gdata.xmajorgridthickness || 0.3;

        gdata.xmajorgridlinesextension = gdata.xmajorgridlinesextension || 'yes';
        gdata.ymajorgridlinesextension = gdata.ymajorgridlinesextension || 'yes';

        ticks = gdata.gridlinenumberX;

        if (gdata.xmajorgridlinesvisibility == 'yes') {
            xmajortickvalues = r_gridtickvalues(gdata.xmin, gdata.xmax, ticks);
            gdata.xmajorgridElements = [];
            for (m = 0; m < xmajortickvalues.length; m++) {
                ticklocation = xmajortickvalues[m];
                var lineElement = document.createElementNS("http://www.w3.org/2000/svg", 'line');
                ylength = (gdata.ymax - gdata.ymin);
                if (gdata.xmajorgridlinesextension == 'yes') {
                    lineElement.setAttribute('x1', r_graphToScaledX(ticklocation, gdata.xmin, gdata.xmax, aratio) + '%');
                    lineElement.setAttribute('y1', r_graphToScaledY(gdata.ymin - (ylength) / 2, gdata.ymin, gdata.ymax, aratio) + '%');
                    lineElement.setAttribute('vector-effect', 'non-scaling-stroke');
                    lineElement.setAttribute('x2', r_graphToScaledX(ticklocation, gdata.xmin, gdata.xmax, aratio) + '%');
                    lineElement.setAttribute('y2', r_graphToScaledY(gdata.ymax + (ylength) / 2, gdata.ymin, gdata.ymax, aratio) + '%');

                }
                else {
                    lineElement.setAttribute('x1', r_graphToScaledX(ticklocation, gdata.xmin, gdata.xmax, aratio) + '%');
                    lineElement.setAttribute('y1', r_graphToScaledY(gdata.ymin, gdata.ymin, gdata.ymax, aratio) + '%');
                    lineElement.setAttribute('vector-effect', 'non-scaling-stroke');
                    lineElement.setAttribute('x2', r_graphToScaledX(ticklocation, gdata.xmin, gdata.xmax, aratio) + '%');
                    lineElement.setAttribute('y2', r_graphToScaledY(gdata.ymax, gdata.ymin, gdata.ymax, aratio) + '%');
                    lineElement.setAttribute('id', gdata.name + '-xmajorgridline-' + m)
                }
                lineElement.setAttribute('id', gdata.name + '-xmajorgridline-' + m);
                lineElement.style.stroke = gdata.xmajorgridcolor;
                lineElement.style.strokeWidth = gdata.xmajorgridthickness + '%';
                gdata.xmajorgridElements.push(lineElement);
                svgElement.appendChild(lineElement);
            }
            gdata.xmajorgridticks = xmajortickvalues
        }

        gdata.ymajorgridcolor = gdata.ymajorgridcolor || 'hsla(190, 0%, 50%, 1)';
        gdata.ymajorgridthickness = gdata.ymajorgridthickness || 0.3;


        ticks = gdata.gridlinenumberY;


        if (gdata.ymajorgridlinesvisibility == 'yes') {
            ymajortickvalues = r_gridtickvalues(gdata.ymin, gdata.ymax, ticks);
            gdata.ymajorgridElements = [];
            for (m = 0; m < ymajortickvalues.length; m++) {
                ticklocation = ymajortickvalues[m];
                var lineElement = document.createElementNS("http://www.w3.org/2000/svg", 'line');
                xlength = (gdata.xmax - gdata.xmin);
                if (gdata.ymajorgridlinesextension == 'yes') {
                    lineElement.setAttribute('x1', r_graphToScaledX((gdata.xmin) - xlength / 2, gdata.xmin, gdata.xmax, aratio) + '%');
                    lineElement.setAttribute('y1', r_graphToScaledY(ticklocation, gdata.ymin, gdata.ymax, aratio) + '%');
                    lineElement.setAttribute('vector-effect', 'non-scaling-stroke');
                    lineElement.setAttribute('x2', r_graphToScaledX(gdata.xmax + (xlength / 2), gdata.xmin, gdata.xmax, aratio) + '%');
                    lineElement.setAttribute('y2', r_graphToScaledY(ticklocation, gdata.ymin, gdata.ymax, aratio) + '%');
                }
                else {
                    lineElement.setAttribute('x1', r_graphToScaledX(gdata.xmin, gdata.xmin, gdata.xmax, aratio) + '%');
                    lineElement.setAttribute('y1', r_graphToScaledY(ticklocation, gdata.ymin, gdata.ymax, aratio) + '%');
                    lineElement.setAttribute('vector-effect', 'non-scaling-stroke');
                    lineElement.setAttribute('x2', r_graphToScaledX(gdata.xmax, gdata.xmin, gdata.xmax, aratio) + '%');
                    lineElement.setAttribute('y2', r_graphToScaledY(ticklocation, gdata.ymin, gdata.ymax, aratio) + '%');
                }
                lineElement.setAttribute('id', gdata.name + '-ymajorgridline-' + m);
                lineElement.style.stroke = gdata.ymajorgridcolor;
                lineElement.style.strokeWidth = gdata.ymajorgridthickness + '%';
                gdata.ymajorgridElements.push(lineElement);
                svgElement.appendChild(lineElement);
            }
            gdata.ymajorgridticks = ymajortickvalues
        }


        gdata.ymajorgridlabelvisibility = gdata.ymajorgridlabelvisibility || 'yes';
        gdata.ymajorgridlabelcolor = gdata.ymajorgridlabelcolor || 'hsla(190, 0%, 50%, 1)';


        gdata.ymajorgridlabelshift = gdata.ymajorgridlabelshift || 0.1;
        gdata.xmajorgridlabelshift = gdata.xmajorgridlabelshift || 0.1;

        gdata.xmajorgridlabelvisibility = gdata.xmajorgridlabelvisibility || 'yes';
        gdata.xmajorgridlabelcolor = gdata.xmajorgridlabelcolor || 'hsla(190, 0%, 50%, 1)';

        if (r_darkmode) {
            gdata.ymajorgridlabelcolor = gdata.ymajorgridlabelcolor || 'hsla(190, 100%, 50%, 1)';
            gdata.xmajorgridlabelcolor = gdata.xmajorgridlabelcolor || 'hsla(190, 100%, 50%, 1)'

        }
        else {
            gdata.ymajorgridlabelcolor = gdata.ymajorgridlabelcolor || 'hsla(190, 0%, 50%, 1)';
            gdata.xmajorgridlabelcolor = gdata.xmajorgridlabelcolor || 'hsla(190, 0%, 50%, 1)'
        }


        gdata.xlabelexclusionsstart = gdata.xlabelexclusionsstart || 0;
        gdata.xlabelexclusionsend = gdata.xlabelexclusionsend || 0;

        gdata.ylabelexclusionsstart = gdata.ylabelexclusionsstart || 0;
        gdata.ylabelexclusionsend = gdata.ylabelexclusionsend || 0;


        gdata.isComplexPlane = gdata.isComplexPlane || 'no';

        gdata.ymajorgridlabelOnlyIf = gdata.ymajorgridlabelOnlyIf || 'true';


        if (gdata.ymajorgridlabelvisibility == 'yes') {
            gdata.ymajorlabelsElements = [];
            ymajortickvalues = r_gridtickvalues(gdata.ymin, gdata.ymax, ticks);
            labelylocationX = gdata.axislocationX;
            if (r_graphToScaledX(gdata.axislocationX, gdata.xmin, gdata.xmax, aratio) < 0) {
                labelylocationX = gdata.xmin
            }
            if (r_graphToScaledX(gdata.axislocationX, gdata.xmin, gdata.xmax, aratio) > 100) {
                labelylocationX = gdata.xmax
            }
            for (m = gdata.ylabelexclusionsstart; m < ymajortickvalues.length - gdata.ylabelexclusionsend; m++) {
                ticklocation = ymajortickvalues[m];
                value = ticklocation;
                if (eval(gdata.ymajorgridlabelOnlyIf)) {
                    var textElement = document.createElementNS("http://www.w3.org/2000/svg", 'text');

                    if (r_isInt(ticklocation)) {
                        if (gdata.isComplexPlane == 'yes') {
                            textElement.innerHTML = ticklocation + 'i'
                        }
                        else {
                            textElement.innerHTML = ticklocation;
                            if (ticklocation == 0) {
                                textElement.innerHTML = 0
                            }

                        }
                    }
                    else {

                        expstring = ticklocation.toExponential().toString();
                        order = (expstring.slice(expstring
                                        .indexOf('e') + 1) * (-1));
                        if (parseFloat(order) < -1) {
                            ticklocation = ticklocation.toExponential(0)
                        }
                        else {
                            ticklocation = ticklocation.toFixed(2)
                        }
                        textElement.innerHTML = ticklocation;
                        if (ticklocation == 0) {
                            textElement.innerHTML = 0
                        }
                        if (gdata.isComplexPlane == 'yes') {
                            textElement.innerHTML = ticklocation + 'i'
                        }

                    }


                    textElement.setAttribute('x', r_graphToScaledX(labelylocationX, gdata.xmin, gdata.xmax, aratio) + 0.5 + gdata.ymajorgridlabelshift + '%');
                    textElement.setAttribute('y', r_graphToScaledY(ticklocation, gdata.ymin, gdata.ymax, aratio) + 0.5 + '%');
                    textElement.setAttribute('id', gdata.name + '-yticklabel-' + m);
                    textElement.style.fontSize = gdata.fontSize;
                    textElement.style.userSelect = 'none';
                    textElement.style.fontFamily = 'Source Sans Pro';
                    textElement.style.fill = gdata.ymajorgridlabelcolor;
                    svgElement.appendChild(textElement);
                    gdata.ymajorlabelsElements.push(textElement)
                }

            }
        }

        ticks = gdata.gridlinenumberX;

        gdata.xmajorgridlabelOnlyIf = gdata.xmajorgridlabelOnlyIf || 'true';


        if (gdata.xmajorgridlabelvisibility == 'yes') {
            gdata.xmajorlabelsElements = [];
            xmajortickvalues = r_gridtickvalues(gdata.xmin, gdata.xmax, ticks);
            labelxlocationY = gdata.axislocationY;
            if (r_graphToScaledY(gdata.axislocationY, gdata.ymin, gdata.ymax, aratio) < 0) {
                labelxlocationY = gdata.ymin
            }
            if (r_graphToScaledY(gdata.axislocationY, gdata.ymin, gdata.ymax, aratio) > 100) {
                labelxlocationY = gdata.ymax
            }


            for (m = gdata.xlabelexclusionsstart; m < xmajortickvalues.length - gdata.xlabelexclusionsend; m++) {
                ticklocation = xmajortickvalues[m];
                value = ticklocation;
                if (eval(gdata.xmajorgridlabelOnlyIf)) {
                    var textElement = document.createElementNS("http://www.w3.org/2000/svg", 'text');

                    if (r_isInt(ticklocation)) {
                        textElement.innerHTML = ticklocation
                    }
                    else {

                        expstring = ticklocation.toExponential().toString();
                        order = (expstring.slice(expstring.indexOf('e') + 1) * (-1));
                        if (parseFloat(order) < -1) {
                            ticklocation = ticklocation.toExponential(0)
                        }
                        else {
                            ticklocation = ticklocation.toFixed(2)
                        }
                        textElement.innerHTML = ticklocation;
                        if (ticklocation == 0) {
                            textElement.innerHTML = 0
                        }

                    }

                    textElement.setAttribute('x', r_graphToScaledX(ticklocation, gdata.xmin, gdata.xmax, aratio) - 1 + '%');
                    textElement.setAttribute('y', r_graphToScaledY(labelxlocationY, gdata.ymin, gdata.ymax, aratio) + 2 + gdata.xmajorgridlabelshift + '%');
                    textElement.setAttribute('id', gdata.name + '-xticklabel-' + m);
                    textElement.style.fontSize = gdata.fontSize;
                    textElement.style.fontFamily = 'Source Sans Pro';
                    textElement.style.userSelect = 'none';
                    textElement.style.fill = gdata.xmajorgridlabelcolor;
                    svgElement.appendChild(textElement);

                    gdata.xmajorlabelsElements.push(textElement)
                }

            }
        }


        gdata.xaxislabel = gdata.xaxislabel || 'x axis';
        gdata.yaxislabel = gdata.yaxislabel || 'y axis';

        gdata.xaxislabelshift = gdata.xaxislabelshift || 2;
        gdata.yaxislabelshift = gdata.yaxislabelshift || 2;

        if (r_darkmode) {
            gdata.yaxislabelcolor = gdata.yaxislabelcolor || 'hsla(190, 100%, 100%, 1)';
            gdata.xaxislabelcolor = gdata.xaxislabelcolor || 'hsla(190, 100%, 100%, 1)'
        }
        else {
            gdata.yaxislabelcolor = gdata.yaxislabelcolor || 'hsla(190, 0%, 0%, 1)';
            gdata.xaxislabelcolor = gdata.xaxislabelcolor || 'hsla(190, 0%, 0%, 1)'
        }


        if (gdata.xaxislabelvisibility == 'yes') {
            var textElement = document.createElementNS("http://www.w3.org/2000/svg", 'text');
            textElement.innerHTML = gdata.xaxislabel;
            textElement.setAttribute('x', r_graphToScaledX(gdata.xmax, gdata.xmin, gdata.xmax, aratio) + gdata.xaxislabelshift + '%');
            textElement.setAttribute('y', r_graphToScaledY(gdata.axislocationY, gdata.ymin, gdata.ymax, aratio) + 1 + '%');
            textElement.setAttribute('id', name + '-xaxislabel');
            textElement.style.fontSize = gdata.fontSize;
            textElement.style.color = gdata.xaxislabelcolor;
            textElement.style.fontFamily = 'Source Sans Pro';

            svgElement.appendChild(textElement);
            gdata.xaxislabelElement = textElement

        }


        if (gdata.yaxislabelvisibility == 'yes') {
            var textElement = document.createElementNS("http://www.w3.org/2000/svg", 'text');
            textElement.innerHTML = gdata.yaxislabel;
            textElement.setAttribute('x', r_graphToScaledX(gdata.axislocationX, gdata.xmin, gdata.xmax, aratio) + 0 + '%');
            textElement.setAttribute('y', r_graphToScaledY(gdata.ymax, gdata.ymin, gdata.ymax, aratio) - gdata.yaxislabelshift + '%');
            textElement.setAttribute('id', name + '-yaxislabel');
            textElement.style.fontSize = gdata.fontSize;
            textElement.style.color = gdata.yaxislabelcolor;
            textElement.style.fontFamily = 'Source Sans Pro';

            svgElement.appendChild(textElement);
            gdata.yaxislabelElement = textElement

        }

        gdata.scrollZoom = gdata.scrollZoom || 'yes';

        if (gdata.scrollZoom == 'yes') {
            svgElement.addEventListener('wheel', r_wheelHandle)
        }

        r_svgPTVariable[name] = svgElement.createSVGPoint();

        gdata.draggability = gdata.draggability || 'no';
        if (gdata.draggability == 'yes') {
            gdata.currentlyDraggableGraph = gdata.currentlyDraggableGraph || 'yes'
        }
        else {
            gdata.currentlyDraggableGraph = gdata.currentlyDraggableGraph || 'no'
        }
        gdata.runFunctionOnDragEnd = gdata.runFunctionOnDragEnd || '';
        gdata.runFunctionDuringDrag = gdata.runFunctionDuringDrag || '';

        if (gdata.draggability == 'yes') {
            svgElement.addEventListener('mousedown', r_graphDragHandle);
            svgElement.addEventListener('touchstart', r_graphDragHandle)
        }
        else {
            svgElement.addEventListener('touchmove', r_graphTouchDisable)
        }

        if (gdata.draggability != 'yes' && gdata.scrollZoom != 'yes') {
            svgElement.style.pointerEvents = 'none'
        }

        gdata.dragDirection = gdata.dragDirection || 'bothXY';
        gdata.dragIfCondition = gdata.dragIfCondition || 'true';


        gdata.lineData = {};
        gdata.circleData = {};
        gdata.pointData = {};
        gdata.ellipseData = {};
        gdata.rectData = {};
        gdata.textData = {};
        gdata.pathData = {};
        gdata.sliderData = {};

        gdata.aspectratio = aratio;


        r_graphData[name] = gdata;
        return gdata;
    }

    function r_getGraphCursorLocation(cursorpercent, graphname) {
        gdata = r_graphData[graphname];

        graphEl = document.getElementById(gdata.name);

        valx = r_svgToGraphX(cursorpercent[0], gdata.xmin, gdata.xmax, gdata.aspectratio);
        valy = r_svgToGraphY(cursorpercent[1], gdata.ymin, gdata.ymax, gdata.aspectratio);

        return [valx, valy]
    }

    function r_addLine(graphname, linename, lineoptions) {
        gdata = r_graphData[graphname];
        lineoptions = lineoptions || {};

        aratio = gdata.aspectratio;

        lineoptions.x1 = parseFloat(lineoptions.x1.toString() || 0);
        lineoptions.y1 = parseFloat(lineoptions.y1.toString() || 0);
        lineoptions.x2 = parseFloat(lineoptions.x2.toString() || 0.5);
        lineoptions.y2 = parseFloat(lineoptions.y2.toString() || 0.5);
        lineoptions.name = linename || uid;

        lineoptions.strokedasharray = lineoptions.strokedasharray || "";
        lineoptions.strokewidth = lineoptions.strokewidth || 1;
        lineoptions.linecolor = lineoptions.linecolor || 'hsla(190, 100%, 50%, 1)';

        var lineElement = document.createElementNS("http://www.w3.org/2000/svg", 'line');
        lineElement.setAttribute('x1', r_graphToScaledX(lineoptions.x1, gdata.xmin, gdata.xmax, aratio) + '%');
        lineElement.setAttribute('y1', r_graphToScaledY(lineoptions.y1, gdata.ymin, gdata.ymax, aratio) + '%');
        lineElement.setAttribute('x2', r_graphToScaledX(lineoptions.x2, gdata.xmin, gdata.xmax, aratio) + '%');
        lineElement.setAttribute('y2', r_graphToScaledY(lineoptions.y2, gdata.ymin, gdata.ymax, aratio) + '%');
        lineElement.setAttribute('stroke-dasharray', lineoptions.strokedasharray);

        lineElement.setAttribute('id', graphname + '-line-' + linename);
        uid = uid + 1;
        lineElement.setAttribute('vector-effect', 'non-scaling-stroke');
        lineElement.style.stroke = lineoptions.linecolor;
        lineElement.style.strokeWidth = lineoptions.strokewidth + '%';
        gdata.svgElement.appendChild(lineElement);

        r_graphData[graphname].lineData[linename] = [lineElement, lineoptions];
        return [lineElement, lineoptions]
    }

    function r_addSlider(graphname, slidername, slideroptions) {
        gdata = r_graphData[graphname];
        slideroptions = slideroptions || {};

        aratio = gdata.aspectratio;

        slideroptions.x1 = parseFloat(slideroptions.x1.toString() || 0);
        slideroptions.y1 = parseFloat(slideroptions.y1.toString() || 0);
        slideroptions.x2 = parseFloat(slideroptions.x2.toString() || 0.5);
        slideroptions.y2 = parseFloat(slideroptions.y2.toString() || 0.5);
        slideroptions.name = slidername || uid;

        slideroptions.automaticallySetKnobRadius;

        slideroptions.currentvalue = parseFloat(slideroptions.currentvalue.toString() || 0.5);
        slideroptions.maxvalue = parseFloat(slideroptions.maxvalue.toString() || 0.5);
        slideroptions.minvalue = parseFloat(slideroptions.minvalue.toString() || 0.5);

        slideroptions.strokewidth = slideroptions.strokewidth || 1;
        slideroptions.sliderfillcolor = slideroptions.sliderfillcolor || 'hsla(190, 100%, 50%, 1)';
        slideroptions.sliderbasecolor = slideroptions.sliderbasecolor || 'hsla(190, 0%, 70%, 1)';
        slideroptions.sliderknobcolor = slideroptions.sliderknobcolor || 'hsla(190, 100%, 50%, 1)';

        slideroptions.knobradius = parseFloat(slideroptions.knobradius || 0.5);

        kfactor = (slideroptions.currentvalue - slideroptions.minvalue) / (slideroptions.maxvalue - slideroptions.minvalue);

        slideroptions.cx = ((slideroptions.x2 * kfactor) + slideroptions.x1) / (kfactor + 1);
        slideroptions.cy = ((slideroptions.y2 * kfactor) + slideroptions.y1) / (kfactor + 1);

        slideroptions.cx = parseFloat(slideroptions.cx.toString() || 0);
        slideroptions.cy = parseFloat(slideroptions.cy.toString() || 0);

        var sliderbaseElement = document.createElementNS("http://www.w3.org/2000/svg", 'line');
        sliderbaseElement.setAttribute('x1', r_graphToScaledX(slideroptions.x1, gdata.xmin, gdata.xmax, aratio) + '%');
        sliderbaseElement.setAttribute('y1', r_graphToScaledY(slideroptions.y1, gdata.ymin, gdata.ymax, aratio) + '%');
        sliderbaseElement.setAttribute('x2', r_graphToScaledX(slideroptions.x2, gdata.xmin, gdata.xmax, aratio) + '%');
        sliderbaseElement.setAttribute('y2', r_graphToScaledY(slideroptions.y2, gdata.ymin, gdata.ymax, aratio) + '%');

        sliderbaseElement.setAttribute('id', graphname + '-slider-base-' + slidername);
        sliderbaseElement.setAttribute('vector-effect', 'non-scaling-stroke');
        sliderbaseElement.style.stroke = slideroptions.sliderbasecolor;
        sliderbaseElement.style.strokeWidth = slideroptions.strokewidth + '%';
        gdata.svgElement.appendChild(sliderbaseElement);

        var sliderfillElement = document.createElementNS("http://www.w3.org/2000/svg", 'line');
        sliderfillElement.setAttribute('x1', r_graphToScaledX(slideroptions.x1, gdata.xmin, gdata.xmax, aratio) + '%');
        sliderfillElement.setAttribute('y1', r_graphToScaledY(slideroptions.y1, gdata.ymin, gdata.ymax, aratio) + '%');
        sliderfillElement.setAttribute('x2', r_graphToScaledX(slideroptions.cx, gdata.xmin, gdata.xmax, aratio) + '%');
        sliderfillElement.setAttribute('y2', r_graphToScaledY(slideroptions.cy, gdata.ymin, gdata.ymax, aratio) + '%');

        sliderfillElement.setAttribute('id', graphname + '-slider-fill-' + slidername);
        sliderfillElement.setAttribute('vector-effect', 'non-scaling-stroke');
        sliderfillElement.style.stroke = slideroptions.sliderfillcolor;
        sliderfillElement.style.strokeWidth = slideroptions.strokewidth + '%';
        gdata.svgElement.appendChild(sliderfillElement);

        rx = r_distanceBTWgraphToSvg([0, 0], [slideroptions.knobradius, 0], gdata.xmin, gdata.xmax, gdata.ymin, gdata.ymax, aratio);
        ry = r_distanceBTWgraphToSvg([0, 0], [0, slideroptions.knobradius], gdata.xmin, gdata.xmax, gdata.ymin, gdata.ymax, aratio);

        slideroptions.automaticallySetKnobRadius = slideroptions.automaticallySetKnobRadius || 'yes';

        if (slideroptions.automaticallySetKnobRadius == 'yes') {
            // Adjusted based on certain calculations at https://www.desmos.com/calculator/wocvdzcn1p
            aRegress = -1.2979 * Math.pow(10, -9);
            bRegress = -9.8036;
            cRegress = -0.0337978;
            fRegress = 10.1808;

            strokeW = options.strokewidth;
            if (strokeW < 25) {
                rx = ((aRegress * strokeW) + bRegress) * (Math.exp(cRegress * strokeW)) + fRegress;
                ry = rx
            }
            else {
                rx = 0.2217 * strokeW + 0.736503;
                ry = rx
            }
        }


        var circleElement = document.createElementNS("http://www.w3.org/2000/svg", 'ellipse');
        circleElement.setAttribute('cx', r_graphToScaledX(slideroptions.cx, gdata.xmin, gdata.xmax, aratio) + '%');
        circleElement.setAttribute('cy', r_graphToScaledY(slideroptions.cy, gdata.ymin, gdata.ymax, aratio) + '%');
        circleElement.setAttribute('rx', rx + '%');
        circleElement.setAttribute('ry', ry + '%');
        circleElement.setAttribute('id', graphname + '-slider-knob-' + slidername);
        uid = uid + 1;
        circleElement.setAttribute('vector-effect', 'non-scaling-stroke');
        circleElement.style.fill = slideroptions.sliderknobcolor;
        circleElement.style.strokeWidth = '0%';
        gdata.svgElement.appendChild(circleElement);

        r_graphData[graphname].sliderData[slidername] = [sliderbaseElement, sliderfillElement, circleElement, slideroptions];
        return [sliderbaseElement, sliderfillElement, circleElement, slideroptions]
    }

    r_sliderDivData = {};

    function r_addSliderToDiv(holderName, slidername, slideroptions) {
        slideroptions = slideroptions || {};

        slideroptions.classname = slideroptions.classname || 'standardSlider';

        var sliderinputElement = document.createElement("input");
        sliderinputElement.type = 'range';
        sliderinputElement.setAttribute('min', slideroptions.min);
        sliderinputElement.setAttribute('max', slideroptions.max);
        sliderinputElement.setAttribute('step', slideroptions.step);
        sliderinputElement.setAttribute('value', slideroptions.value);
        sliderinputElement.setAttribute('id', slidername);
        sliderinputElement.setAttribute('class', slideroptions.classname);
        sliderinputElement.setAttribute('oninput', slideroptions.eventFunction);

        holderDiv = document.getElementById(holderName);

        holderDiv.appendChild(sliderinputElement);

        sliderinputElement.style.width = slideroptions.w;
        sliderinputElement.style.height = slideroptions.h;
        sliderinputElement.style.backgroundColor = slideroptions.sliderbasecolor;

        r_sliderDivData[slidername] = [holderDiv, slidername, slideroptions];
        return [slidername, holderDiv]
    }

    function r_divSlider(holder, divslidername, minval, maxval, currvalue, stepval, eventfunc, widthval, heightval, sliderTrackColor, thumbSize, thumbColor) {
        options = {};
        options.min = minval;
        options.max = maxval;
        options.value = currvalue;
        options.step = stepval;
        options.eventFunction = eventfunc;
        options.w = widthval;
        options.h = heightval;
        options.sliderbasecolor = sliderTrackColor;
        // options.classname = sliderClass


        $('<style>#' + divslidername + '::-webkit-slider-thumb {-webkit-appearance: none; appearance: none;width: ' + thumbSize + ';height: ' + thumbSize + ';border-radius: 50%; background: ' + thumbColor + ';cursor: pointer; }  #' + divslidername + '::-moz-slider-thumb {appearance: none;width: ' + thumbSize + ';height: ' + thumbSize + ';border-radius: 50%; background: ' + thumbColor + ';cursor: pointer; }</style>').appendTo('head');

        r_addSliderToDiv(holder, divslidername, options)
    }

    function r_addPath(graphname, pathname, pathoptions) {
        gdata = r_graphData[graphname];
        pathoptions = pathoptions || {};

        aratio = gdata.aspectratio;

        pathoptions.points = pathoptions.points || [[0, 1], [1, 0]];

        pathstring = 'M';

        for (pth = 0; pth < pathoptions.points.length; pth++) {
            if (pth == 0) {
                pathstring = pathstring + r_graphToScaledX(pathoptions.points[pth][0], gdata.xmin, gdata.xmax, aratio) + ' ' + r_graphToScaledY(pathoptions.points[pth][1], gdata.ymin, gdata.ymax, aratio) + ' '
            }
            else {
                pathstring = pathstring + 'L' + r_graphToScaledX(pathoptions.points[pth][0], gdata.xmin, gdata.xmax, aratio) + ' ' + r_graphToScaledY(pathoptions.points[pth][1], gdata.ymin, gdata.ymax, aratio) + ' '
            }

        }


        pathoptions.name = pathname || uid;
        // console.log((0).toString() || 0.5)

        pathoptions.strokewidth = pathoptions.strokewidth || 1;
        pathoptions.pathcolor = pathoptions.pathcolor || 'hsla(190, 100%, 50%, 1)';

        var pathElement = document.createElementNS("http://www.w3.org/2000/svg", 'path');
        try {
            pathElement.setAttribute('d', pathstring);
            pathElement.setAttribute('id', graphname + '-path-' + pathname);
            pathElement.setAttribute('stroke-dasharray', pathoptions.strokedasharray);
            uid = uid + 1;
            pathElement.style.stroke = pathoptions.pathcolor;
            pathElement.style.fill = 'none';
            pathElement.style.strokeWidth = pathoptions.strokewidth + '%';
            gdata.svgElement.appendChild(pathElement);

            r_graphData[graphname].pathData[pathname] = [pathElement, pathoptions];
            return [pathElement, pathoptions]
        }
        catch (err) {
            console.log(pathoptions.points)
        }

    }

    function r_updatePath(graphname, pathname, newpathoptions) {

        gdata = r_graphData[graphname];
        aratio = gdata.aspectratio;

        pathoptions = gdata.pathData[pathname][1];
        pathElement = gdata.pathData[pathname][0];


        pathoptions.points = newpathoptions.points || pathoptions.points;

        pathstring = 'M';

        for (pth = 0; pth < pathoptions.points.length; pth++) {
            if (pth == 0) {
                pathstring = pathstring + r_graphToScaledX(pathoptions.points[pth][0], gdata.xmin, gdata.xmax, aratio) + ' ' + r_graphToScaledY(pathoptions.points[pth][1], gdata.ymin, gdata.ymax, aratio) + ' '
            }
            else {
                pathstring = pathstring + 'L' + r_graphToScaledX(pathoptions.points[pth][0], gdata.xmin, gdata.xmax, aratio) + ' ' + r_graphToScaledY(pathoptions.points[pth][1], gdata.ymin, gdata.ymax, aratio) + ' '
            }

        }


        try {
            pathElement.setAttribute('d', pathstring);
            pathoptions.strokewidth = newpathoptions.strokewidth || pathoptions.strokewidth;
            pathoptions.pathcolor = newpathoptions.pathcolor || pathoptions.pathcolor;

            pathElement.style.stroke = pathoptions.pathcolor;
            pathElement.style.fill = 'none';
            pathElement.style.strokeWidth = pathoptions.strokewidth + '%';

            r_graphData[graphname].pathData[pathname] = [pathElement, pathoptions]
        }

        catch (err) {
            console.log(newpathoptions.points)
        }

    }

    function r_updatePathPoints(graphname, pathname, npathpoints) {
        gdata = r_graphData[graphname];
        aratio = gdata.aspectratio;

        pathoptions = gdata.pathData[pathname][1];
        pathElement = gdata.pathData[pathname][0];

        pathoptions.points = npathpoints || pathoptions.points;

        if (pathoptions.points.length > 0) {
            pathstring = 'M';

            for (pth = 0; pth < pathoptions.points.length; pth++) {
                if (pth == 0) {
                    pathstring = pathstring + r_graphToScaledX(pathoptions.points[pth][0], gdata.xmin, gdata.xmax, aratio) + ' ' + r_graphToScaledY(pathoptions.points[pth][1], gdata.ymin, gdata.ymax, aratio) + ' '
                }
                else {
                    pathstring = pathstring + 'L' + r_graphToScaledX(pathoptions.points[pth][0], gdata.xmin, gdata.xmax, aratio) + ' ' + r_graphToScaledY(pathoptions.points[pth][1], gdata.ymin, gdata.ymax, aratio) + ' '
                }

            }

            try {
                pathElement.setAttribute('d', pathstring);
                r_graphData[graphname].pathData[pathname] = [pathElement, pathoptions];
                return [pathElement, pathoptions]
            }
            catch (err) {
                console.log(npathpoints)
            }
        }

    }

    function r_updateLine(graphname, linename, linevalues) {

        gdata = r_graphData[graphname];
        aratio = gdata.aspectratio;

        lineoptions = gdata.lineData[linename][1];
        lineElement = gdata.lineData[linename][0];

        if (linevalues.x1 != 0) {
            lineoptions.x1 = linevalues.x1 || lineoptions.x1
        }
        else {
            lineoptions.x1 = linevalues.x1
        }


        if (linevalues.y1 != 0) {
            lineoptions.y1 = linevalues.y1 || lineoptions.y1
        }
        else {
            lineoptions.y1 = linevalues.y1
        }


        if (linevalues.x2 != 0) {
            lineoptions.x2 = linevalues.x2 || lineoptions.x2
        }
        else {
            lineoptions.x2 = linevalues.x2
        }


        if (linevalues.y2 != 0) {
            lineoptions.y2 = linevalues.y2 || lineoptions.y2
        }
        else {
            lineoptions.y2 = linevalues.y2
        }

        lineoptions.strokedasharray = linevalues.strokedasharray || lineoptions.strokedasharray;
        lineoptions.strokewidth = linevalues.strokewidth || lineoptions.strokewidth;
        lineoptions.linecolor = linevalues.linecolor || lineoptions.linecolor;

        lineElement.setAttribute('x1', r_graphToScaledX(lineoptions.x1, gdata.xmin, gdata.xmax, aratio) + '%');
        lineElement.setAttribute('y1', r_graphToScaledY(lineoptions.y1, gdata.ymin, gdata.ymax, aratio) + '%');
        lineElement.setAttribute('x2', r_graphToScaledX(lineoptions.x2, gdata.xmin, gdata.xmax, aratio) + '%');
        lineElement.setAttribute('y2', r_graphToScaledY(lineoptions.y2, gdata.ymin, gdata.ymax, aratio) + '%');

        lineElement.setAttribute('stroke-dasharray', lineoptions.strokedasharray);
        lineElement.style.stroke = lineoptions.linecolor;
        lineElement.style.strokeWidth = lineoptions.strokewidth + '%';

        r_graphData[graphname].lineData[linename] = [lineElement, lineoptions]
    }

    function r_distanceBTWgraphToSvg(p1, p2, xmin, xmax, ymin, ymax, aspectratio) {
        pt1 = [r_graphToScaledX(p1[0], xmin, xmax, aspectratio), r_graphToScaledY(p1[1], ymin, ymax, aspectratio)];
        pt2 = [r_graphToScaledX(p2[0], xmin, xmax, aspectratio), r_graphToScaledY(p2[1], ymin, ymax, aspectratio)];

        return Math.pow(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2), 0.5)
    }

    function r_addCircle(graphname, circlename, circleoptions) {
        gdata = r_graphData[graphname];
        circleoptions = circleoptions || {};
        aratio = gdata.aspectratio;

        if (circleoptions.x != 0) {
            circleoptions.x = circleoptions.x || 0.3
        }
        else {
            circleoptions.x = 0
        }

        if (circleoptions.y != 0) {
            circleoptions.y = circleoptions.y || 0.3
        }
        else {
            circleoptions.y = 0
        }

        if (circleoptions.radius != 0) {
            circleoptions.radius = circleoptions.radius || 0.3
        }
        else {
            circleoptions.radius = 0
        }

        circleoptions.name = circlename || uid;

        circleoptions.stroke = circleoptions.stroke || 'hsla(190, 100%, 50%, 0.5)';
        circleoptions.strokewidth = circleoptions.strokewidth || 0.1;

        circleoptions.circlecolor = circleoptions.circlecolor || 'hsla(190, 100%, 50%, 1)';

        rx = r_distanceBTWgraphToSvg([0, 0], [circleoptions.radius, 0], gdata.xmin, gdata.xmax, gdata.ymin, gdata.ymax, aratio);
        ry = r_distanceBTWgraphToSvg([0, 0], [0, circleoptions.radius], gdata.xmin, gdata.xmax, gdata.ymin, gdata.ymax, aratio);

        var circleElement = document.createElementNS("http://www.w3.org/2000/svg", 'ellipse');
        circleElement.setAttribute('cx', r_graphToScaledX(circleoptions.x, gdata.xmin, gdata.xmax, aratio) + '%');
        circleElement.setAttribute('cy', r_graphToScaledY(circleoptions.y, gdata.ymin, gdata.ymax, aratio) + '%');
        circleElement.setAttribute('rx', rx + '%');
        circleElement.setAttribute('ry', ry + '%');
        circleElement.setAttribute('id', graphname + '-circle-' + circlename);
        uid = uid + 1;
        circleElement.setAttribute('vector-effect', 'non-scaling-stroke');
        circleElement.style.fill = circleoptions.circlecolor;
        circleElement.style.strokeWidth = circleoptions.strokewidth + '%';
        circleElement.style.stroke = circleoptions.stroke;
        circleElement.setAttribute('stroke-dasharray', circleoptions.strokedasharray);
        gdata.svgElement.appendChild(circleElement);

        r_graphData[graphname].circleData[circlename] = [circleElement, circleoptions];
        return [circleElement, circleoptions]
    }

    function r_updateCircle(graphname, circlename, circlenewvalues) {

        gdata = r_graphData[graphname];
        aratio = gdata.aspectratio;

        circleoptions = gdata.circleData[circlename][1];
        circleElement = gdata.circleData[circlename][0];


        if (circleoptions.x != 0) {
            circleoptions.x = circlenewvalues.x || circleoptions.x
        }
        else {
            circleoptions.x = circlenewvalues.x
        }

        if (circleoptions.y != 0) {
            circleoptions.y = circlenewvalues.y || circleoptions.y
        }
        else {
            circleoptions.y = circlenewvalues.y
        }

        if (circleoptions.radius != 0) {
            circleoptions.radius = circlenewvalues.radius || circleoptions.radius
        }
        else {
            circleoptions.radius = circlenewvalues.radius
        }

        circleoptions.name = circlename || uid;

        circleoptions.stroke = circlenewvalues.stroke || circleoptions.stroke;
        circleoptions.strokewidth = circlenewvalues.strokewidth || circleoptions.strokewidth;

        circleoptions.circlecolor = circlenewvalues.circlecolor || circleoptions.circlecolor;

        rx = r_distanceBTWgraphToSvg([0, 0], [circleoptions.radius, 0], gdata.xmin, gdata.xmax, gdata.ymin, gdata.ymax, aratio);
        ry = r_distanceBTWgraphToSvg([0, 0], [0, circleoptions.radius], gdata.xmin, gdata.xmax, gdata.ymin, gdata.ymax, aratio);

        circleElement.setAttribute('cx', r_graphToScaledX(circleoptions.x, gdata.xmin, gdata.xmax, aratio) + '%');
        circleElement.setAttribute('cy', r_graphToScaledY(circleoptions.y, gdata.ymin, gdata.ymax, aratio) + '%');
        circleElement.setAttribute('rx', rx + '%');
        circleElement.setAttribute('ry', ry + '%');
        circleElement.setAttribute('id', graphname + '-circle-' + circlename);
        uid = uid + 1;
        circleElement.setAttribute('vector-effect', 'non-scaling-stroke');
        circleElement.style.fill = circleoptions.circlecolor;
        circleElement.style.strokeWidth = circleoptions.strokewidth + '%';
        circleElement.style.stroke = circleoptions.stroke;
        circleElement.setAttribute('stroke-dasharray', circleoptions.strokedasharray);

        r_graphData[graphname].circleData[circlename] = [circleElement, circleoptions]
    }

    function r_addEllipse(graphname, ellipsename, ellipseoptions) {
        gdata = r_graphData[graphname];

        aratio = gdata.aspectratio;

        ellipseoptions = ellipseoptions || {};

        ellipseoptions.x = parseFloat(ellipseoptions.x.toString() || 0);
        ellipseoptions.y = parseFloat(ellipseoptions.y.toString() || 0);
        ellipseoptions.rx = parseFloat(ellipseoptions.rx.toString() || 0.3);
        ellipseoptions.ry = parseFloat(ellipseoptions.ry.toString() || 8);
        ellipseoptions.name = ellipsename || uid;

        ellipseoptions.stroke = ellipseoptions.stroke || 'hsla(190, 100%, 50%, 0.5)';
        ellipseoptions.strokewidth = ellipseoptions.strokewidth || 0.1;

        ellipseoptions.ellipsecolor = ellipseoptions.ellipsecolor || 'hsla(190, 100%, 50%, 1)';

        rx = r_distanceBTWgraphToSvg([0, 0], [ellipseoptions.rx, 0], gdata.xmin, gdata.xmax, gdata.ymin, gdata.ymax, aratio);
        ry = r_distanceBTWgraphToSvg([0, 0], [0, ellipseoptions.ry], gdata.xmin, gdata.xmax, gdata.ymin, gdata.ymax, aratio);

        var ellipseElement = document.createElementNS("http://www.w3.org/2000/svg", 'ellipse');
        ellipseElement.setAttribute('cx', r_graphToScaledX(ellipseoptions.x, gdata.xmin, gdata.xmax, aratio) + '%');
        ellipseElement.setAttribute('cy', r_graphToScaledY(ellipseoptions.y, gdata.ymin, gdata.ymax, aratio) + '%');
        ellipseElement.setAttribute('rx', rx + '%');
        ellipseElement.setAttribute('ry', ry + '%');
        ellipseElement.setAttribute('id', graphname + '-ellipse-' + ellipsename);
        uid = uid + 1;
        ellipseElement.setAttribute('vector-effect', 'non-scaling-stroke');
        ellipseElement.style.fill = ellipseoptions.ellipsecolor;
        ellipseElement.style.strokeWidth = ellipseoptions.strokewidth + '%';
        ellipseElement.style.stroke = ellipseoptions.stroke;
        gdata.svgElement.appendChild(ellipseElement);

        r_graphData[graphname].ellipseData[ellipsename] = [ellipseElement, ellipseoptions];
        return [ellipseElement, ellipseoptions]
    }

    function r_updateEllipse(graphname, ellipsename, ellipsenewvalues) {
        gdata = r_graphData[graphname];
        aratio = gdata.aspectratio;

        ellipseoptions = gdata.ellipseData[ellipsename][1];
        ellipseElement = gdata.ellipseData[ellipsename][0];

        if (ellipseoptions.x != 0) {
            ellipseoptions.x = ellipsenewvalues.x || ellipseoptions.x
        }
        else {
            ellipseoptions.x = 0
        }

        if (ellipseoptions.y != 0) {
            ellipseoptions.y = ellipsenewvalues.y || ellipseoptions.y
        }
        else {
            ellipseoptions.y = 0
        }

        if (ellipseoptions.rx != 0) {
            ellipseoptions.rx = ellipsenewvalues.rx || ellipseoptions.rx
        }
        else {
            ellipseoptions.rx = 0
        }
        if (ellipseoptions.ry != 0) {
            ellipseoptions.ry = ellipsenewvalues.ry || ellipseoptions.ry
        }
        else {
            ellipseoptions.ry = 0
        }

        ellipseoptions.name = ellipsename || uid;

        ellipseoptions.stroke = ellipsenewvalues.stroke || ellipseoptions.stroke;
        ellipseoptions.strokewidth = ellipsenewvalues.strokewidth || ellipseoptions.strokewidth;

        ellipseoptions.ellipsecolor = ellipsenewvalues.ellipsecolor || ellipseoptions.ellipsecolor;

        rx = r_distanceBTWgraphToSvg([0, 0], [ellipseoptions.rx, 0], gdata.xmin, gdata.xmax, gdata.ymin, gdata.ymax, aratio);
        ry = r_distanceBTWgraphToSvg([0, 0], [0, ellipseoptions.ry], gdata.xmin, gdata.xmax, gdata.ymin, gdata.ymax, aratio);

        ellipseElement.setAttribute('cx', r_graphToScaledX(ellipseoptions.x, gdata.xmin, gdata.xmax, aratio) + '%');
        ellipseElement.setAttribute('cy', r_graphToScaledY(ellipseoptions.y, gdata.ymin, gdata.ymax, aratio) + '%');
        ellipseElement.setAttribute('rx', rx + '%');
        ellipseElement.setAttribute('ry', ry + '%');
        ellipseElement.setAttribute('id', graphname + '-ellipse-' + ellipsename);
        uid = uid + 1;
        ellipseElement.setAttribute('vector-effect', 'non-scaling-stroke');
        ellipseElement.style.fill = ellipseoptions.ellipsecolor;
        ellipseElement.style.strokeWidth = ellipseoptions.strokewidth + '%';
        ellipseElement.style.stroke = ellipseoptions.stroke;
        gdata.svgElement.appendChild(ellipseElement);

        r_graphData[graphname].ellipseData[ellipsename] = [ellipseElement, ellipseoptions]
    }

    function r_addText(graphname, textname, textoptions) {
        gdata = r_graphData[graphname];
        textoptions = textoptions || {};

        aratio = gdata.aspectratio;

        if (textoptions.x != 0) {
            textoptions.x = parseFloat(textoptions.x.toString() || 0.3)
        }
        else {
            textoptions.x = 0
        }
        if (textoptions.y != 0) {
            textoptions.y = parseFloat(textoptions.y.toString() || 0.3)
        }
        else {
            textoptions.y = 0
        }

        textoptions.text = textoptions.text || '';
        textoptions.name = textname || uid;

        textoptions.textAlign = textoptions.textAlign || 'left';
        textoptions.fontSize = textoptions.fontSize || 12;
        textoptions.fontFamily = textoptions.fontFamily || 'Source Sans Pro';

        textoptions.textcolor = textoptions.textcolor || 'hsla(190, 100%, 0%, 1)';

        var textElement = document.createElementNS("http://www.w3.org/2000/svg", 'text');
        textElement.setAttribute('x', r_graphToScaledX(textoptions.x, gdata.xmin, gdata.xmax, aratio) + '%');
        textElement.setAttribute('y', r_graphToScaledY(textoptions.y, gdata.ymin, gdata.ymax, aratio) + '%');
        textElement.setAttribute('id', graphname + '-text-' + textname);
        uid = uid + 1;
        textElement.setAttribute('vector-effect', 'non-scaling-stroke');
        textElement.style.fill = textoptions.textcolor;
        textElement.innerHTML = textoptions.text;
        textElement.style.fontFamily = textoptions.fontFamily;
        textElement.style.fontSize = textoptions.fontSize;
        if (textoptions.textAlign == 'center') {
            textElement.setAttribute('text-anchor', 'middle')
        }
        gdata.svgElement.appendChild(textElement);

        r_graphData[graphname].textData[textname] = [textElement, textoptions];
        return [textElement, textoptions]
    }

    function r_updateText(graphname, textname, textvalues) {
        gdata = r_graphData[graphname];

        aratio = gdata.aspectratio;

        textoptions = gdata.textData[textname][1];
        textElement = gdata.textData[textname][0];

        textoptions.text = textvalues.text || textoptions.text;
        textoptions.x = textvalues.x || textoptions.x;
        textoptions.y = textvalues.y || textoptions.y;
        textoptions.textcolor = textvalues.textcolor || textoptions.textcolor;
        textoptions.fontSize = textvalues.fontSize || textoptions.fontSize;

        textElement.innerHTML = textoptions.text;
        textElement.setAttribute('x', r_graphToScaledX(textoptions.x, gdata.xmin, gdata.xmax, aratio) + '%');
        textElement.setAttribute('y', r_graphToScaledY(textoptions.y, gdata.ymin, gdata.ymax, aratio) + '%');
        textElement.style.fill = textoptions.textcolor;
        textElement.style.fontSize = textoptions.fontSize;

        r_graphData[graphname].textData[textname] = [textElement, textoptions];
        return [textElement, textoptions]
    }

    function r_addRectangle(graphname, rectname, rectoptions) {
        gdata = r_graphData[graphname];
        aratio = gdata.aspectratio;
        rectoptions = rectoptions || {};

        rectoptions.x = parseFloat(rectoptions.x.toString() || 0);
        rectoptions.y = parseFloat(rectoptions.y.toString() || 0);
        rectoptions.w = parseFloat(rectoptions.w.toString() || 1);
        rectoptions.h = parseFloat(rectoptions.h.toString() || 1);
        rectoptions.name = rectname || uid;

        rectoptions.stroke = rectoptions.stroke || 'hsla(190, 100%, 50%, 0.5)';
        rectoptions.strokewidth = rectoptions.strokewidth || 0.1;
        rectoptions.strokedasharray = rectoptions.strokedasharray || "";


        rectoptions.rectcolor = rectoptions.rectcolor || 'hsla(190, 100%, 50%, 1)';

        rx = r_distanceBTWgraphToSvg([0, 0], [rectoptions.w, 0], gdata.xmin, gdata.xmax, gdata.ymin, gdata.ymax, aratio);
        ry = r_distanceBTWgraphToSvg([0, 0], [0, rectoptions.h], gdata.xmin, gdata.xmax, gdata.ymin, gdata.ymax, aratio);

        var rectElement = document.createElementNS("http://www.w3.org/2000/svg", 'rect');
        rectElement.setAttribute('x', r_graphToScaledX(rectoptions.x, gdata.xmin, gdata.xmax, aratio) + '%');
        rectElement.setAttribute('y', r_graphToScaledY(rectoptions.y, gdata.ymin, gdata.ymax, aratio) + '%');
        rectElement.setAttribute('width', rx + '%');
        rectElement.setAttribute('height', ry + '%');
        rectElement.setAttribute('id', graphname + '-rect-' + rectname);
        uid = uid + 1;
        rectElement.setAttribute('vector-effect', 'non-scaling-stroke');
        rectElement.style.fill = rectoptions.rectcolor;
        rectElement.style.strokeWidth = rectoptions.strokewidth + '%';
        rectElement.style.stroke = rectoptions.stroke;
        rectElement.setAttribute('stroke-dasharray', rectoptions.strokedasharray);

        gdata.svgElement.appendChild(rectElement);

        r_graphData[graphname].rectData[rectname] = [rectElement, rectoptions];

        return [rectElement, rectoptions]
    }

    function r_updateRectangle(graphname, rectname, rectvalueupdate) {
        gdata = r_graphData[graphname];
        rectoptions = gdata.rectData[rectname][1];
        rectElement = gdata.rectData[rectname][0];
        aratio = gdata.aspectratio;

        if (rectvalueupdate.x != 0) {
            rectoptions.x = rectvalueupdate.x || rectoptions.x
        }
        else {
            rectoptions.x = rectvalueupdate.x
        }


        if (rectvalueupdate.y != 0) {
            rectoptions.y = rectvalueupdate.y || rectoptions.y
        }
        else {
            rectoptions.y = rectvalueupdate.y
        }


        if (rectvalueupdate.w != 0) {
            rectoptions.w = rectvalueupdate.w || rectoptions.w
        }
        else {
            rectoptions.w = rectvalueupdate.w
        }


        if (rectvalueupdate.h != 0) {
            rectoptions.h = rectvalueupdate.h || rectoptions.h
        }
        else {
            rectoptions.h = rectvalueupdate.h
        }

        rectoptions.stroke = rectvalueupdate.stroke || rectoptions.stroke;
        rectoptions.strokewidth = rectvalueupdate.strokewidth || rectoptions.strokewidth;

        rectoptions.rectcolor = rectvalueupdate.rectcolor || rectoptions.rectcolor;

        rx = r_distanceBTWgraphToSvg([0, 0], [rectoptions.w, 0], gdata.xmin, gdata.xmax, gdata.ymin, gdata.ymax, aratio);
        ry = r_distanceBTWgraphToSvg([0, 0], [0, rectoptions.h], gdata.xmin, gdata.xmax, gdata.ymin, gdata.ymax, aratio);

        rectElement.setAttribute('x', r_graphToScaledX(rectoptions.x, gdata.xmin, gdata.xmax, aratio) + '%');
        rectElement.setAttribute('y', r_graphToScaledY(rectoptions.y, gdata.ymin, gdata.ymax, aratio) + '%');
        rectElement.setAttribute('width', rx + '%');
        rectElement.setAttribute('height', ry + '%');
        rectElement.style.fill = rectoptions.rectcolor;
        rectElement.style.strokeWidth = rectoptions.strokewidth + '%';
        rectElement.style.stroke = rectoptions.stroke;


        r_graphData[graphname].rectData[rectname] = [rectElement, rectoptions]
    }

    function r_addPoint(graphname, pointname, pointoptions) {
        gdata = r_graphData[graphname];
        aratio = gdata.aspectratio;

        pointoptions = pointoptions || {};

        if (pointoptions.x != 0) {
            pointoptions.x = pointoptions.x || 0.3
        }
        if (pointoptions.y != 0) {
            pointoptions.y = pointoptions.y || 0.3
        }
        // pointoptions.y = pointoptions.y || 0.3
        pointoptions.pointsize = pointoptions.pointsize || 0.7;
        pointoptions.name = pointname || uid;

        pointoptions.pointcolor = pointoptions.pointcolor || 'hsla(190, 100%, 50%, 1)';

        var pointElement = document.createElementNS("http://www.w3.org/2000/svg", 'ellipse');
        pointElement.setAttribute('cx', r_graphToScaledX(pointoptions.x, gdata.xmin, gdata.xmax, aratio) + '%');
        pointElement.setAttribute('cy', r_graphToScaledY(pointoptions.y, gdata.ymin, gdata.ymax, aratio) + '%');
        pointElement.setAttribute('rx', pointoptions.pointsize + '%');
        pointElement.setAttribute('ry', pointoptions.pointsize + '%');
        pointElement.setAttribute('id', graphname + '-point-' + pointname);
        uid = uid + 1;
        pointElement.setAttribute('vector-effect', 'non-scaling-stroke');
        pointElement.style.fill = pointoptions.pointcolor;
        gdata.svgElement.appendChild(pointElement);

        pointoptions.draggability = pointoptions.draggability || 'no';
        if (pointoptions.draggability == 'yes') {
            pointoptions.currentlyDraggable = pointoptions.currentlyDraggable || 'yes'
        }
        else {
            pointoptions.currentlyDraggable = pointoptions.currentlyDraggable || 'no'
        }
        pointoptions.runFunctionOnDragEnd = pointoptions.runFunctionOnDragEnd || '';
        pointoptions.runFunctionOnDragStart = pointoptions.runFunctionOnDragStart || '';
        pointoptions.runFunctionDuringDrag = pointoptions.runFunctionDuringDrag || '';

        if (pointoptions.draggability == 'yes') {
            pointElement.addEventListener('mousedown', r_pointDrag);

            pointElement.addEventListener('touchstart', r_pointDrag);
            gdata.svgElement.addEventListener('touchmove', r_graphTouchDisable);
            pointElement.style.pointerEvents = 'auto'
        }
        else {
            pointElement.style.pointerEvents = 'none'
        }


        pointoptions.dragDirection = pointoptions.dragDirection || 'bothXY';
        pointoptions.dragIfCondition = pointoptions.dragIfCondition || 'true';

        r_graphData[graphname].pointData[pointname] = [pointElement, pointoptions];
        r_reverseGraphElementMap[pointElement.id] = [graphname, pointname];
        return [pointElement, pointoptions]
    }

    function r_updatePoint(graphname, pointname, newpointoptions) {
        gdata = r_graphData[graphname];
        pointoptions = gdata.pointData[pointname][1];
        pointElement = gdata.pointData[pointname][0];
        aratio = gdata.aspectratio;

        if (pointoptions.x != 0) {
            pointoptions.x = newpointoptions.x || pointoptions.x
        }
        if (pointoptions.y != 0) {
            pointoptions.y = newpointoptions.y || pointoptions.y
        }

        // pointoptions.y = pointoptions.y || 0.3
        pointoptions.pointsize = newpointoptions.pointsize || pointoptions.pointsize;

        pointoptions.pointcolor = newpointoptions.pointcolor || pointoptions.pointcolor;

        pointElement.setAttribute('cx', r_graphToScaledX(pointoptions.x, gdata.xmin, gdata.xmax, aratio) + '%');
        pointElement.setAttribute('cy', r_graphToScaledY(pointoptions.y, gdata.ymin, gdata.ymax, aratio) + '%');
        pointElement.setAttribute('rx', pointoptions.pointsize + '%');
        pointElement.setAttribute('ry', pointoptions.pointsize + '%');
        pointElement.setAttribute('vector-effect', 'non-scaling-stroke');
        pointElement.style.fill = pointoptions.pointcolor;

        pointoptions.draggability = newpointoptions.draggability || pointoptions.draggability;
        if (pointoptions.draggability == 'yes') {
            pointoptions.currentlyDraggable = newpointoptions.currentlyDraggable || pointoptions.currentlyDraggable
        }
        else {
            pointoptions.currentlyDraggable = newpointoptions.currentlyDraggable || pointoptions.currentlyDraggable
        }
        pointoptions.runFunctionOnDragEnd = newpointoptions.runFunctionOnDragEnd || pointoptions.runFunctionOnDragEnd;
        pointoptions.runFunctionDuringDrag = newpointoptions.runFunctionDuringDrag || pointoptions.runFunctionDuringDrag;
        pointoptions.dragDirection = newpointoptions.dragDirection || pointoptions.dragDirection;
        pointoptions.dragIfCondition = newpointoptions.dragIfCondition || pointoptions.dragIfCondition;

        // if (pointoptions.draggability == 'yes') {
        // 	pointElement.addEventListener('mousedown', r_pointDrag)
        // 	pointElement.addEventListener('touchstart', r_pointDrag)
        // }
        // else {
        // 	pointElement.removeEventListener('mousedown', r_pointDrag)
        // 	pointElement.removeEventListener('touchstart', r_pointDrag)
        // }

        r_graphData[graphname].pointData[pointname] = [pointElement, pointoptions]

    }

    function r_updatePointXY(graphname, pointname, xvalue, yvalue) {
        pointElement = document.getElementById(graphname + '-point-' + pointname);
        gdata = r_graphData[graphname];
        aratio = gdata.aspectratio;

        pointoptions = r_graphData[graphname].pointData[pointname][1];

        pointoptions.x = xvalue;
        pointoptions.y = yvalue;


        pointElement.setAttribute('cx', r_graphToScaledX(pointoptions.x, gdata.xmin, gdata.xmax, aratio) + '%');
        pointElement.setAttribute('cy', r_graphToScaledY(pointoptions.y, gdata.ymin, gdata.ymax, aratio) + '%');

        r_graphData[graphname].pointData[pointname] = [pointElement, pointoptions]
    }

    function r_removePoint(graphname, pointname) {
        pointElement = document.getElementById(graphname + '-point-' + pointname);

        pointElement.outerHTML = "";
        delete r_graphData[graphname].pointData[pointname]
    }

    function r_removeLine(graphname, linename) {
        lineElement = document.getElementById(graphname + '-line-' + linename);
        lineElement.outerHTML = "";
        delete r_graphData[graphname].lineData[linename]
    }

    function r_removeCircle(graphname, circlename) {
        circleElement = document.getElementById(graphname + '-circle-' + circlename);
        circleElement.outerHTML = "";
        delete r_graphData[graphname].circleData[circlename]
    }

    function r_removeRectangle(graphname, rectname) {
        rectElement = document.getElementById(graphname + '-rect-' + rectname);
        rectElement.outerHTML = "";
        delete r_graphData[graphname].rectData[rectname]
    }

    function r_removeText(graphname, textname) {
        textElement = document.getElementById(graphname + '-text-' + textname);
        textElement.outerHTML = "";
        delete r_graphData[graphname].textData[textname]
    }

    function r_removePath(graphname, pathname) {
        pathElement = document.getElementById(graphname + '-path-' + pathname);
        pathElement.outerHTML = "";
        delete r_graphData[graphname].pathData[pathname]
    }

    function r_removeGraph(graphname) {
        graphElement = document.getElementById(graphname);
        graphElement.outerHTML = "";
        delete r_graphData[graphname]
    }

    function r_basicSlider(graphname2, slidernamebasic, maxv, minv, currentv, thickness, coordinates) {
        options = {};
        options.maxvalue = maxv;
        options.minvalue = minv;
        options.currentvalue = currentv;
        options.x1 = coordinates[0][0];
        options.y1 = coordinates[0][1];
        options.x2 = coordinates[1][0];
        options.y2 = coordinates[1][1];
        options.strokewidth = thickness;
        options.automaticallySetKnobRadius = 'yes';
        r_addSlider(graphname2, slidernamebasic, options)
    }

    function r_makeArc(arcradius, arcthickness, arccolor, startanglepercent, endanglepercent, ringname) {
        resolution = 100;
        arcpoints = [];
        for (p = startanglepercent * resolution; p < endanglepercent * (resolution + 1); p++) {
            quanta = 2 * Math.PI / resolution;
            arcpoints.push([arcradius * Math.cos(quanta * p), arcradius * Math.sin(quanta * p)])
        }
        options = {};
        options.points = arcpoints;
        options.pathcolor = arccolor;
        options.strokewidth = arcthickness;
        r_addPath('ringvisualgraph', ringname, options);
        // console.log(options.points)

        return arcpoints
    }

    function r_makeArcS(ringarcnum, arcradius, arcthickness, arccolor, startanglepercent, endanglepercent, ringname) {
        resolution = 20;
        arcpoints = [];
        for (p = startanglepercent * resolution; p < endanglepercent * (resolution + 1); p++) {
            quanta = 2 * Math.PI / resolution;
            arcpoints.push([arcradius * Math.cos(quanta * p), arcradius * Math.sin(quanta * p)])
        }
        options = {};
        options.points = arcpoints;
        options.pathcolor = arccolor;
        options.strokewidth = arcthickness;
        r_addPath('ringvisualgraph', ringname, options);
        // console.log(options.points)
    }

    function r_deleteSegments(collection) {
        if (typeof collection != 'undefined') {
            for (f = 0; f < collection.length; f++) {
                collection[f].outerHTML = ''
            }
        }
    }

    function r_randomChoice(choicearray) {
        return choicearray[parseInt(Math.random() * choicearray.length)]
    }

    function r_randomWeightedChoice(choicearray, weightArray) {
        if (choicearray.length == weightArray.length) {
            weightSumA = weightArray.reduce(function (a, b) {
                return a + b;
            }, 0);
            weightvalueChosen = Math.random() * weightSumA;
            weightSumZ = 0;
            for (weightIndex = 0; weightIndex < weightArray.length; weightIndex++) {
                weightSumZ = weightSumZ + weightArray[weightIndex];
                if (weightSumZ >= weightvalueChosen) {
                    indexchosenW = weightIndex;
                    break
                }
            }
            return choicearray[indexchosenW]
        }

    }

    function r_linearValue(xv1, xv2, yv1, yv2, inputvl) {
        return yv1 + ((inputvl - xv1) / (xv2 - xv1)) * (yv2 - yv1)
    }

    r_currentMovingPoint = '';
    function r_pointDrag(event) {

        gphname = r_reverseGraphElementMap[event.target.id][0];
        ptname = r_reverseGraphElementMap[event.target.id][1];
        if (r_graphData[gphname].pointData[ptname][1].currentlyDraggable == 'yes') {
            if (r_graphData[gphname].currentlyDraggableGraph == 'yes') {
                document.getElementById(gphname).removeEventListener('mousedown', r_graphDragHandle);
                document.getElementById(gphname).removeEventListener('touchstart', r_graphDragHandle)
            }
            event.target.removeEventListener('mousedown', r_pointDrag);
            event.target.removeEventListener('touchstart', r_pointDrag);
            window.addEventListener('mousemove', r_pointMoveEvent);
            window.addEventListener('mouseup', r_pointUpEvent);
            event.preventDefault();
            window.addEventListener('touchmove', r_pointMoveEvent, {passive: false});
            window.addEventListener('touchend', r_pointUpEvent);
            // window.addEventListener('mouseout', r_pointUpEvent)
            r_currentMovingPoint = event.target;
            eval(r_graphData[gphname].pointData[ptname][1].runFunctionOnDragStart)
        }

    }

    r_svgPTVariable = {};

    function r_pointMoveEvent(event) {
        event.preventDefault();
        gphname = r_reverseGraphElementMap[r_currentMovingPoint.id][0];
        ptname = r_reverseGraphElementMap[r_currentMovingPoint.id][1];
        var rect = document.getElementById(gphname).getBoundingClientRect();
        posx = event.clientX - rect.left;
        posy = event.clientY - rect.top;
        r_svgPTVariable[gphname].x = event.clientX;
        r_svgPTVariable[gphname].y = event.clientY;

        if (event.clientX == undefined) {
            posx = event.changedTouches[0].clientX - rect.left;
            posy = event.changedTouches[0].clientY - rect.top;
            r_svgPTVariable[gphname].x = event.changedTouches[0].clientX;
            r_svgPTVariable[gphname].y = event.changedTouches[0].clientY;
        }

        var cursorpt = r_svgPTVariable[gphname].matrixTransform(document.getElementById(gphname).getScreenCTM().inverse());

        moveX = r_svgToGraphX(cursorpt.x, r_graphData[gphname].xmin, r_graphData[gphname].xmax, r_graphData[gphname].aspectratio);
        moveY = r_svgToGraphY(cursorpt.y, r_graphData[gphname].ymin, r_graphData[gphname].ymax, r_graphData[gphname].aspectratio);

        if (typeof eval(r_graphData[gphname].pointData[ptname][1].dragIfCondition) != undefined) {
            if (eval(r_graphData[gphname].pointData[ptname][1].dragIfCondition) == true) {
                if (r_graphData[gphname].pointData[ptname][1].dragDirection == 'bothXY') {
                    eval(r_graphData[gphname].pointData[ptname][1].runFunctionDuringDrag);
                    r_updatePointXY(gphname, ptname, moveX, moveY)

                }
                else if (r_graphData[gphname].pointData[ptname][1].dragDirection == 'onlyY') {
                    eval(r_graphData[gphname].pointData[ptname][1].runFunctionDuringDrag);
                    r_updatePointXY(gphname, ptname, r_graphData[gphname].pointData[ptname][1].x, moveY)
                }
                else if (r_graphData[gphname].pointData[ptname][1].dragDirection == 'onlyX') {
                    eval(r_graphData[gphname].pointData[ptname][1].runFunctionDuringDrag);
                    r_updatePointXY(gphname, ptname, moveX, r_graphData[gphname].pointData[ptname][1].y)

                }
            }
        }
    }

    function r_pointUpEvent(event) {
        gphname = r_reverseGraphElementMap[r_currentMovingPoint.id][0];
        ptname = r_reverseGraphElementMap[r_currentMovingPoint.id][1];
        if (r_graphData[gphname].currentlyDraggableGraph == 'yes') {
            document.getElementById(gphname).addEventListener('mousedown', r_graphDragHandle);
            document.getElementById(gphname).addEventListener('touchstart', r_graphDragHandle)
        }
        r_currentMovingPoint.addEventListener('mousedown', r_pointDrag);
        r_currentMovingPoint.addEventListener('touchstart', r_pointDrag);
        window.removeEventListener('mousemove', r_pointMoveEvent);
        window.removeEventListener('mouseup', r_pointUpEvent);
        window.removeEventListener('touchmove', r_pointMoveEvent);
        window.removeEventListener('touchend', r_pointUpEvent);

        // window.removeEventListener('mouseout', r_pointUpEvent)
        eval(r_graphData[gphname].pointData[ptname][1].runFunctionOnDragEnd)
    }

    function r_wheelHandle(event) {
        event.preventDefault();
        whlvalue = (event.wheelDeltaY) / Math.abs(event.wheelDeltaY);
        if (event.wheelDeltaY == undefined) {
            whlvalue = (event.deltaY) / Math.abs(event.deltaY);
            // For FireFox
        }
        scalefactorup = 1.1;
        scalefactordown = 0.9;

        if (r_graphData[event.target.id.split('-')[0]] == undefined) {

        }
        else {
            gdata = r_graphData[event.target.id.split('-')[0]];

            scale = gdata.ymax - gdata.ymin;
            expstring = scale.toExponential().toString();
            ordery = (expstring.slice(expstring.indexOf('e') + 1) * (-1));
            // console.log(ordery)

            scale = gdata.xmax - gdata.xmin;
            expstring = scale.toExponential().toString();
            orderx = (expstring.slice(expstring.indexOf('e') + 1) * (-1));
            // console.log(orderx)

            gphname = gdata.name;

            var rect = document.getElementById(gphname).getBoundingClientRect();
            posx = event.clientX - rect.left;
            posy = event.clientY - rect.top;
            r_svgPTVariable[gphname].x = event.clientX;
            r_svgPTVariable[gphname].y = event.clientY;

            if (event.clientX == undefined) {
                posx = event.changedTouches[0].clientX - rect.left;
                posy = event.changedTouches[0].clientY - rect.top;
                r_svgPTVariable[gphname].x = event.changedTouches[0].clientX;
                r_svgPTVariable[gphname].y = event.changedTouches[0].clientY;
            }

            var cursorpt = r_svgPTVariable[gphname].matrixTransform(document.getElementById(gphname).getScreenCTM().inverse());

            zoomlocationX = r_svgToGraphX(cursorpt.x, r_graphData[gphname].xmin, r_graphData[gphname].xmax, r_graphData[gphname].aspectratio);
            zoomlocationY = r_svgToGraphY(cursorpt.y, r_graphData[gphname].ymin, r_graphData[gphname].ymax, r_graphData[gphname].aspectratio);

            currentvalues = r_graphData[gphname];

            posx = posx / rect.width;
            posy = posy / rect.height;

            if (posx > 0.11 && posx < 0.89 && posy > 0.11 && posy < 0.89) {
                if (whlvalue < 0) {
                    scaleupdownFactor = scalefactorup;
                    leftX = (zoomlocationX - currentvalues.xmin) * scaleupdownFactor;
                    newZXmin = zoomlocationX - leftX;
                    rightX = (currentvalues.xmax - zoomlocationX) * scaleupdownFactor;
                    newZXmax = zoomlocationX + rightX;
                    leftY = (zoomlocationY - currentvalues.ymin) * scaleupdownFactor;
                    newZYmin = zoomlocationY - leftY;
                    rightY = (currentvalues.ymax - zoomlocationY) * scaleupdownFactor;
                    newZYmax = zoomlocationY + rightY;

                    options = {};
                    options.xmin = newZXmin;
                    options.xmax = newZXmax;
                    options.ymin = newZYmin;
                    options.ymax = newZYmax;

                    r_updateGraphZoom(gphname, options)
                }
                else if (whlvalue >= 0 && orderx < 14 && ordery < 14) {

                    scaleupdownFactor = scalefactordown;
                    leftX = (zoomlocationX - currentvalues.xmin) * scaleupdownFactor;
                    newZXmin = zoomlocationX - leftX;
                    rightX = (currentvalues.xmax - zoomlocationX) * scaleupdownFactor;
                    newZXmax = zoomlocationX + rightX;
                    leftY = (zoomlocationY - currentvalues.ymin) * scaleupdownFactor;
                    newZYmin = zoomlocationY - leftY;
                    rightY = (currentvalues.ymax - zoomlocationY) * scaleupdownFactor;
                    newZYmax = zoomlocationY + rightY;

                    options = {};
                    options.xmin = newZXmin;
                    options.xmax = newZXmax;
                    options.ymin = newZYmin;
                    options.ymax = newZYmax;
                    r_updateGraphZoom(gphname, options)
                }
            }


        }
    }

    r_currentMovingGraph = '';
    r_currentMovingGraphStartLocation = [];

    function r_graphDragHandle(event) {
        event.preventDefault();
        gphname = event.target.id.split('-')[0];
        if (r_graphData[gphname].currentlyDraggableGraph == 'yes') {
            r_graphData[gphname].svgElement.removeEventListener('mousedown', r_graphDragHandle);
            r_graphData[gphname].svgElement.removeEventListener('touchstart', r_graphDragHandle);
            window.addEventListener('mousemove', r_graphDragMoveEvent);
            window.addEventListener('mouseup', r_graphDragUpEvent);
            event.preventDefault();
            window.addEventListener('touchmove', r_graphDragMoveEvent, {passive: false});
            window.addEventListener('touchend', r_graphDragUpEvent);
            // window.addEventListener('mouseout', r_pointUpEvent)
            r_currentMovingGraph = r_graphData[gphname].svgElement;

            var rect = document.getElementById(gphname).getBoundingClientRect();
            posx = event.clientX - rect.left;
            posy = event.clientY - rect.top;
            r_svgPTVariable[gphname].x = event.clientX;
            r_svgPTVariable[gphname].y = event.clientY;

            if (event.clientX == undefined) {
                posx = event.changedTouches[0].clientX - rect.left;
                posy = event.changedTouches[0].clientY - rect.top;
                r_svgPTVariable[gphname].x = event.changedTouches[0].clientX;
                r_svgPTVariable[gphname].y = event.changedTouches[0].clientY;

            }

            var cursorpt = r_svgPTVariable[gphname].matrixTransform(document.getElementById(gphname).getScreenCTM().inverse());

            tapX = r_svgToGraphX(cursorpt.x, r_graphData[gphname].xmin, r_graphData[gphname].xmax, r_graphData[gphname].aspectratio);
            tapY = r_svgToGraphY(cursorpt.y, r_graphData[gphname].ymin, r_graphData[gphname].ymax, r_graphData[gphname].aspectratio);

            r_currentMovingGraphStartLocation = [tapX, tapY];
            r_currentMovingGraphOriginalBounds = [r_graphData[gphname].xmin, r_graphData[gphname].xmax, r_graphData[gphname].ymin, r_graphData[gphname].ymax];

            r_currentMovingGraph.style.cursor = 'move'

        }
    }

    function r_clientToGraph(clientValues, graphNameInput) {
        r_svgPTVariable[graphNameInput].x = clientValues[0];
        r_svgPTVariable[graphNameInput].y = clientValues[1];

        var cursorpt = r_svgPTVariable[gphname].matrixTransform(document.getElementById(gphname).getScreenCTM().inverse());

        return [r_svgToGraphX(cursorpt.x, r_graphData[gphname].xmin, r_graphData[gphname].xmax, r_graphData[gphname].aspectratio), r_svgToGraphY(cursorpt.y, r_graphData[gphname].ymin, r_graphData[gphname].ymax, r_graphData[gphname].aspectratio)]

    }

    function r_graphPinchMoveEvent(event) {
        if (event.changedTouches.length == 2) {
            gphname = event.target.id.split('-')[0];
            touch1 = [event.changedTouches[0].clientX, event.changedTouches[0].clientY];
            touch2 = [event.changedTouches[1].clientX, event.changedTouches[1].clientY];

            touch1 = r_clientToGraph(touch1, gphname);
            touch2 = r_clientToGraph(touch2, gphname);

            oldtouch1 = r_clientToGraph(r_pinchStartData[0], gphname);
            oldtouch2 = r_clientToGraph(r_pinchStartData[1], gphname);

            pinchScale = r_distF(oldtouch1, oldtouch2) / r_distF(touch1, touch2);
            pinchStartMidpoint = [(oldtouch1[0] + oldtouch2[0]) / 2, (oldtouch1[1] + oldtouch2[1]) / 2];

            zoomlocationX = pinchStartMidpoint[0];
            zoomlocationY = pinchStartMidpoint[1];

            gdata = r_graphData[gphname];

            scale = gdata.ymax - gdata.ymin;
            expstring = scale.toExponential().toString();
            ordery = (expstring.slice(expstring.indexOf('e') + 1) * (-1));
            // console.log(ordery)

            scale = gdata.xmax - gdata.xmin;
            expstring = scale.toExponential().toString();
            orderx = (expstring.slice(expstring.indexOf('e') + 1) * (-1));
            // console.log(orderx)

            currentvalues = r_graphData[gphname];

            scaleFactorForTouch = 1;
            if (pinchScale <= 1) {
                scaleFactorForTouch = r_linearValue(0, 1, 0.9, 1, pinchScale)
            }
            else {
                scaleFactorForTouch = r_linearValue(1, 5, 1, 1.1, pinchScale)
            }

            leftX = (zoomlocationX - currentvalues.xmin) * scaleFactorForTouch;
            newZXmin = zoomlocationX - leftX;
            rightX = (currentvalues.xmax - zoomlocationX) * scaleFactorForTouch;
            newZXmax = zoomlocationX + rightX;
            leftY = (zoomlocationY - currentvalues.ymin) * scaleFactorForTouch;
            newZYmin = zoomlocationY - leftY;
            rightY = (currentvalues.ymax - zoomlocationY) * scaleFactorForTouch;
            newZYmax = zoomlocationY + rightY;

            options = {};
            options.xmin = newZXmin;
            options.xmax = newZXmax;
            options.ymin = newZYmin;
            options.ymax = newZYmax;

            r_updateGraphZoom(gphname, options);

            // console.log(pinchStartMidpoint)
        }
    }

    function r_graphPinchEndEvent(event) {
        r_pinchZoom = false;
        window.removeEventListener('touchmove', r_graphPinchMoveEvent);
        window.removeEventListener('touchend', r_graphPinchEndEvent)
    }

    r_pinchZoom = false;
    r_pinchStartData = [];

    function r_graphDragMoveEvent(event) {
        event.preventDefault();
        gphname = r_currentMovingGraph.id;
        var rect = document.getElementById(gphname).getBoundingClientRect();
        posx = event.clientX - rect.left;
        posy = event.clientY - rect.top;
        r_svgPTVariable[gphname].x = event.clientX;
        r_svgPTVariable[gphname].y = event.clientY;

        touchEventDetect = 0;

        if (event.clientX == undefined) {
            posx = event.changedTouches[0].clientX - rect.left;
            posy = event.changedTouches[0].clientY - rect.top;
            r_svgPTVariable[gphname].x = event.changedTouches[0].clientX;
            r_svgPTVariable[gphname].y = event.changedTouches[0].clientY;

            if (event.changedTouches.length == 2) {
                oldtouch1 = [event.changedTouches[0].clientX, event.changedTouches[0].clientY];
                oldtouch2 = [event.changedTouches[1].clientX, event.changedTouches[1].clientY];
                r_pinchStartData = [oldtouch1, oldtouch2];
                dummyEve = {};
                r_pinchZoom = true;
                r_graphDragUpEvent(dummyEve);
                window.addEventListener('touchmove', r_graphPinchMoveEvent);
                window.addEventListener('touchend', r_graphPinchEndEvent)
            }

            touchEventDetect = event.changedTouches[0].identifier

        }

        if (r_pinchZoom == false && touchEventDetect == 0) {
            var cursorpt = r_svgPTVariable[gphname].matrixTransform(document.getElementById(gphname).getScreenCTM().inverse());

            moveX = r_svgToGraphX(cursorpt.x, r_graphData[gphname].xmin, r_graphData[gphname].xmax, r_graphData[gphname].aspectratio);
            moveY = r_svgToGraphY(cursorpt.y, r_graphData[gphname].ymin, r_graphData[gphname].ymax, r_graphData[gphname].aspectratio);

            deltaVecX = moveX - r_currentMovingGraphStartLocation[0];
            deltaVecY = moveY - r_currentMovingGraphStartLocation[1];
            currentvalues = r_graphData[gphname];

            newZXmin = currentvalues.xmin - deltaVecX;
            newZXmax = currentvalues.xmax - deltaVecX;
            newZYmin = currentvalues.ymin - deltaVecY;
            newZYmax = currentvalues.ymax - deltaVecY;

            if (typeof eval(r_graphData[gphname].dragIfCondition) != undefined) {
                if (eval(r_graphData[gphname].dragIfCondition) == true) {
                    if (r_graphData[gphname].dragDirection == 'bothXY') {
                        options = {};
                        options.xmin = newZXmin;
                        options.xmax = newZXmax;
                        options.ymin = newZYmin;
                        options.ymax = newZYmax;
                        r_updateGraphZoom(gphname, options);
                        eval(r_graphData[gphname].runFunctionDuringDrag)
                    }
                    else if (r_graphData[gphname].dragDirection == 'onlyY') {
                        options = {};
                        options.ymin = newZYmin;
                        options.ymax = newZYmax;
                        r_updateGraphZoom(gphname, options);
                        eval(r_graphData[gphname].runFunctionDuringDrag)
                    }
                    else if (r_graphData[gphname].dragDirection == 'onlyX') {
                        options = {};
                        options.xmin = newZXmin;
                        options.xmax = newZXmax;
                        r_updateGraphZoom(gphname, options);
                        eval(r_graphData[gphname].runFunctionDuringDrag)
                    }
                }
            }
        }


    }

    function r_graphDragUpEvent(event) {
        gphname = r_currentMovingGraph.id;

        r_currentMovingGraph.addEventListener('mousedown', r_graphDragHandle);
        r_currentMovingGraph.addEventListener('touchstart', r_graphDragHandle);
        window.removeEventListener('mousemove', r_graphDragMoveEvent);
        window.removeEventListener('mouseup', r_graphDragUpEvent);
        window.removeEventListener('touchmove', r_graphDragMoveEvent);
        window.removeEventListener('touchend', r_graphDragUpEvent);

        // window.removeEventListener('mouseout', r_pointUpEvent)
        eval(r_graphData[gphname].runFunctionOnDragEnd);

        r_currentMovingGraph.style.cursor = 'auto'
    }

    function r_graphTouchDisable(event) {
        event.preventDefault()
    }

    function r_getSvgCursorLocation(clocation, graph_name) {
        gphname = r_graphData[graph_name].name;

        r_svgPTVariable[gphname].x = clocation.x;
        r_svgPTVariable[gphname].y = clocation.y;

        var cursorpt2 = r_svgPTVariable[gphname].matrixTransform(document.getElementById(gphname).getScreenCTM().inverse());

        moveX2 = r_svgToGraphX(cursorpt2.x, r_graphData[gphname].xmin, r_graphData[gphname].xmax, r_graphData[gphname].aspectratio);
        moveY2 = r_svgToGraphY(cursorpt2.y, r_graphData[gphname].ymin, r_graphData[gphname].ymax, r_graphData[gphname].aspectratio);

        return [moveX2, moveY2]
    }


    r_dmode = 'square';
    if (1.25 * window.innerWidth < window.innerHeight && window.innerWidth < window.innerHeight) {
        r_dmode = 'portrait'
    }
    else if (window.innerWidth > 1.3 * window.innerHeight && window.innerWidth > window.innerHeight) {
        r_dmode = 'landscape'
    }

    function r_setFont(divCollection, fontval) {
        for (divN = 0; divN < divCollection.length; divN++) {
            document.getElementById(divCollection[divN]).style.fontSize = fontval
        }
    }

    function r_distF(pt1, pt2) {
        return Math.pow(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2), 0.5)
    }

    function r_addVec(pt1, pt2) {
        return [pt1[0] + pt2[0], pt1[1] + pt2[1]]
    }

    function r_directionvec(pt1, pt2) {
        diff = [pt2[0] - pt1[0], pt2[1] - pt1[1]];
        difflen = r_distF(diff, [0, 0]);
        return [diff[0] / difflen, diff[1] / difflen]
    }

    function r_mod(ofVector) {
        return r_distF(ofVector, [0, 0])
    }

    function r_shuffle(array) {
        var currentIndex = array.length, temporaryValue, randomIndex;

        // While there remain elements to shuffle...
        while (0 !== currentIndex) {

            // Pick a remaining element...
            randomIndex = Math.floor(Math.random() * currentIndex);
            currentIndex -= 1;

            // And swap it with the current element.
            temporaryValue = array[currentIndex];
            array[currentIndex] = array[randomIndex];
            array[randomIndex] = temporaryValue;
        }
        return array;
    }

    function r_handleLayout1() {
        if (r_dmode == 'landscape') {
            // document.getElementById('mainVSpacer1').style.width = '2%'
            // document.getElementById('MainBlock1').style.width = '48%'
            // document.getElementById('mainVSpacer2').style.width = '5%'
            // document.getElementById('MainBlock2').style.width = '43%'
            // document.getElementById('mainVSpacer3').style.width = '2%'

            // $('#plotGraphH').appendTo('#MainBlock1')
            // $('#mainB2HSpacer5').appendTo('#MainBlock1')
            // $('#parametersH').appendTo('#MainBlock1')
            // $('#mainB2HSpacer6').appendTo('#MainBlock1')

            // document.getElementById('mainB2HSpacer1').style.height = '3%'
            // document.getElementById('maintitle').style.textAlign = 'right'
            // // document.getElementById('titleH').style.height = '15%'
            // document.getElementById('maintitle').style.fontSize = '2vmax'

            // document.getElementById('maintitle').innerHTML = "<font style='font-weight: bold;'>Epidemic Simulation </font><br/><font style='font-family: Source Sans Pro; font-size: 1.1vmax; vertical-align: bottom;'>An interactive inspired by 3Blue1Brown's <a href='https://www.youtube.com/watch?v=gxAaO2rsdIs' style='text-decoration: none; cursor: pointer;' target='_blank'><font style='color: hsla(197, 100%, 50%, 1);'>'Simulating an Epidemic' video</font></a><br/><font style='font-size: 0.9vmax'>For other interactives, visit <a href='https://prajwalsouza.github.io/' style='text-decoration: none; cursor: pointer;' target='_blank'><font style='color: hsla(280, 100%, 70%, 1);'>prajwalsouza.github.io</font></a></font></font>"

            // document.getElementById('mainB2HSpacer2').style.height = '3%'
            // document.getElementById('caseTypeNameH').style.height = '4%'
            // document.getElementById('caseTypeNameH').style.fontSize = '1vmax'

            // document.getElementById('upperLayer').style.height = '65%'
            // document.getElementById('simpleGraphH').style.height = '65%'
            // document.getElementById('centralLocationCaseGraphH').style.height = '65%'
            // document.getElementById('communitiesCaseGraphH').style.height = '65%'
            // document.getElementById('simpleCaseGraph&QH').style.height = '65%'
            // document.getElementById('centralLocationQuarantineCaseGraphH').style.height = '65%'
            // document.getElementById('communitiesQuarantineCaseGraphH').style.height = '65%'

            // document.getElementById('play-Info-QuarantineH').style.height = '4%'

            // document.getElementById('playbutton').style.fontSize = '0.8vmax'
            // document.getElementById('resetbutton').style.fontSize = '0.8vmax'

            // document.getElementById('playButtonH').style.width = '12%'
            // document.getElementById('resetButtonH').style.width = '12%'

            // document.getElementById('play-Info-QuarantineHSpacer1').style.width = '4%'

            // document.getElementById('infoH').style.fontSize = '0.8vmax'
            // document.getElementById('infoH').style.width = '100%'

            // document.getElementById('quarantineH').style.fontSize = '0.9vmax'
            // document.getElementById('quarantineH').style.float = 'right'
            // document.getElementById('quarantineH').style.width = '25%'
            // document.getElementById('quarantineH').style.fontFamily = 'Source Sans Pro'
            // document.getElementById('quarantinecheckLabel').style.fontSize = '0.9vmax'

            // document.getElementById('mainB2HSpacer3').style.height = '3%'
            // document.getElementById('caseTypeChooseH').style.height = '4%'

            // document.getElementById('simpleCaseoption').style.fontSize = '0.86vmax'
            // document.getElementById('centralLocationoption').style.fontSize = '0.86vmax'
            // document.getElementById('communitiesoption').style.fontSize = '0.86vmax'

            // document.getElementById('simpleCaseoptionH').style.width = '14%'
            // document.getElementById('centralLocationoptionH').style.width = '27%'
            // document.getElementById('communitiesoptionH').style.width = '23%'

            // // $('#CommunitiesoptionH').insertBefore('#simpleCaseoptionH')
            // // $('#centralLocationoptionH').insertBefore('#simpleCaseoptionH')

            // $('#quarantineH').insertAfter('#communitiesoptionH')

            // // document.getElementById('simpleCaseoptionH').style.float = 'right'
            // // document.getElementById('centralLocationoptionH').style.float = 'right'
            // // document.getElementById('CommunitiesoptionH').style.float = 'right'

            // document.getElementById('plotGraphH').style.height = '40%'
            // document.getElementById('parametersH').style.height = '45%'

            // document.getElementById('parametersTitleText').style.fontSize = '1.1vmax'
            // document.getElementById('parametersTitleText').style.height = '10%'

            // document.getElementById('additionalPText').style.fontSize = '0.7vmax'

            // document.getElementById('parametersListH').style.fontSize = '0.96vmax'

            // document.getElementById('mainB2HSpacer6').style.height = '1%'

            // $('#infoH').insertAfter('#mainB2HSpacer6')

            // document.getElementById('gradfillParameters').style.background = 'linear-gradient(to bottom,hsla(0, 0%, 0%, 0), hsla(0, 100%, 100%, 0) 8%, hsla(0, 100%, 0%, 1) 10%, hsla(0, 100%, 100%, 0) 14%, hsla(0, 0%, 0%, 0) 88%,hsla(0, 100%, 0%, 1) 100%,hsla(0, 100%, 100%, 0) 100%,hsla(0, 100%, 100%, 0))'

        }
    }

    // r_handleLayout1()


    uid = 0;
    r_graphData = {};
    r_reverseGraphElementMap = {};

    loopcount = 0;
    timecount = 0;
    playing = true;

    frameInterval = 0;
    calculationFrameInterval = 0;

    function r_setUpTopBarGraph() {
        graphH = document.getElementById('TopBarGraphH');
        graphoptions = {};
        graphoptions.xmax = 10;
        graphoptions.xmin = -10;

        graphoptions.ymax = 1;
        graphoptions.ymin = -1;

        graphoptions.axislocationX = 0;
        graphoptions.axislocationY = 0;

        graphoptions.xaxislabelvisibility = 'no';
        graphoptions.yaxislabelvisibility = 'no';

        graphoptions.xaxisvisibility = 'no';
        graphoptions.yaxisvisibility = 'no';

        graphoptions.xmajorgridlabelvisibility = 'no';
        graphoptions.ymajorgridlabelvisibility = 'no';

        graphoptions.xmajorgridlinesvisibility = 'no';
        graphoptions.ymajorgridlinesvisibility = 'no';

        graphoptions.fontSize = 1.6;

        // graphoptions.unitAspectRatio = 'yes'
        graphoptions.fixAxisStretchCentrally = 'yes';

        graphoptions.scrollZoom = 'no';
        graphoptions.draggability = 'no';

        r_addGraph(graphH, 'topBarGraph', graphoptions);

        for (ptk = 0; ptk < 10; ptk++) {
            options = {};
            options.x = -6 + (Math.random() * 18);
            options.y = -0.5 + (Math.random() * 1.5);
            options.pointsize = 7;
            r_addPoint('topBarGraph', 'normalPT' + ptk, options)
        }

        for (ptk = 0; ptk < 5; ptk++) {
            topxLoc = -6 + (Math.random() * 18);
            topyLoc = -0.5 + (Math.random() * 1.5);

            options = {};
            options.x = topxLoc;
            options.y = topyLoc;
            options.pointsize = 16;
            options.pointcolor = 'hsla(280, 100%, 50%, 0.1)';
            r_addPoint('topBarGraph', 'susPTc1' + ptk, options);

            options = {};
            options.x = topxLoc;
            options.y = topyLoc;
            options.pointsize = 13;
            options.pointcolor = 'hsla(280, 100%, 50%, 0.1)';
            r_addPoint('topBarGraph', 'susPTc2' + ptk, options);

            options = {};
            options.x = topxLoc;
            options.y = topyLoc;
            options.pointsize = 10;
            options.pointcolor = 'hsla(280, 100%, 50%, 0.1)';
            r_addPoint('topBarGraph', 'susPTc3' + ptk, options);

            options = {};
            options.x = topxLoc;
            options.y = topyLoc;
            options.pointsize = 7;
            options.pointcolor = 'hsla(280, 100%, 50%, 1)';
            r_addPoint('topBarGraph', 'susPT' + ptk, options)
        }

        for (ptk = 0; ptk < 3; ptk++) {
            topxLoc = -6 + (Math.random() * 18);
            topyLoc = -0.5 + (Math.random() * 1.5);

            options = {};
            options.x = topxLoc;
            options.y = topyLoc;
            options.pointsize = 16;
            options.pointcolor = 'hsla(2, 100%, 50%, 0.1)';
            r_addPoint('topBarGraph', 'infectPTc1' + ptk, options);

            options = {};
            options.x = topxLoc;
            options.y = topyLoc;
            options.pointsize = 13;
            options.pointcolor = 'hsla(2, 100%, 50%, 0.1)';
            r_addPoint('topBarGraph', 'infectPTc2' + ptk, options);

            options = {};
            options.x = topxLoc;
            options.y = topyLoc;
            options.pointsize = 10;
            options.pointcolor = 'hsla(2, 100%, 50%, 0.1)';
            r_addPoint('topBarGraph', 'infectPTc3' + ptk, options);

            options = {};
            options.x = topxLoc;
            options.y = topyLoc;
            options.pointsize = 7;
            options.pointcolor = 'hsla(2, 100%, 50%, 1)';
            r_addPoint('topBarGraph', 'infectPT' + ptk, options)
        }

        for (ptk = 0; ptk < 2; ptk++) {
            topxLoc = 3 + (Math.random() * 4);
            topyLoc = 0 + (Math.random() * 1.2);

            options = {};
            options.x = topxLoc;
            options.y = topyLoc;
            options.pointsize = 30;
            options.pointcolor = 'hsla(2, 100%, 50%, 0.1)';
            r_addPoint('topBarGraph', 'infectLPTc1' + ptk, options);

            options = {};
            options.x = topxLoc;
            options.y = topyLoc;
            options.pointsize = 25;
            options.pointcolor = 'hsla(2, 100%, 50%, 0.1)';
            r_addPoint('topBarGraph', 'infectLPTc2' + ptk, options);

            options = {};
            options.x = topxLoc;
            options.y = topyLoc;
            options.pointsize = 20;
            options.pointcolor = 'hsla(2, 100%, 50%, 0.1)';
            r_addPoint('topBarGraph', 'infectLPTc3' + ptk, options);

            options = {};
            options.x = topxLoc;
            options.y = topyLoc;
            options.pointsize = 15;
            options.pointcolor = 'hsla(2, 100%, 50%, 1)';
            r_addPoint('topBarGraph', 'infectLPT' + ptk, options)
        }

        for (ptk = 0; ptk < 2; ptk++) {
            topxLoc = 8 + (Math.random() * 4);
            topyLoc = 0.2 + (Math.random() * 1.5);

            options = {};
            options.x = topxLoc;
            options.y = topyLoc;
            options.pointsize = 55;
            options.pointcolor = 'hsla(280, 100%, 50%, 0.1)';
            r_addPoint('topBarGraph', 'exposeLPTc1' + ptk, options);

            options = {};
            options.x = topxLoc;
            options.y = topyLoc;
            options.pointsize = 45;
            options.pointcolor = 'hsla(280, 100%, 50%, 0.1)';
            r_addPoint('topBarGraph', 'exposeLPTc2' + ptk, options);

            options = {};
            options.x = topxLoc;
            options.y = topyLoc;
            options.pointsize = 35;
            options.pointcolor = 'hsla(280, 100%, 50%, 0.1)';
            r_addPoint('topBarGraph', 'exposeLPTc3' + ptk, options);

            options = {};
            options.x = topxLoc;
            options.y = topyLoc;
            options.pointsize = 25;
            options.pointcolor = 'hsla(280, 100%, 50%, 1)';
            r_addPoint('topBarGraph', 'exposeLPT' + ptk, options)
        }
    }

    r_setUpTopBarGraph();

    r_dayWiseGData = {};

    r_singleParameterGraphs = {
        borderClose: ['BorderCloseGraph', 'dynaParameterBorderClosingH'],
        hospitalization: ['HospitalizationGraph', 'dynaParameterHospitalizationH'],
        lockdown: ['LockdownGraph', 'dynaParameterLockdownH'],
        quarantine: ['QuarantineGraph', 'dynaParameterQuarantineH'],
        dailytesting: ['DailytestingGraph', 'dynaParameterDailytestingH'],
        contactTracing: ['ContactTracingGraph', 'dynaParameterContactTracingH'],
        socialDistancing: ['SocialDistancingGraph', 'dynaParameterSocialDistancingH'],
        ageBasedLockDown: ['AgeBasedLockDownGraph', 'dynaParameterAgeBasedLockDownH']
    };

    r_singleParameterGraphMap = {
        'BorderCloseGraph': ['BorderCloseGraph', {}, 'Click to close borders between', 'Borders Closed between ', '190, 100%', 'none', 'border_closing', {}, 'p_close_borders'],
        'HospitalizationGraph': ['HospitalizationGraph', {}, 'Click to start Hospitalization between', 'Hospitalization is practised between ', '5, 100%', 'none', 'hospitalization', {}, 'p_hospitalization'],
        'LockdownGraph': ['LockdownGraph', {}, 'Click to start Lockdown between', 'Lockdown is practised between ', '220, 100%', 'none', 'lockdown', {}, 'p_lockdown'],
        'QuarantineGraph': ['QuarantineGraph', {}, 'Click to start Quarantine Approach between', 'Quarantine Approach is practised between ', '40, 100%', 'none', 'quarantine', {}, 'p_quarantine'],
        'DailytestingGraph': ['DailytestingGraph', {}, 'Click to start Daily Testing Approach between', 'Daily Testing Approach is practised between ', '320, 100%', 'TestingCapacityGraph', 'daily_testing', {}, 'p_daily_testing'],
        'ContactTracingGraph': ['ContactTracingGraph', {}, 'Click to start Contact Tracing Approach between', 'Contact Tracing is practised between ', '130, 100%', 'none', 'contact_tracing', {}, 'p_contact_tracing'],
        'SocialDistancingGraph': ['SocialDistancingGraph', {}, 'Click to start Social Distancing Approach between', 'Social Distancing is practised between ', '180, 100%', 'none', 'social_distancing', {}, 'p_social_distancing'],
        'AgeBasedLockDownGraph': ['AgeBasedLockDownGraph', {}, 'Click to start Age based lockdown approach between', 'Age based lockdown is practised between ', '280, 100%', 'AgeThresholdGraph', 'age_based_lockdown', {}, 'p_age_lockdown']
    };

    r_singleParameterGraphMapRev = {
        'border_closing': 'BorderCloseGraph',
        'hospitalization': 'HospitalizationGraph',
        'lockdown': 'LockdownGraph',
        'quarantine': 'QuarantineGraph',
        'daily_testing': 'DailytestingGraph',
        'contact_tracing': 'ContactTracingGraph',
        'social_distancing': 'SocialDistancingGraph',
        'age_based_lockdown': 'AgeBasedLockDownGraph'
    };


    for (policy in r_singleParameterGraphMap) {
        policyG = r_singleParameterGraphMap[policy];
        document.getElementById(policyG[6] + '_disp_check').style.color = 'hsla(' + policyG[4] + ', 50%, 1)'
    }


    r_timeMax = 150;

    function r_dynaPMouseOut(event) {
        graphReferred = r_singleParameterGraphMap[event.target.id.split('-')[0]][0];
        r_updateLine(graphReferred, 'sliderFillInstruct@' + graphReferred, {x1: -100, y1: 0, x2: -99, y2: 0});
        r_updatePoint(graphReferred, 'sliderthumbInstructleft@' + graphReferred, {x: -100, y: 0});
        r_updatePoint(graphReferred, 'sliderthumbInstructright@' + graphReferred, {x: -99, y: 0});
        r_updateText(graphReferred, 'nameDisplay@' + graphReferred, {x: -99, y: 0, text: ''})

    }

    function r_dynaPMouseMove(event) {
        graphReferred = r_singleParameterGraphMap[event.target.id.split('-')[0]][0];
        if ((event.target.id == "" + graphReferred + "-line-slidertrack@" + graphReferred + "" || event.target.id == "" + graphReferred + "" || event.target.id == "" + graphReferred + "-line-sliderFillInstruct@" + graphReferred + "" || event.target.id == "" + graphReferred + "-point-sliderthumbInstructleft@" + graphReferred + "" || event.target.id == "" + graphReferred + "-point-sliderthumbInstructright@" + graphReferred + "") && borderAddPT) {
            cursorloc = {x: event.clientX, y: event.clientY};
            if (event.clientX == undefined) {
                cursorloc = {x: event.changedTouches[0].clientX, y: event.changedTouches[0].clientY}
            }

            moveToLoc = parseInt(r_getSvgCursorLocation(cursorloc, graphReferred)[0]);

            moveConditions = r_getEndPointData(moveToLoc, graphReferred);
            if (moveConditions[0]) {
                r_updateLine(graphReferred, 'sliderFillInstruct@' + graphReferred, {
                    x1: moveToLoc,
                    y1: 0,
                    x2: moveConditions[1],
                    y2: 0
                });
                r_updatePoint(graphReferred, 'sliderthumbInstructleft@' + graphReferred, {x: moveToLoc, y: 0});
                r_updatePoint(graphReferred, 'sliderthumbInstructright@' + graphReferred, {x: moveConditions[1], y: 0});
                r_updateText(graphReferred, 'nameDisplay@' + graphReferred, {
                    x: (moveToLoc + moveConditions[1]) / 2,
                    y: 0.6,
                    text: r_singleParameterGraphMap[graphReferred][2] + ' Day ' + moveToLoc + ' and Day ' + moveConditions[1]
                })
            }
            else {
                r_updateLine(graphReferred, 'sliderFillInstruct@' + graphReferred, {x1: -100, y1: 0, x2: -99, y2: 0});
                r_updatePoint(graphReferred, 'sliderthumbInstructleft@' + graphReferred, {x: -100, y: 0});
                r_updatePoint(graphReferred, 'sliderthumbInstructright@' + graphReferred, {x: -99, y: 0});
                r_updateText(graphReferred, 'nameDisplay@' + graphReferred, {x: -99, y: 0, text: ''})
            }
        }


    }

    function r_getEndPointData(start_point, toGraph) {
        allowed = true;
        toPlaceEnd = r_timeMax;
        placeendset = false;
        startPoints = Object.keys(r_singleParameterGraphMap[toGraph][1]).sort(function (a, b) {
            return r_singleParameterGraphMap[toGraph][1][a][0] - r_singleParameterGraphMap[toGraph][1][b][0]
        });
        for (start_pIndex = 0; start_pIndex < startPoints.length; start_pIndex++) {
            start_p = r_singleParameterGraphMap[toGraph][1][startPoints[start_pIndex]][0];
            if (start_point >= (start_p - 1) && start_point <= r_singleParameterGraphMap[toGraph][1][startPoints[start_pIndex]][1]) {
                allowed = false;
                break
            }
            if (start_point < start_p && placeendset == false) {
                if (start_point < start_p - 1) {
                    toPlaceEnd = start_p - 1
                }
                placeendset = true
            }
        }

        if (start_point >= r_timeMax || start_point < 0) {
            allowed = false
        }

        return [allowed, toPlaceEnd]
    }

    function r_handledynaPDrag(graphNR, knobType, knobName, location_x) {
        graphNR = r_singleParameterGraphMap[graphNR.id.split('-')[0]][0];
        location_x = parseInt(location_x);
        if (knobType == 'left') {
            r_singleParameterGraphMap[graphNR][1][knobName][0] = location_x;
            r_updateLine(graphNR, 'sliderFill@' + knobName + '@' + graphNR, {
                x1: r_singleParameterGraphMap[graphNR][1][knobName][0],
                y1: 0,
                x2: r_singleParameterGraphMap[graphNR][1][knobName][1],
                y2: 0
            })
        }
        else if (knobType == 'right') {
            r_singleParameterGraphMap[graphNR][1][knobName][1] = location_x;
            r_updateLine(graphNR, 'sliderFill@' + knobName + '@' + graphNR, {
                x1: r_singleParameterGraphMap[graphNR][1][knobName][0],
                y1: 0,
                x2: r_singleParameterGraphMap[graphNR][1][knobName][1],
                y2: 0
            })
        }
        moveX = parseInt(moveX);
        r_calculateDayWise(graphNR);

        r_updateRectangle('dynaFullGraph', 'displayBackRect@' + knobName + '@' + graphNR, {
            x: r_singleParameterGraphMap[graphNR][1][knobName][0],
            y: 200,
            w: r_singleParameterGraphMap[graphNR][1][knobName][1] - r_singleParameterGraphMap[graphNR][1][knobName][0],
            h: 300
        });

        if (r_singleParameterGraphMap[graphNR][5] != 'none') {
            r_drawAllLinesAndPointsVS(r_singleParameterGraphMap[graphNR][5])
        }

    }


    function r_calculateDayWise(graph_n) {
        for (day in r_dayWiseGData[graph_n]) {
            r_dayWiseGData[graph_n][day] = 0
        }
        for (varkey in r_singleParameterGraphMap[graph_n][1]) {
            for (dayS = r_singleParameterGraphMap[graph_n][1][varkey][0]; dayS <= r_singleParameterGraphMap[graph_n][1][varkey][1]; dayS++) {
                r_dayWiseGData[graph_n][dayS] = 1
            }
        }
    }


    function r_handleDynaPDragIf(graphNR, knobType, knobName, location_x) {
        graphNR = r_singleParameterGraphMap[graphNR.id.split('-')[0]][0];
        location_x = parseInt(location_x);
        if (knobType == 'left') {
            allowedRange = [r_singleParameterGraphMap[graphNR][1][knobName][0], r_singleParameterGraphMap[graphNR][1][knobName][1] - 1];
            startPoints = Object.keys(r_singleParameterGraphMap[graphNR][1]).sort(function (a, b) {
                return r_singleParameterGraphMap[graphNR][1][a][0] - r_singleParameterGraphMap[graphNR][1][b][0]
            });
            getprevIndex = startPoints.length - 2;

            currentknob = startPoints.indexOf(knobName.toString());

            if (currentknob == 0) {
                allowedRange = [0, allowedRange[1]]
            }
            else {
                allowedRange = [r_singleParameterGraphMap[graphNR][1][startPoints[currentknob - 1]][1], allowedRange[1]]
            }

            if (location_x > allowedRange[0] && location_x <= allowedRange[1]) {
                return true
            }
            else {
                return false
            }
        }
        else if (knobType == 'right') {
            allowedRange = [r_singleParameterGraphMap[graphNR][1][knobName][0] + 1, r_timeMax];
            startPoints = Object.keys(r_singleParameterGraphMap[graphNR][1]).sort(function (a, b) {
                return r_singleParameterGraphMap[graphNR][1][b][0] - r_singleParameterGraphMap[graphNR][1][a][0]
            });

            currentknob = startPoints.indexOf(knobName.toString());

            if (currentknob == 0) {
                allowedRange = [allowedRange[0], r_timeMax + 1]
            }
            else {
                allowedRange = [allowedRange[0], r_singleParameterGraphMap[graphNR][1][startPoints[currentknob - 1]][0]]
            }

            if (location_x >= allowedRange[0] && location_x < allowedRange[1]) {
                return true
            }
            else {
                return false
            }
        }
    }

    function r_displayDynaPData(event) {
        graphReferred = r_singleParameterGraphMap[event.target.id.split('-')[0]][0];
        cursorloc = {x: event.clientX, y: event.clientY};
        if (event.clientX == undefined) {
            cursorloc = {x: event.changedTouches[0].clientX, y: event.changedTouches[0].clientY}
        }
        eventLoc = parseInt(r_getSvgCursorLocation(cursorloc, graphReferred)[0]);

        for (var ptspacekey in r_singleParameterGraphMap[graphReferred][1]) {
            if (eventLoc >= r_singleParameterGraphMap[graphReferred][1][ptspacekey][0] && eventLoc <= r_singleParameterGraphMap[graphReferred][1][ptspacekey][1]) {
                r_updateText(graphReferred, 'nameDisplay@' + graphReferred, {
                    x: (r_singleParameterGraphMap[graphReferred][1][ptspacekey][0] + r_singleParameterGraphMap[graphReferred][1][ptspacekey][1]) / 2,
                    y: 0.6,
                    text: r_singleParameterGraphMap[graphReferred][3] + 'Day ' + r_singleParameterGraphMap[graphReferred][1][ptspacekey][0] + ' and Day ' + r_singleParameterGraphMap[graphReferred][1][ptspacekey][1]
                });

                break
            }
        }
    }


    function r_displayDynaPDataOut(event) {
        graphReferred = r_singleParameterGraphMap[event.target.id.split('-')[0]][0];
        r_updateText(graphReferred, 'nameDisplay@' + graphReferred, {x: -99, y: 0, text: ''});
        r_updateText(graphReferred, 'remove@' + graphReferred, {x: -99, y: 0, text: ''})
    }

    borderAddPT = true;
    pUid = 0;

    function r_addDynaPPointSpecific(atValues, graphReferred) {
        pUid = pUid + 1;
        lineadded = r_addLine(graphReferred, 'sliderFill@' + pUid + '@' + graphReferred, {
            x1: atValues[0],
            y1: 0,
            x2: atValues[1],
            y2: 0,
            linecolor: 'hsla(' + r_singleParameterGraphMap[graphReferred][4] + ', 50%, 1)',
            strokewidth: 4
        })[0];

        // addedpt = r_addPoint(graphReferred, 'sliderthumbleft@' + pUid + '@' + graphReferred, {
        // 	x: atValues[0],
        // 	y: 0,
        // 	pointcolor: 'hsla(' + r_singleParameterGraphMap[graphReferred][4] + ', 50%, 1)',
        // 	pointsize: 14,
        // 	dragDirection: 'onlyX',
        // 	draggability: 'yes',
        // 	dragIfCondition: 'r_handleDynaPDragIf(' + graphReferred + ',"left", ' + pUid + ', moveX)',
        // 	runFunctionDuringDrag: 'r_handledynaPDrag(' + graphReferred + ',"left", ' + pUid + ', moveX)',
        // 	runFunctionOnDragStart: 'borderAddPT = false'
        // })[0];
        // addedpt.style.cursor = 'ew-resize';

        // addedpt = r_addPoint(graphReferred, 'sliderthumbright@' + pUid + '@' + graphReferred, {
        // 	x: atValues[1],
        // 	y: 0,
        // 	pointcolor: 'hsla(' + r_singleParameterGraphMap[graphReferred][4] + ', 50%, 1)',
        // 	pointsize: 14,
        // 	dragDirection: 'onlyX',
        // 	draggability: 'yes',
        // 	dragIfCondition: 'r_handleDynaPDragIf(' + graphReferred + ',"right", ' + pUid + ', moveX)',
        // 	runFunctionDuringDrag: 'r_handledynaPDrag(' + graphReferred + ',"right", ' + pUid + ', moveX)',
        // 	runFunctionOnDragStart: 'borderAddPT = false'
        // })[0];
        // addedpt.style.cursor = 'ew-resize';

        r_singleParameterGraphMap[graphReferred][1][pUid] = [atValues[0], atValues[1]];


        r_addRectangle('dynaFullGraph', 'displayBackRect@' + pUid + '@' + graphReferred, {
            x: atValues[0],
            y: 200,
            w: atValues[1] - atValues[0],
            h: 300,
            rectcolor: 'hsla(' + r_singleParameterGraphMap[graphReferred][4] + ', 50%, 0.05)',
            strokewidth: 0,
            stroke: 'none'
        });

        if (document.getElementById(r_singleParameterGraphMap[graphReferred][6] + '_disp').checked == false) {
            r_updateRectangle('dynaFullGraph', 'displayBackRect@' + pUid + '@' + graphReferred, {rectcolor: 'hsla(' + r_singleParameterGraphMap[graphReferred][4] + ', 50%, 0)'})
        }

        r_singleParameterGraphMap[graphReferred][7]['displayBackRect@' + pUid + '@' + graphReferred] = true;


        for (dayval = atValues[0]; dayval <= atValues[1]; dayval++) {
            r_dayWiseGData[graphReferred][dayval] = 1
        }

        if (r_singleParameterGraphMap[graphReferred][5] != 'none') {
            r_drawAllLinesAndPointsVS(r_singleParameterGraphMap[graphReferred][5])
        }
    }

    function r_addDynaPPoint(event) {
        graphReferred = r_singleParameterGraphMap[event.target.id.split('-')[0]][0];
        if (event.target.id != graphReferred + "-text-remove@" + graphReferred) {
            cursorloc = {x: event.clientX, y: event.clientY};
            if (event.clientX == undefined) {
                cursorloc = {x: event.changedTouches[0].clientX, y: event.changedTouches[0].clientY}
            }

            moveToLoc = parseInt(r_getSvgCursorLocation(cursorloc, graphReferred)[0]);
            moveConditions = r_getEndPointData(moveToLoc, graphReferred);
            if (moveConditions[0] && borderAddPT) {
                r_addDynaPPointSpecific([moveToLoc, moveConditions[1]], graphReferred)

            }

            if (borderAddPT == false) {
                borderAddPT = true
            }
        }
    }

    function r_removeDynaPPoint(event) {
        graphReferred = r_singleParameterGraphMap[event.target.id.split('-')[0]][0];
        cursorloc = {x: event.clientX, y: event.clientY};
        if (event.clientX == undefined) {
            cursorloc = {x: event.changedTouches[0].clientX, y: event.changedTouches[0].clientY}
        }
        eventLoc = parseInt(r_getSvgCursorLocation(cursorloc, graphReferred)[0]);

        for (var ptspacekey in r_singleParameterGraphMap[graphReferred][1]) {
            if (eventLoc >= r_singleParameterGraphMap[graphReferred][1][ptspacekey][0] && eventLoc <= r_singleParameterGraphMap[graphReferred][1][ptspacekey][1]) {
                for (dayval = r_singleParameterGraphMap[graphReferred][1][ptspacekey][0]; dayval <= r_singleParameterGraphMap[graphReferred][1][ptspacekey][1]; dayval++) {
                    r_dayWiseGData[graphReferred][dayval] = 0
                }

                if (r_singleParameterGraphMap[graphReferred][5] != 'none') {
                    r_drawAllLinesAndPointsVS(r_singleParameterGraphMap[graphReferred][5])
                }

                delete r_singleParameterGraphMap[graphReferred][7]['displayBackRect@' + ptspacekey + '@' + graphReferred];

                delete r_singleParameterGraphMap[graphReferred][1][ptspacekey];
                r_removeLine(graphReferred, 'sliderFill@' + ptspacekey + '@' + graphReferred);
                r_removePoint(graphReferred, 'sliderthumbleft@' + ptspacekey + '@' + graphReferred);
                r_removePoint(graphReferred, 'sliderthumbright@' + ptspacekey + '@' + graphReferred);
                r_removeRectangle('dynaFullGraph', 'displayBackRect@' + ptspacekey + '@' + graphReferred)

            }
        }

        r_updateText(graphReferred, 'nameDisplay@' + graphReferred, {x: -99, y: 0, text: ''});
        r_updateText(graphReferred, 'remove@' + graphReferred, {x: -99, y: 0, text: ''})
    }

    function r_setUpDynaPGraphs() {
        for (gph in r_singleParameterGraphs) {
            graphH = document.getElementById(r_singleParameterGraphs[gph][1]);
            graphoptions = {};
            graphoptions.xmax = r_timeMax;
            graphoptions.xmin = 0;

            graphoptions.ymax = 1;
            graphoptions.ymin = -1;

            graphoptions.axislocationX = 0;
            graphoptions.axislocationY = 0;

            graphoptions.xaxislabelvisibility = 'no';
            graphoptions.yaxislabelvisibility = 'no';

            graphoptions.xaxisvisibility = 'no';
            graphoptions.yaxisvisibility = 'no';

            graphoptions.xmajorgridlabelvisibility = 'no';
            graphoptions.ymajorgridlabelvisibility = 'no';

            graphoptions.xmajorgridlinesvisibility = 'no';
            graphoptions.ymajorgridlinesvisibility = 'no';

            graphoptions.fontSize = 8;

            // graphoptions.unitAspectRatio = 'yes'
            // graphoptions.fixAxisStretchCentrally = 'yes'

            graphoptions.scrollZoom = 'no';
            graphoptions.draggability = 'no';

            graphAdded = r_addGraph(graphH, r_singleParameterGraphs[gph][0], graphoptions);
            // graphAdded.svgElement.addEventListener('mousemove', r_dynaPMouseMove);
            // graphAdded.svgElement.addEventListener('click', r_addDynaPPoint);
            // graphAdded.svgElement.addEventListener('touchmove', r_dynaPMouseMove);
            // graphAdded.svgElement.addEventListener('touchend', r_dynaPMouseOut);
            // graphAdded.svgElement.addEventListener('touchcancel', r_dynaPMouseOut);
            // graphAdded.svgElement.addEventListener('mouseout', r_dynaPMouseOut);
            graphAdded.svgElement.style.cursor = 'pointer';
            graphAdded.svgElement.style.pointerEvents = 'auto';

            graphAdded.svgElement.addEventListener('mousemove', r_displayDynaPData);
            graphAdded.svgElement.addEventListener('touchmove', r_displayDynaPData);

            graphAdded.svgElement.addEventListener('mouseout', r_displayDynaPDataOut);
            graphAdded.svgElement.addEventListener('touchend', r_displayDynaPDataOut);
            graphAdded.svgElement.addEventListener('touchcancel', r_displayDynaPDataOut);

            r_addLine(r_singleParameterGraphs[gph][0], 'slidertrack@' + r_singleParameterGraphs[gph][0], {
                x1: 0,
                y1: 0,
                x2: r_timeMax,
                y2: 0,
                linecolor: 'hsla(0, 0%, 80%, 1)',
                strokewidth: 4
            });


            r_addLine(r_singleParameterGraphs[gph][0], 'sliderFillInstruct@' + r_singleParameterGraphs[gph][0], {
                x1: -100,
                y1: 0,
                x2: -99,
                y2: 0,
                linecolor: 'hsla(' + r_singleParameterGraphMap[r_singleParameterGraphs[gph][0]][4] + ', 90%, 1)',
                strokewidth: 4
            });

            pointadded = r_addPoint(r_singleParameterGraphs[gph][0], 'sliderthumbInstructleft@' + r_singleParameterGraphs[gph][0], {
                x: -100,
                y: 0,
                pointcolor: 'hsla(' + r_singleParameterGraphMap[r_singleParameterGraphs[gph][0]][4] + ', 80%, 1)',
                pointsize: 16
            });

            pointadded = r_addPoint(r_singleParameterGraphs[gph][0], 'sliderthumbInstructright@' + r_singleParameterGraphs[gph][0], {
                x: -99,
                y: 0,
                pointcolor: 'hsla(' + r_singleParameterGraphMap[r_singleParameterGraphs[gph][0]][4] + ', 80%, 1)',
                pointsize: 16
            });

            r_addText(r_singleParameterGraphs[gph][0], 'nameDisplay@' + r_singleParameterGraphs[gph][0], {
                x: -100,
                y: 0,
                text: '',
                textAlign: 'center',
                fontSize: "2vmax",
                textcolor: 'hsla(' + r_singleParameterGraphMap[r_singleParameterGraphs[gph][0]][4] + ', 30%, 1)'
            });

            addedTXT = r_addText(r_singleParameterGraphs[gph][0], 'remove@' + r_singleParameterGraphs[gph][0], {
                x: -100,
                y: 0,
                text: '',
                textAlign: 'center',
                fontSize: "2vmax",
                textcolor: 'hsla(2, 0%, 0%, 1)'
            })[0];
            addedTXT.style.fontWeight = 'bold';
            addedTXT.addEventListener('click', r_removeDynaPPoint);

            r_dayWiseGData[r_singleParameterGraphs[gph][0]] = {};
            for (dayval = 0; dayval <= r_timeMax; dayval++) {
                r_dayWiseGData[r_singleParameterGraphs[gph][0]][dayval] = 0
            }

        }


    }

    r_setUpDynaPGraphs();


    r_vslideGs = {
        'AgeThresholdGraph': ['dynaParameterAgeThresholdH',
            'none',
            {},
            ' : Alowed to move if below age ',
            'none',
            true,
            'AgeBasedLockDownGraph',
            60,
            5,
            100,
            '280, 100%',
            'a_lockdown_threshhold'],
        'TestingCapacityGraph': ['dynaParameterTestingCapacityH',
            'none',
            {},
            ' : Tests per day are ',
            'none',
            true,
            'DailytestingGraph',
            5,
            0,
            100,
            '320, 100%',
            'c_testing'],
        'ICUBedsGraph': ['dynaParameterICUBedsH',
            'none',
            {},
            ' : New ICU beds added are ',
            'none',
            false,
            'none',
            0,
            0,
            500,
            '2, 100%',
            'c_icu_beds'],
        'HBedsGraph': ['dynaParameterHBedsH',
            'none',
            {},
            ' : New Hospital beds added are ',
            'none',
            false,
            'none',
            0,
            0,
            500,
            '2, 100%',
            'c_hospital_bed']
    };


    function r_vSMouseOut(event) {
        graphVS = event.target.id.split('-')[0];
        for (dayp = 0; dayp <= r_timeMax; dayp++) {
            r_graphData[graphVS].pointData['knob@' + dayp + '@' + graphVS][0].setAttribute('rx', '1.5%');
            r_graphData[graphVS].pointData['knob@' + dayp + '@' + graphVS][0].setAttribute('ry', '1.5%');
        }

        r_updateText(graphVS, 'valueDisplayText@' + graphVS, {x: -100, y: 0, text: ''})
    }

    function r_vSMouseMove(event) {
        graphVS = event.target.id.split('-')[0];
        if (r_vslideGs[graphVS][1] == 'none') {
            cursorloc = {x: event.clientX, y: event.clientY};
            if (event.clientX == undefined) {
                cursorloc = {x: event.changedTouches[0].clientX, y: event.changedTouches[0].clientY}
            }

            eventLoc = r_getSvgCursorLocation(cursorloc, graphVS);

            for (dayp = 0; dayp <= r_timeMax; dayp++) {
                r_graphData[graphVS].pointData['knob@' + dayp + '@' + graphVS][0].setAttribute('rx', '1.5%');
                r_graphData[graphVS].pointData['knob@' + dayp + '@' + graphVS][0].setAttribute('ry', '1.5%');
            }

            xloc = parseInt(eventLoc[0] + 0.5);

            if (r_vslideGs[graphVS][2][xloc] != undefined) {
                r_graphData[graphVS].pointData['knob@' + xloc + '@' + graphVS][0].setAttribute('rx', '3%');
                r_graphData[graphVS].pointData['knob@' + xloc + '@' + graphVS][0].setAttribute('ry', '3%');
                transformedFactorV = r_vslideGs[graphVS][2][xloc];
                textPlaceFactor = 17;
                if (r_linearValue(r_vslideGs[graphVS][8], r_vslideGs[graphVS][9], 0, 100, r_vslideGs[graphVS][2][xloc]) > 50) {
                    textPlaceFactor = -17
                }
                r_updateText(graphVS, 'valueDisplayText@' + graphVS, {
                    x: xloc,
                    y: r_linearValue(r_vslideGs[graphVS][8], r_vslideGs[graphVS][9], 0, 100, r_vslideGs[graphVS][2][xloc]) + textPlaceFactor,
                    text: 'Day ' + xloc + r_vslideGs[graphVS][3] + transformedFactorV + '.'
                })
            }
        }
        else {
            r_graphData[graphVS].pointData['knob@' + r_vslideGs[graphVS][4] + '@' + graphVS][0].setAttribute('rx', '3%');
            r_graphData[graphVS].pointData['knob@' + r_vslideGs[graphVS][4] + '@' + graphVS][0].setAttribute('ry', '3%');
            transformedFactorV = r_vslideGs[graphVS][2][r_vslideGs[graphVS][4]];
            textPlaceFactor = 17;
            if (r_linearValue(r_vslideGs[graphVS][8], r_vslideGs[graphVS][9], 0, 100, r_vslideGs[graphVS][2][r_vslideGs[graphVS][4]]) > 50) {
                textPlaceFactor = -17
            }
            r_updateText(graphVS, 'valueDisplayText@' + graphVS, {
                x: r_vslideGs[graphVS][4],
                y: r_linearValue(r_vslideGs[graphVS][8], r_vslideGs[graphVS][9], 0, 100, r_vslideGs[graphVS][2][r_vslideGs[graphVS][4]]) + textPlaceFactor,
                text: 'Day ' + r_vslideGs[graphVS][4] + r_vslideGs[graphVS][3] + transformedFactorV + '.'
            })
        }

    }

    function r_drawAllLinesAndPointsVS(linkGraph) {
        graphVS = linkGraph;
        for (var dayp in r_vslideGs[graphVS][2]) {
            dayp = parseInt(dayp);
            if (dayp != r_timeMax) {
                if (r_vslideGs[graphVS][6] != 'none') {
                    if (r_dayWiseGData[r_vslideGs[graphVS][6]][dayp] == 1) {
                        r_updateLine(linkGraph, 'knobLine@' + dayp + '@' + (dayp + 1) + '@' + linkGraph, {
                            x1: dayp,
                            y1: r_linearValue(r_vslideGs[graphVS][8], r_vslideGs[graphVS][9], 0, 100, r_vslideGs[graphVS][2][dayp]),
                            x2: dayp + 1,
                            y2: r_linearValue(r_vslideGs[graphVS][8], r_vslideGs[graphVS][9], 0, 100, r_vslideGs[graphVS][2][dayp + 1]),
                            linecolor: 'hsla(' + r_vslideGs[graphVS][10] + ', 50%, 1)'
                        })
                    }
                    else {
                        r_updateLine(linkGraph, 'knobLine@' + dayp + '@' + (dayp + 1) + '@' + linkGraph, {
                            x1: dayp,
                            y1: r_linearValue(r_vslideGs[graphVS][8], r_vslideGs[graphVS][9], 0, 100, r_vslideGs[graphVS][2][dayp]),
                            x2: dayp + 1,
                            y2: r_linearValue(r_vslideGs[graphVS][8], r_vslideGs[graphVS][9], 0, 100, r_vslideGs[graphVS][2][dayp + 1]),
                            linecolor: 'grey'
                        })
                    }
                }
                else {
                    r_updateLine(linkGraph, 'knobLine@' + dayp + '@' + (dayp + 1) + '@' + linkGraph, {
                        x1: dayp,
                        y1: r_linearValue(r_vslideGs[graphVS][8], r_vslideGs[graphVS][9], 0, 100, r_vslideGs[graphVS][2][dayp]),
                        x2: dayp + 1,
                        y2: r_linearValue(r_vslideGs[graphVS][8], r_vslideGs[graphVS][9], 0, 100, r_vslideGs[graphVS][2][dayp + 1]),
                        linecolor: 'hsla(' + r_vslideGs[graphVS][10] + ', 50%, 1)'
                    })
                }

            }

            if (r_vslideGs[graphVS][6] != 'none') {
                if (r_dayWiseGData[r_vslideGs[graphVS][6]][dayp] == 1) {
                    r_updatePoint(linkGraph, 'knob@' + dayp + '@' + linkGraph, {pointcolor: 'hsla(' + r_vslideGs[graphVS][10] + ', 50%, 1)'})
                }
                else {
                    r_updatePoint(linkGraph, 'knob@' + dayp + '@' + linkGraph, {pointcolor: 'grey'})
                }

                r_updatePointXY(linkGraph, 'knob@' + dayp + '@' + linkGraph, dayp, r_linearValue(r_vslideGs[graphVS][8], r_vslideGs[graphVS][9], 0, 100, r_vslideGs[graphVS][2][dayp]))
            }
            else {
                r_updatePoint(linkGraph, 'knob@' + dayp + '@' + linkGraph, {pointcolor: 'hsla(' + r_vslideGs[graphVS][10] + ', 50%, 1)'});
                r_updatePointXY(linkGraph, 'knob@' + dayp + '@' + linkGraph, dayp, r_linearValue(r_vslideGs[graphVS][8], r_vslideGs[graphVS][9], 0, 100, r_vslideGs[graphVS][2][dayp]))

            }

        }
    }

    function r_knobVSMove(knobXv, knobYv) {
        r_vslideGs[graphVS][4] = parseInt(r_vslideGs[graphVS][4]);
        knobYv = r_linearValue(0, 100, r_vslideGs[graphVS][8], r_vslideGs[graphVS][9], knobYv);
        knobYv = parseInt(knobYv);

        if (knobYv < r_vslideGs[graphVS][8]) {
            knobYv = r_vslideGs[graphVS][8]
        }

        if (knobYv > r_vslideGs[graphVS][9]) {
            knobYv = r_vslideGs[graphVS][9]
        }

        if (r_vslideGs[graphVS][5]) {
            for (dayp = r_vslideGs[graphVS][4]; dayp <= r_timeMax; dayp++) {
                r_vslideGs[graphVS][2][dayp] = knobYv
            }
            r_drawAllLinesAndPointsVS(graphVS)
        }
        else {
            r_vslideGs[graphVS][2][r_vslideGs[graphVS][4]] = knobYv;
            r_drawAllLinesAndPointsVS(graphVS)
        }

    }

    function r_knobVSMoveIf(knobYv, glink) {
        graphVS = glink;
        if (knobYv >= -1 && knobYv < 101) {
            return true
        }
        else {
            return false
        }
    }

    function r_toggleDraggingVS(event) {
        graphVS = event.target.id.split('-')[0];
        if (r_vslideGs[graphVS][5] == true) {
            r_vslideGs[graphVS][5] = false;
            r_updateText(graphVS, 'dragAllPointsTillEnd@' + graphVS, {
                textcolor: 'grey',
                text: 'Click here to turn on dragging all points till the end'
            })
        }
        else {
            r_vslideGs[graphVS][5] = true;
            r_updateText(graphVS, 'dragAllPointsTillEnd@' + graphVS, {
                textcolor: 'hsla(' + r_vslideGs[graphVS][10] + ', 50%, 1)',
                text: 'Click here to turn off dragging all points till the end'
            })
        }
    }

    function r_setUpVSGraphs() {
        for (var graphVS in r_vslideGs) {
            graphH = document.getElementById(r_vslideGs[graphVS][0]);
            graphoptions = {};
            graphoptions.xmax = r_timeMax;
            graphoptions.xmin = 0;

            graphoptions.ymax = 100;
            graphoptions.ymin = -10;

            graphoptions.axislocationX = 0;
            graphoptions.axislocationY = 0;

            graphoptions.xaxislabelvisibility = 'no';
            graphoptions.yaxislabelvisibility = 'no';

            graphoptions.xaxisvisibility = 'no';
            graphoptions.yaxisvisibility = 'no';

            graphoptions.xmajorgridlabelvisibility = 'no';
            graphoptions.ymajorgridlabelvisibility = 'no';

            graphoptions.xmajorgridlinesvisibility = 'no';
            graphoptions.ymajorgridlinesvisibility = 'no';

            graphoptions.fontSize = 8;


            graphoptions.scrollZoom = 'no';
            graphoptions.draggability = 'no';

            graphAdded = r_addGraph(graphH, graphVS, graphoptions);

            graphAdded.svgElement.addEventListener('mousemove', r_vSMouseMove);
            graphAdded.svgElement.addEventListener('mouseout', r_vSMouseOut);
            graphAdded.svgElement.style.cursor = 'auto';
            graphAdded.svgElement.style.pointerEvents = 'auto';

            r_addText(graphVS, 'valueDisplayText@' + graphVS, {
                x: -100,
                y: 0,
                text: '',
                textAlign: 'center',
                fontSize: "0.37vmax",
                textcolor: 'hsla(0, 0%, 0%, 1)'
            })[0];

            addedText = r_addText(graphVS, 'dragAllPointsTillEnd@' + graphVS, {
                x: -1000,
                y: -20,
                text: 'Click here to turn off dragging all points till the end',
                textAlign: 'center',
                fontSize: "0.37vmax",
                textcolor: 'hsla(' + r_vslideGs[graphVS][10] + ', 50%, 1)'
            })[0];
            addedText.style.fontWeight = 'bold';
            addedText.style.cursor = 'pointer';
            // addedText.addEventListener('click', r_toggleDraggingVS);

            for (dayp = 0; dayp <= r_timeMax; dayp++) {
                if (dayp != r_timeMax) {
                    if (r_vslideGs[graphVS][6] != 'none') {
                        if (r_dayWiseGData[r_vslideGs[graphVS][6]][dayp] == 1) {
                            r_addLine(graphVS, 'knobLine@' + dayp + '@' + (dayp + 1) + '@' + graphVS, {
                                x1: dayp,
                                y1: r_linearValue(r_vslideGs[graphVS][8], r_vslideGs[graphVS][9], 0, 100, r_vslideGs[graphVS][7]),
                                x2: dayp + 1,
                                y2: r_vslideGs[graphVS][7],
                                linecolor: 'hsla(' + r_vslideGs[graphVS][10] + ', 50%, 1)',
                                strokewidth: 2
                            })
                        }
                        else {
                            r_addLine(graphVS, 'knobLine@' + dayp + '@' + (dayp + 1) + '@' + graphVS, {
                                x1: dayp,
                                y1: r_linearValue(r_vslideGs[graphVS][8], r_vslideGs[graphVS][9], 0, 100, r_vslideGs[graphVS][7]),
                                x2: dayp + 1,
                                y2: r_vslideGs[graphVS][7],
                                linecolor: 'grey',
                                strokewidth: 2
                            })
                        }
                    }
                    else {
                        r_addLine(graphVS, 'knobLine@' + dayp + '@' + (dayp + 1) + '@' + graphVS, {
                            x1: dayp,
                            y1: r_linearValue(r_vslideGs[graphVS][8], r_vslideGs[graphVS][9], 0, 100, r_vslideGs[graphVS][7]),
                            x2: dayp + 1,
                            y2: r_linearValue(r_vslideGs[graphVS][8], r_vslideGs[graphVS][9], 0, 100, r_vslideGs[graphVS][7]),
                            linecolor: 'hsla(' + r_vslideGs[graphVS][10] + ', 50%, 1)',
                            strokewidth: 2
                        })
                    }

                }
            }

            for (dayp = 0; dayp <= r_timeMax; dayp++) {
                r_vslideGs[graphVS][2][dayp] = r_vslideGs[graphVS][7];
                if (r_vslideGs[graphVS][6] != 'none') {
                    if (r_dayWiseGData[r_vslideGs[graphVS][6]][dayp] == 1) {
                        pointadded = r_addPoint(graphVS, 'knob@' + dayp + '@' + graphVS, {
                            x: dayp,
                            y: r_linearValue(r_vslideGs[graphVS][8], r_vslideGs[graphVS][9], 0, 100, r_vslideGs[graphVS][7]),
                            pointcolor: 'hsla(' + r_vslideGs[graphVS][10] + ', 50%, 1)',
                            pointsize: 1.5

                        })[0]
                    }
                    else {
                        pointadded = r_addPoint(graphVS, 'knob@' + dayp + '@' + graphVS, {
                            x: dayp,
                            y: r_linearValue(r_vslideGs[graphVS][8], r_vslideGs[graphVS][9], 0, 100, r_vslideGs[graphVS][7]),
                            pointcolor: 'grey',
                            pointsize: 1.5
                        })[0]
                    }
                    // pointadded.style.cursor = 'ns-resize';
                    pointadded.style.pointerEvents = 'auto'
                }
                else {
                    pointadded = r_addPoint(graphVS, 'knob@' + dayp + '@' + graphVS, {
                        x: dayp,
                        y: r_linearValue(r_vslideGs[graphVS][8], r_vslideGs[graphVS][9], 0, 100, r_vslideGs[graphVS][7]),
                        pointcolor: 'hsla(' + r_vslideGs[graphVS][10] + ', 50%, 1)',
                        pointsize: 1.5
                    })[0];
                    // pointadded.style.cursor = 'ns-resize';
                    pointadded.style.pointerEvents = 'auto'
                }

            }

            r_addRectangle(graphVS, 'boundRect@' + graphVS, {
                x: -2,
                y: 100,
                w: r_timeMax + 4,
                h: 100,
                rectcolor: 'none',
                stroke: 'black',
                strokewidth: 1
            });

            valueStart = r_vslideGs[graphVS][8];
            valueEnd = r_vslideGs[graphVS][9];
            for (valueY = valueStart; valueY <= valueEnd; valueY = valueY + (valueEnd - valueStart) / 5) {
                addedText = r_addText(graphVS, parseInt(valueY) + '@yText@' + graphVS, {
                    x: -4,
                    y: r_linearValue(r_vslideGs[graphVS][8], r_vslideGs[graphVS][9], 0, 100, valueY),
                    text: valueY.toFixed(0),
                    textAlign: 'center',
                    fontSize: "0.3vmax",
                    textcolor: 'hsla(' + r_vslideGs[graphVS][10] + ', 50%, 1)'
                })[0];
                addedText.style.fontWeight = 'bold'
            }
        }

    }

    r_setUpVSGraphs();

    r_removeText('ICUBedsGraph', 'dragAllPointsTillEnd@' + 'ICUBedsGraph');
    r_removeText('HBedsGraph', 'dragAllPointsTillEnd@' + 'HBedsGraph');


    function r_setUpTimeGraphs() {
        graphH = document.getElementById('dynaParameterTimeGraphH');
        graphoptions = {};
        graphoptions.xmax = r_timeMax;
        graphoptions.xmin = 0;

        graphoptions.ymax = 1;
        graphoptions.ymin = -1;

        graphoptions.axislocationX = 0;
        graphoptions.axislocationY = 0;

        graphoptions.xaxislabelvisibility = 'no';
        graphoptions.yaxislabelvisibility = 'no';

        graphoptions.xaxisvisibility = 'no';
        graphoptions.yaxisvisibility = 'no';

        graphoptions.xmajorgridlabelvisibility = 'no';
        graphoptions.ymajorgridlabelvisibility = 'no';

        graphoptions.xmajorgridlinesvisibility = 'no';
        graphoptions.ymajorgridlinesvisibility = 'no';

        graphoptions.fontSize = 8;


        graphoptions.scrollZoom = 'no';
        graphoptions.draggability = 'no';

        gAdded = r_addGraph(graphH, 'timePGraph', graphoptions);

        gAdded.svgElement.addEventListener('mousemove', r_plotMoveHandle);
        gAdded.svgElement.addEventListener('mouseout', r_plotMoveOutHandle);
        gAdded.svgElement.style.pointerEvents = 'auto';

        timePvalues = 10;
        for (tval = 0; tval <= r_timeMax; tval = tval + (r_timeMax / timePvalues)) {
            r_addText('timePGraph', 'tpvalue@' + tval, {
                x: tval,
                y: 0,
                text: parseInt(tval),
                textAlign: 'center',
                fontSize: "2vmax",
                textcolor: 'hsla(0, 0%, 0%, 1)'
            })
        }
    }

    r_setUpTimeGraphs();


    function r_setUpOverlayGraph() {
        graphH = document.getElementById('dynaFullGraphH');
        graphoptions = {};
        graphoptions.xmax = r_timeMax;
        graphoptions.xmin = 0;

        graphoptions.ymax = 100;
        graphoptions.ymin = -1;

        graphoptions.axislocationX = 0;
        graphoptions.axislocationY = 0;

        graphoptions.xaxislabelvisibility = 'no';
        graphoptions.yaxislabelvisibility = 'no';

        graphoptions.xaxisvisibility = 'no';
        graphoptions.yaxisvisibility = 'no';

        graphoptions.xmajorgridlabelvisibility = 'no';
        graphoptions.ymajorgridlabelvisibility = 'no';

        graphoptions.xmajorgridlinesvisibility = 'no';
        graphoptions.ymajorgridlinesvisibility = 'no';

        graphoptions.fontSize = 8;


        graphoptions.scrollZoom = 'no';
        graphoptions.draggability = 'no';

        addedG = r_addGraph(graphH, 'dynaFullGraph', graphoptions);
        // addedG.svgElement.style.zIndex = 200
        addedG.svgElement.style.pointerEvents = 'none';

        r_addLine('dynaFullGraph', 'showline', {
            x1: -100,
            y1: 0,
            x2: -200,
            y2: 100,
            linecolor: 'hsla(0, 0%, 10%, 0.7)',
            strokedasharray: [5, 5]
        });

        // timePvalues = 10
        // for (tval = 0; tval <= r_timeMax; tval = tval + (r_timeMax/timePvalues)) {
        // 	r_addLine('dynaFullGraph', 'tpline@' + tval,  {x1: tval, y1: 0, x2: tval, y2: 100, linecolor: 'hsla(0, 0%, 10%, 0.1)'})
        // }
    }

    r_setUpOverlayGraph();

    //todo ashu - change to 100
    r_plotMax = 100;


    r_plotDataParameters = {
        "infected_agents": {color: '2, 100%', name: 'Infected Agents'},
        "exposed_agents": {color: '320, 100%', name: 'Exposed Agents'},
        "recovered_agents": {color: '280, 100%', name: 'Recovered Agents'},
        "dead_agents": {color: '280, 0%', name: 'Dead Agents'},
        "asympt_agents": {color: '230, 100%', name: 'Asymptomatic Agents'},
        "suscept_agents": {color: '190, 100%', name: 'Susceptible Agents'}
    };

    r_plotData = {
        "infected_agents": [],
        "exposed_agents": [],
        "recovered_agents": [],
        "dead_agents": [],
        "asympt_agents": [],
        "suscept_agents": []
    };

    function r_generateDummy() {
        for (dayV = 0; dayV <= r_timeMax; dayV++) {
            r_plotData['infected_agents'].push([dayV, Math.random() * 0.001 + 0.02 * Math.exp(-1 * Math.pow((dayV - 60), 2) / 200)]);
            r_plotData['exposed_agents'].push([dayV, Math.random() * 0.001 + 0.01 * Math.exp(-1 * Math.pow((dayV - 150), 2) / 100)]);
            r_plotData['recovered_agents'].push([dayV, Math.random() * 0.001 + 0.02 * Math.exp(-1 * Math.pow((dayV - 40), 2) / 700)]);
            r_plotData['dead_agents'].push([dayV, Math.random() * 0.01 + 0.01 * Math.exp(-1 * Math.pow((dayV - 44), 2) / 100)]);
            r_plotData['asympt_agents'].push([dayV, Math.random() * 0.001 + 0.03 * Math.exp(-1 * Math.pow((dayV - 134), 2) / 1200)]);
            r_plotData['suscept_agents'].push([dayV, Math.random() * 0.001 + 0.09 * Math.exp(-1 * Math.pow((dayV + 10), 2) / 2000)])
        }
    }

    r_generateDummy();

    function r_plotMoveOutHandle(event) {
        r_updateLine('dynaFullGraph', 'showline', {x1: -100, y1: 0, x2: -200, y2: 100});
        r_updateText('plotG', 'plotDayText', {x: -100, y: -200});
        r_updateRectangle('plotG', 'plotCoverRect', {x: -100, y: -200, w: 2, h: 2});

        for (plotcase in r_plotDataParameters) {
            r_updateText('plotG', 'plot@' + plotcase + '@Text', {x: -100, y: -200});
            r_updatePointXY('plotG', 'plot@' + plotcase + '@Point', -200, -300)
        }
    }

    function r_plotMoveHandle(event) {
        cursorloc = {x: event.clientX, y: event.clientY};
        if (event.clientX == undefined) {
            cursorloc = {x: event.changedTouches[0].clientX, y: event.changedTouches[0].clientY}
        }

        eventLoc = r_getSvgCursorLocation(cursorloc, 'plotG');
        if (eventLoc[0] >= 0 && eventLoc[0] <= r_timeMax) {
            r_updateLine('dynaFullGraph', 'showline', {
                x1: parseInt(eventLoc[0]),
                y1: -10,
                x2: parseInt(eventLoc[0]),
                y2: 200
            });

            if (eventLoc[0] < r_timeMax / 2) {
                r_updateText('plotG', 'plotDayText', {
                    x: eventLoc[0] + 0.04 * r_timeMax,
                    y: 0.85 * r_plotMax,
                    text: 'Day ' + parseInt(eventLoc[0])
                })
            }
            else {
                r_updateText('plotG', 'plotDayText', {
                    x: eventLoc[0] - 0.3 * r_timeMax,
                    y: 0.85 * r_plotMax,
                    text: 'Day ' + parseInt(eventLoc[0])
                })
            }
            plotLineSpace = 0;
            for (defCase in r_plotData) {
                if (document.getElementById(defCase).checked) {
                    if (eventLoc[0] < r_timeMax / 2) {
                        r_updateText('plotG', 'plot@' + defCase + '@Text', {
                            x: eventLoc[0] + 0.04 * r_timeMax,
                            y: (0.74 - plotLineSpace) * r_plotMax,
                            text: r_plotDataParameters[defCase].name + " : " + r_plotData[defCase][parseInt(eventLoc)][1].toFixed(3) + '%'
                        });
                        plotLineSpace = plotLineSpace + 0.06
                    }
                    else {
                        r_updateText('plotG', 'plot@' + defCase + '@Text', {
                            x: eventLoc[0] - 0.3 * r_timeMax,
                            y: (0.74 - plotLineSpace) * r_plotMax,
                            text: r_plotDataParameters[defCase].name + " : " + r_plotData[defCase][parseInt(eventLoc)][1].toFixed(3) + '%'
                        });
                        plotLineSpace = plotLineSpace + 0.06
                    }
                    r_updatePointXY('plotG', 'plot@' + defCase + '@Point', parseInt(eventLoc[0]), r_plotData[defCase][parseInt(eventLoc)][1])
                }
            }

            if (eventLoc[0] < r_timeMax / 2) {
                r_updateRectangle('plotG', 'plotCoverRect', {
                    x: eventLoc[0] + 0.02 * r_timeMax,
                    y: 0.98 * r_plotMax,
                    w: r_timeMax * 0.4,
                    h: r_plotMax * (0.23 + plotLineSpace)
                })
            }
            else {
                r_updateRectangle('plotG', 'plotCoverRect', {
                    x: eventLoc[0] - r_timeMax * 0.4 - 0.02 * r_timeMax,
                    y: 0.98 * r_plotMax,
                    w: r_timeMax * 0.4,
                    h: r_plotMax * (0.23 + plotLineSpace)
                })
            }
        }
    }

    function r_setUpPlotGraphs() {
        graphH = document.getElementById('plotGH');
        graphoptions = {};
        graphoptions.xmax = r_timeMax;
        graphoptions.xmin = 0;

        graphoptions.ymax = r_plotMax;
        graphoptions.ymin = (-1) * r_plotMax * 0.01;

        graphoptions.axislocationX = 0;
        graphoptions.axislocationY = 0;

        // graphoptions.xaxislabelvisibility = 'no'
        graphoptions.xaxislabel = '&nbsp&nbsp   (Days)';
        graphoptions.yaxislabelvisibility = 'no';

        graphoptions.xaxisvisibility = 'no';
        graphoptions.yaxisvisibility = 'no';

        graphoptions.ymajorgridlabelOnlyIf = 'value >= 0';
        graphoptions.ymajorgridlabelshift = -8;
        graphoptions.xmajorgridlabelshift = 2;

        // graphoptions.xmajorgridlabelvisibility = 'no'
        // graphoptions.ymajorgridlabelvisibility = 'no'

        graphoptions.xmajorgridlinesvisibility = 'no';
        graphoptions.ymajorgridlinesvisibility = 'no';

        graphoptions.fontSize = 2;


        graphoptions.scrollZoom = 'no';
        graphoptions.draggability = 'no';

        gAdded = r_addGraph(graphH, 'plotG', graphoptions);

        gAdded.svgElement.addEventListener('mousemove', r_plotMoveHandle);
        gAdded.svgElement.addEventListener('mouseout', r_plotMoveOutHandle);
        gAdded.svgElement.style.pointerEvents = 'auto';


        r_addLine('plotG', 'xAxesLine', {x1: 0, y1: 0, x2: r_timeMax, y2: 0, linecolor: 'hsla(0, 0%, 0%, 1)'});
        r_addLine('plotG', 'yAxesLine', {x1: 0, y1: 0, x2: 0, y2: r_plotMax, linecolor: 'hsla(0, 0%, 0%, 1)'});

        for (plotcase in r_plotDataParameters) {
            if (plotcase != 'hospital_beds' && plotcase != 'icu_beds' && plotcase != 'avg_infection') {
                addedPath = r_addPath('plotG', plotcase + '@path', {
                    pathcolor: 'hsla(' + r_plotDataParameters[plotcase].color + ',50%, 0.4)',
                    points: [[-100, 0], [-100, 1]],
                    strokewidth: 0.3
                })[0]
            }
            else {
                addedPath = r_addPath('plotG', plotcase + '@path', {
                    pathcolor: 'hsla(' + r_plotDataParameters[plotcase].color + ',50%, 0.4)',
                    points: [[-100, 0], [-100, 1]],
                    strokewidth: 0.3,
                    strokedasharray: [0.5, 0.6]
                })[0]
            }

        }

        addedRect = r_addRectangle('plotG', 'plotCoverRect', {
            x: -100,
            y: -100,
            w: 2,
            h: 2,
            rectcolor: 'hsla(0, 0%, 100%, 0)',
            strokewidth: 0,
            stroke: 'none'
        })[0];
        addedRect.style.pointerEvents = 'none';

        addedText = r_addText('plotG', 'plotDayText', {
            x: -100,
            y: -200,
            textcolor: 'hsla(0, 0%, 0%, 0.4)',
            text: '',
            fontSize: '0.7vmax'
        })[0];
        addedText.style.fontWeight = 'bold';

        for (plotcase in r_plotDataParameters) {
            r_addText('plotG', 'plot@' + plotcase + '@Text', {
                x: -100,
                y: -200,
                textcolor: 'hsla(' + r_plotDataParameters[plotcase].color + ',50%, 1)',
                text: '',
                fontSize: '0.24vmax'
            });
            r_addPoint('plotG', 'plot@' + plotcase + '@Point', {
                x: -100,
                y: -200,
                pointcolor: 'hsla(' + r_plotDataParameters[plotcase].color + ',50%, 1)',
                pointsize: 1
            })
        }


    }

    r_setUpPlotGraphs();


    function r_updatePlot(pCase) {
        r_updatePathPoints('plotG', pCase + '@path', r_plotData[pCase])
    }


    function r_graphCheck(event) {
        if (document.getElementById(event.target.id).checked) {
            r_updatePlot(event.target.id)
        }
        else {
            r_updatePathPoints('plotG', event.target.id + '@path', [[-100, 0], [-100, 1]])
        }
    }

    function pr_graphCheck(event) {
        if (document.getElementById(event.target.id).checked) {
            rectGName = r_singleParameterGraphMapRev[event.target.id.split('_disp')[0]];
            for (var dispRectName in r_singleParameterGraphMap[rectGName][7]) {
                r_updateRectangle('dynaFullGraph', dispRectName, {rectcolor: 'hsla(' + r_singleParameterGraphMap[rectGName][4] + ', 50%, 0.05)'})
            }
        }
        else {
            rectGName = r_singleParameterGraphMapRev[event.target.id.split('_disp')[0]];
            for (var dispRectName in r_singleParameterGraphMap[rectGName][7]) {
                r_updateRectangle('dynaFullGraph', dispRectName, {rectcolor: 'hsla(' + r_singleParameterGraphMap[rectGName][4] + ', 50%, 0)'})
            }
        }


    }

    function r_findMax() {
        newMax = 0
        for (defCase in r_plotData) {
            if (document.getElementById(defCase).checked) {
                for (d_values in r_plotData[defCase]) {
                    if (r_plotData[defCase][d_values][1] > newMax) {
                        newMax = r_plotData[defCase][d_values][1]
                    }
                }
            }
        }
        r_plotMax = newMax
        r_updateGraphZoom('plotG', {ymin: (-1) * r_plotMax * 0.01, ymax: newMax})
        r_updateLine('plotG', 'yAxesLine', {x1: 0, y1: 0, x2: 0, y2: r_plotMax});
    }


    for (defCase in r_plotData) {
        if (defCase == 'infected_agents' || defCase == 'asympt_agents' || defCase == 'recovered_agents') {
            document.getElementById(defCase).checked = true;
        }
        else {
            document.getElementById(defCase).checked = false
        }

    }

    r_findMax()

    for (defCase in r_plotData) {
        if (defCase == 'infected_agents' || defCase == 'asympt_agents' || defCase == 'recovered_agents') {
            r_updatePlot(defCase)
        }
    }

    // r_defaultJSON = {a_false_negative_percent: 0.3, a_social_distancing_efficiency: 0.6, agent_density: 0.0001, c_contact_trace: 5, distribution_age_max: 90, distribution_age_min: 1, distribution_age_peak: 25, distribution_hygiene_mean: 0.6, distribution_hygiene_var: 1, essential_agent_percent: 0.05, experiment: "e93f772a-788c-4231-9b7d-7250b1ea5dfd", hospital_bed_per_agent: 0.101, icu_bed_per_hospital_bed: 0.055, infection_percent: 0.001, num_agents: 10000, recovery_percent: 0, strategy: {0: {a_lockdown_threshhold: 60, c_hospital_bed: 0, c_icu_beds: 0, c_testing: 5}, 24: {p_close_borders: 1}, 33: {p_contact_tracing: 1}, 54: {p_contact_tracing: 0}, 62: {p_close_borders: 0}, 74: {p_hospitalization: 1}, 80: {p_age_lockdown: 1}, 85: {p_close_borders: 1}, 89: {p_contact_tracing: 1}, 102: {p_hospitalization: 0}, 103: {p_age_lockdown: 0}, 112: {p_close_borders: 0}, 116: {p_contact_tracing: 0}, 127: {p_close_borders: 1}, 139: {p_contact_tracing: 1}, 146: {p_contact_tracing: 0}, 150: {p_exit: 1}}}

    r_defaultJSON = {
        distribution_hygiene_mean: 0.6,
        experiment: "exp_4_1_a",
        infection_percent: 5.0E-4,
        num_agents: 200,
        strategy: {0: {p_close_borders: 1}, 7: {p_hospitalization: 1}, 160: {p_exit: 1}}
    };


    function r_setUpParameters(jsonParameterFile) {
        for (graphVS in r_vslideGs) {
            for (var dayp in r_vslideGs[graphVS][2]) {
                r_vslideGs[graphVS][2][dayp] = r_vslideGs[graphVS][7]
            }
        }
        for (var parameterK in jsonParameterFile) {
            if (r_initPLinkRev[parameterK] != undefined) {
                document.getElementById('parameter' + r_initPLink[r_initPLinkRev[parameterK]][0] + 'Value').innerHTML = jsonParameterFile[parameterK];
                // document.getElementById(r_initPLinkRev[parameterK]).value = jsonParameterFile[parameterK]
            }
            else {
                if (parameterK == 'strategy') {
                    strategyData = jsonParameterFile[parameterK];
                    for (var sPG in r_singleParameterGraphMap) {
                        sPGToUpdateData = {};
                        updateRangeV = [];
                        for (dayValue in strategyData) {
                            if (strategyData[dayValue][r_singleParameterGraphMap[sPG][8]] != undefined) {
                                if (strategyData[dayValue][r_singleParameterGraphMap[sPG][8]] == 1) {
                                    updateRangeV.push(parseInt(dayValue))
                                }
                                else if (strategyData[dayValue][r_singleParameterGraphMap[sPG][8]] == 0) {
                                    updateRangeV.push(parseInt(dayValue));
                                    sPGToUpdateData[dayValue] = updateRangeV.slice();
                                    updateRangeV = []
                                }
                            }
                        }
                        if (updateRangeV.length == 1) {
                            updateRangeV.push(r_timeMax);
                            sPGToUpdateData[r_timeMax] = updateRangeV.slice();
                            updateRangeV = []
                        }
                        for (pointsRanges in sPGToUpdateData) {
                            if (sPGToUpdateData[pointsRanges].length == 2) {
                                r_addDynaPPointSpecific(sPGToUpdateData[pointsRanges], sPG)
                            }
                        }
                    }

                    for (graphVS in r_vslideGs) {
                        updateRangeVs = [];
                        for (dayValue in strategyData) {
                            if (strategyData[dayValue][r_vslideGs[graphVS][11]] != undefined) {

                                if (graphVS == 'ICUBedsGraph' || graphVS == 'HBedsGraph') {
                                    r_vslideGs[graphVS][2][parseInt(dayValue)] = strategyData[dayValue][r_vslideGs[graphVS][11]]
                                }
                                else {
                                    updateRangeVs.push([parseInt(dayValue), strategyData[dayValue][r_vslideGs[graphVS][11]]])
                                }
                            }
                        }

                        if (graphVS != 'ICUBedsGraph' && graphVS != 'HBedsGraph') {
                            for (updateV = 0; updateV < updateRangeVs.length; updateV++) {
                                for (dayp = updateRangeVs[updateV][0]; dayp <= r_timeMax; dayp++) {
                                    r_vslideGs[graphVS][2][dayp] = updateRangeVs[updateV][1]
                                }
                            }
                            r_drawAllLinesAndPointsVS(graphVS)

                        }
                        else {
                            r_drawAllLinesAndPointsVS(graphVS)
                        }

                    }

                }
                else if (parameterK == 'experiment') {
                    document.getElementById('expID').innerHTML = jsonParameterFile[parameterK]
                    document.getElementById('addToAnyStuff').setAttribute('data-a2a-url', 'https://abmforcovid.org/?expId=' + jsonParameterFile[parameterK])
                }
            }
        }
    }

    function r_copyText(event) {
        var r_copyText = document.getElementById("expID").innerHTML;
        var dummy = document.createElement("textarea");
        dummy.innerHTML = r_copyText
        dummy.select();
        dummy.setSelectionRange(0, 99999);
        document.execCommand("copy");
    }


    function r_doDefaults() {
        document.getElementById('lockdown_disp').checked = true;
        r_addDynaPPointSpecific([3, 13], 'LockdownGraph');
        r_addDynaPPointSpecific([39, 70], 'LockdownGraph');
        r_addDynaPPointSpecific([110, 142], 'LockdownGraph');

        r_addDynaPPointSpecific([30, 120], 'QuarantineGraph');

        r_addDynaPPointSpecific([15, 140], 'SocialDistancingGraph');
        r_addDynaPPointSpecific([52, 148], 'DailytestingGraph');

        r_addDynaPPointSpecific([90, 144], 'AgeBasedLockDownGraph');

        for (dayp = 63; dayp <= 90; dayp++) {
            r_vslideGs['TestingCapacityGraph'][2][dayp] = 40
        }
        for (dayp = 90; dayp <= r_timeMax; dayp++) {
            r_vslideGs['TestingCapacityGraph'][2][dayp] = 70
        }
        r_drawAllLinesAndPointsVS('TestingCapacityGraph');

        for (dayp = 95; dayp <= 120; dayp++) {
            r_vslideGs['AgeThresholdGraph'][2][dayp] = 50
        }
        for (dayp = 120; dayp <= r_timeMax; dayp++) {
            r_vslideGs['AgeThresholdGraph'][2][dayp] = 55
        }
        r_drawAllLinesAndPointsVS('AgeThresholdGraph');

        r_vslideGs['ICUBedsGraph'][2][30] = 120;
        r_vslideGs['ICUBedsGraph'][2][60] = 450;
        r_vslideGs['ICUBedsGraph'][2][100] = 180;
        r_vslideGs['ICUBedsGraph'][2][120] = 45;
        r_drawAllLinesAndPointsVS('ICUBedsGraph');

        r_vslideGs['HBedsGraph'][2][20] = 120;
        r_vslideGs['HBedsGraph'][2][80] = 338;
        r_vslideGs['HBedsGraph'][2][144] = 223;
        r_drawAllLinesAndPointsVS('HBedsGraph')
    }

    // r_doDefaults()

    function r_adjustInitP(event) {
        document.getElementById('parameter' + r_initPLink[event.target.id][0] + 'Value').innerHTML = event.target.value
    }

    r_initPLink = {
        'Number_of_Agents': [0, "num_agents"],
        'Agent_Density': [1, "agent_density"],
        'Hospital_bed_per_agent': [2, "hospital_bed_per_agent"],
        'ICU_bed_per_hospital_bed': [3, "icu_bed_per_hospital_bed"],
        'Infection_percent': [4, "infection_percent"],
        'Distribution_age_minimum': [5, "distribution_age_min"],
        'Distribution_age_maximum': [6, "distribution_age_max"],
        'Distribution_age_peak': [7, "distribution_age_peak"],
        'Distribution_Hygiene_mean': [8, "distribution_hygiene_mean"],
        'Distribution_Hygiene_Var': [9, "distribution_hygiene_var"],
        'Essential_Agent_percent': [10, "essential_agent_percent"],
        'Testing_Efficiency': [11, "a_false_negative_percent"],
        'Contact_Tracing_Capacity': [12, "c_contact_trace"],
        'Social_Distancing_Efficiency': [13, "a_social_distancing_efficiency"],
        'Recovered_Agent_percent': [14, "recovery_percent"]
    };

    r_initPLinkRev = {};
    for (plink in r_initPLink) {
        r_initPLinkRev[r_initPLink[plink][1]] = plink
    }

    // r_divSlider('parameter0SliderH', 'Number_of_Agents', 10, 20000, 100, 1, 'r_adjustInitP(event)', '100%', '5px', 'hsla(0, 0%, 92%, 1)', '16px', 'hsla(190, 100%, 50%, 1)', '');
    // r_divSlider('parameter1SliderH', 'Agent_Density', 0.00001, 0.001, 0.0001, 0.000001, 'r_adjustInitP(event)', '100%', '5px', 'hsla(0, 0%, 92%, 1)', '16px', 'hsla(190, 100%, 50%, 1)', '');
    // r_divSlider('parameter2SliderH', 'Hospital_bed_per_agent', 0.001, 2, 0.1, 0.01, 'r_adjustInitP(event)', '100%', '5px', 'hsla(0, 0%, 92%, 1)', '16px', 'hsla(190, 100%, 50%, 1)', '');
    // r_divSlider('parameter3SliderH', 'ICU_bed_per_hospital_bed', 0.005, 1, 0.05, 0.01, 'r_adjustInitP(event)', '100%', '5px', 'hsla(0, 0%, 92%, 1)', '16px', 'hsla(190, 100%, 50%, 1)', '');
    // r_divSlider('parameter4SliderH', 'Infection_percent', 0, 1, 0, 0.001, 'r_adjustInitP(event)', '100%', '5px', 'hsla(0, 0%, 92%, 1)', '16px', 'hsla(190, 100%, 50%, 1)', '');
    // r_divSlider('parameter5SliderH', 'Distribution_age_minimum', 0, 120, 1, 1, 'r_adjustInitP(event)', '100%', '5px', 'hsla(0, 0%, 92%, 1)', '16px', 'hsla(190, 100%, 50%, 1)', '');
    // r_divSlider('parameter6SliderH', 'Distribution_age_maximum', 0, 120, 90, 1, 'r_adjustInitP(event)', '100%', '5px', 'hsla(0, 0%, 92%, 1)', '16px', 'hsla(190, 100%, 50%, 1)', '');
    // r_divSlider('parameter7SliderH', 'Distribution_age_peak', 0, 120, 25, 1, 'r_adjustInitP(event)', '100%', '5px', 'hsla(0, 0%, 92%, 1)', '16px', 'hsla(190, 100%, 50%, 1)', '');
    // r_divSlider('parameter8SliderH', 'Distribution_Hygiene_mean', 0, 1, 0.5, 0.1, 'r_adjustInitP(event)', '100%', '5px', 'hsla(0, 0%, 92%, 1)', '16px', 'hsla(190, 100%, 50%, 1)', '');
    // r_divSlider('parameter9SliderH', 'Distribution_Hygiene_Var', 1, 10, 1, 0.1, 'r_adjustInitP(event)', '100%', '5px', 'hsla(0, 0%, 92%, 1)', '16px', 'hsla(190, 100%, 50%, 1)', '');
    // r_divSlider('parameter10SliderH', 'Essential_Agent_percent', 0, 1, 0.05, 0.01, 'r_adjustInitP(event)', '100%', '5px', 'hsla(0, 0%, 92%, 1)', '16px', 'hsla(190, 100%, 50%, 1)', '');
    // r_divSlider('parameter11SliderH', 'Testing_Efficiency', 0, 1, 0.3, 0.01, 'r_adjustInitP(event)', '100%', '5px', 'hsla(0, 0%, 92%, 1)', '16px', 'hsla(190, 100%, 50%, 1)', '');
    // r_divSlider('parameter12SliderH', 'Contact_Tracing_Capacity', 0, 100, 5, 1, 'r_adjustInitP(event)', '100%', '5px', 'hsla(0, 0%, 92%, 1)', '16px', 'hsla(190, 100%, 50%, 1)', '');
    // r_divSlider('parameter13SliderH', 'Social_Distancing_Efficiency', 0, 1, 0.6, 0.1, 'r_adjustInitP(event)', '100%', '5px', 'hsla(0, 0%, 92%, 1)', '16px', 'hsla(190, 100%, 50%, 1)', '');
    // r_divSlider('parameter14SliderH', 'Recovered_Agent_percent', 0, 1, 0, 0.01, 'r_adjustInitP(event)', '100%', '5px', 'hsla(0, 0%, 92%, 1)', '16px', 'hsla(190, 100%, 50%, 1)', '');

    variablesRequested = [''];

    function r_generateJSON() {
        jsonFile = {};
        for (var initP in r_initPLink) {
            jsonFile[r_initPLink[initP][1].toString()] = document.getElementById(initP).value
        }

        dayTasks = {};

        for (var sPG in r_singleParameterGraphMap) {
            if (Object.keys(r_singleParameterGraphMap[sPG][1]).length > 0) {
                for (var sitVar in r_singleParameterGraphMap[sPG][1]) {
                    if (dayTasks[r_singleParameterGraphMap[sPG][1][sitVar][0]] == undefined) {
                        dayTasks[r_singleParameterGraphMap[sPG][1][sitVar][0]] = {};
                        dayTasks[r_singleParameterGraphMap[sPG][1][sitVar][0]][r_singleParameterGraphMap[sPG][8]] = 1
                    }
                    else {
                        dayTasks[r_singleParameterGraphMap[sPG][1][sitVar][0]][r_singleParameterGraphMap[sPG][8]] = 1
                    }

                    if (dayTasks[r_singleParameterGraphMap[sPG][1][sitVar][1]] == undefined) {
                        dayTasks[r_singleParameterGraphMap[sPG][1][sitVar][1]] = {};
                        dayTasks[r_singleParameterGraphMap[sPG][1][sitVar][1]][r_singleParameterGraphMap[sPG][8]] = 0
                    }
                    else {
                        dayTasks[r_singleParameterGraphMap[sPG][1][sitVar][1]][r_singleParameterGraphMap[sPG][8]] = 0
                    }
                }

            }

        }

        for (graphVS in r_vslideGs) {
            prevV = 'none';
            for (var dayp in r_vslideGs[graphVS][2]) {
                if (prevV != r_vslideGs[graphVS][2][dayp]) {
                    if (dayTasks[dayp] == undefined) {
                        dayTasks[dayp] = {};
                        dayTasks[dayp][r_vslideGs[graphVS][11]] = r_vslideGs[graphVS][2][dayp]
                    }
                    else {
                        dayTasks[dayp][r_vslideGs[graphVS][11]] = r_vslideGs[graphVS][2][dayp]
                    }

                    prevV = r_vslideGs[graphVS][2][dayp]
                }
            }
        }

        dayTasks[r_timeMax] = {"p_exit": 1};

        jsonFile["strategy"] = dayTasks;
        // todo add a unique name
        jsonFile["experiment"] = r_create_UUID();

        return jsonFile
    }

    function r_create_UUID() {
        var dt = new Date().getTime();
        var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {
            var r = (dt + Math.random() * 16) % 16 | 0;
            dt = Math.floor(dt / 16);
            return (c == 'x' ? r : (r & 0x3 | 0x8)).toString(16);
        });
        return uuid;
    }

    function r_callBackend(jsonGenerated) {
        // todo : change the server host later.
        // var url = "https://api.abmforcovid.org/run"
        const actualBackend = 'http://50.112.19.155:8080/run';
        var url = `https://us-central1-abmforcovid.cloudfunctions.net/r_callBackend?url=${actualBackend}`;
        axios.post(url, jsonGenerated, {
            headers: {'Content-Type': 'application/json'}
        }).then(function (res) {
            // Whatever you want to do after posting
            console.log(res.data);
            window.open(`${location.origin}?expId=${res.data}`)
        }).catch(function (err) {
            console.error('err', err)
        })
    }

    function r_displayLoadingScreen() {
        document.getElementById('loadingScreen').style.zIndex = 20
        document.getElementById('loadingScreen').style.visibility = 'visible'
    }

    function r_hideLoadingScreen() {
        document.getElementById('loadingScreen').style.zIndex = 1
        document.getElementById('loadingScreen').style.visibility = 'hidden'
    }

    function r_handleRun(event) {
        jsonGenerated = r_generateJSON();
        console.log(jsonGenerated);
        console.log("calling api...");
        r_callBackend(jsonGenerated);

        document.getElementById('loadingScreen').scrollIntoView();
        r_displayLoadingScreen()

        setTimeout(r_hideLoadingScreen, 3000)
    }


    function r_handleOpen(e) {
        var file = e.target.files[0];
        var reader = new FileReader();
        reader.readAsText(file);
        dayWiseCSV = {};

        colnames = ['day', 'infected_agents', 'exposed_agents', 'recovered_agents', 'dead_agents', 'asympt_agents', 'suscept_agents'];

        reader.onload = function (event) {
            var csvData = event.target.result;
            csvData = csvData.replace(/ /g, '');
            rows = csvData.split('\n');
            for (rownum = 0; rownum < rows.length; rownum++) {
                if (rownum == 0) {
                    for (colnum = 0; colnum < colnames.length; colnum++) {
                        if (colnames[colnum] != 'day') {
                            dayWiseCSV[colnames[colnum].toString().split(' ')[0]] = []
                        }
                    }
                }
                else {
                    colVal = rows[rownum].split(',');
                    for (colnum = 1; colnum < colVal.length; colnum++) {
                        nameSTR = colnames[colnum].toString().split(' ')[0];
                        dayWiseCSV[nameSTR].push([parseInt(colVal[0]), parseInt(colVal[colnum])])
                    }
                }
            }
            r_connectToPlotData(dayWiseCSV)
        }

    }


    function r_connectToPlotData(readData) {
        for (var curveD in r_plotData) {
            r_plotData[curveD] = readData[curveD];
        }
        r_findMax()
        for (var curveD in r_plotData) {
            if (document.getElementById(curveD).checked) {
                r_updatePlot(curveD)
            }
        }
    }


    r_setUpParameters(r_defaultJSON);

    function r_handleMenuClick(event) {
        if (event.target.id == 'labmenuH') {
            document.getElementById('middleSection').style.zIndex = 3;
            document.getElementById('labmenuH').style.borderBottom = "2px solid hsla(190, 100%, 50%, 1)";
            document.getElementById('AboutBar').style.zIndex = 1;
            document.getElementById('PublicationBar').style.zIndex = 1;
            document.getElementById('TeamBar').style.zIndex = 1;
            document.getElementById('VideosBar').style.zIndex = 1;
            document.getElementById('SimsBar').style.zIndex = 1;

            document.getElementById('middleSection').style.visibility = 'visible'
            document.getElementById('AboutBar').style.visibility = 'hidden'
            document.getElementById('PublicationBar').style.visibility = 'hidden'
            document.getElementById('TeamBar').style.visibility = 'hidden'
            document.getElementById('VideosBar').style.visibility = 'hidden'
            document.getElementById('SimsBar').style.visibility = 'hidden'

            document.getElementById('aboutmenuH').style.borderBottom = "0px solid white";
            document.getElementById('publicationmenuH').style.borderBottom = "0px solid white";
            document.getElementById('teammenuH').style.borderBottom = "0px solid white"
            // document.getElementById('simsmenuH').style.borderBottom = "0px solid white";
            document.getElementById('videosmenuH').style.borderBottom = "0px solid white"
        }
        else if (event.target.id == 'aboutmenuH') {
            document.getElementById('middleSection').style.zIndex = 1;
            document.getElementById('AboutBar').style.zIndex = 3;
            document.getElementById('aboutmenuH').style.borderBottom = "2px solid hsla(190, 100%, 50%, 1)";
            document.getElementById('PublicationBar').style.zIndex = 1;
            document.getElementById('TeamBar').style.zIndex = 1;
            document.getElementById('VideosBar').style.zIndex = 1;
            document.getElementById('SimsBar').style.zIndex = 1;

            document.getElementById('middleSection').style.visibility = 'hidden'
            document.getElementById('AboutBar').style.visibility = 'visible'
            document.getElementById('PublicationBar').style.visibility = 'hidden'
            document.getElementById('TeamBar').style.visibility = 'hidden'
            document.getElementById('VideosBar').style.visibility = 'hidden'
            document.getElementById('SimsBar').style.visibility = 'hidden'

            document.getElementById('labmenuH').style.borderBottom = "0px solid white";
            document.getElementById('publicationmenuH').style.borderBottom = "0px solid white";
            document.getElementById('teammenuH').style.borderBottom = "0px solid white"
            // document.getElementById('simsmenuH').style.borderBottom = "0px solid white";
            document.getElementById('videosmenuH').style.borderBottom = "0px solid white"
        }
        else if (event.target.id == 'publicationmenuH') {
            document.getElementById('middleSection').style.zIndex = 1;
            document.getElementById('PublicationBar').style.zIndex = 3;
            document.getElementById('publicationmenuH').style.borderBottom = "2px solid hsla(190, 100%, 50%, 1)";
            document.getElementById('AboutBar').style.zIndex = 1;
            document.getElementById('TeamBar').style.zIndex = 1;
            document.getElementById('VideosBar').style.zIndex = 1;
            document.getElementById('SimsBar').style.zIndex = 1;

            document.getElementById('middleSection').style.visibility = 'hidden'
            document.getElementById('AboutBar').style.visibility = 'hidden'
            document.getElementById('PublicationBar').style.visibility = 'visible'
            document.getElementById('TeamBar').style.visibility = 'hidden'
            document.getElementById('VideosBar').style.visibility = 'hidden'
            document.getElementById('SimsBar').style.visibility = 'hidden'


            document.getElementById('labmenuH').style.borderBottom = "0px solid white";
            document.getElementById('aboutmenuH').style.borderBottom = "0px solid white";
            document.getElementById('teammenuH').style.borderBottom = "0px solid white";
            // document.getElementById('simsmenuH').style.borderBottom = "0px solid white";
            document.getElementById('videosmenuH').style.borderBottom = "0px solid white";
        }
        else if (event.target.id == 'teammenuH') {
            document.getElementById('middleSection').style.zIndex = 1;
            document.getElementById('TeamBar').style.zIndex = 3;
            document.getElementById('teammenuH').style.borderBottom = "2px solid hsla(190, 100%, 50%, 1)";
            document.getElementById('PublicationBar').style.zIndex = 1;
            document.getElementById('AboutBar').style.zIndex = 1;
            document.getElementById('VideosBar').style.zIndex = 1;
            document.getElementById('SimsBar').style.zIndex = 1;

            document.getElementById('middleSection').style.visibility = 'hidden'
            document.getElementById('AboutBar').style.visibility = 'hidden'
            document.getElementById('PublicationBar').style.visibility = 'hidden'
            document.getElementById('TeamBar').style.visibility = 'visible'
            document.getElementById('VideosBar').style.visibility = 'hidden'
            document.getElementById('SimsBar').style.visibility = 'hidden'


            document.getElementById('labmenuH').style.borderBottom = "0px solid white";
            document.getElementById('publicationmenuH').style.borderBottom = "0px solid white";
            document.getElementById('aboutmenuH').style.borderBottom = "0px solid white";
            // document.getElementById('simsmenuH').style.borderBottom = "0px solid white";
            document.getElementById('videosmenuH').style.borderBottom = "0px solid white"
        }
        else if (event.target.id == 'videosmenuH') {
            document.getElementById('middleSection').style.zIndex = 1;
            document.getElementById('VideosBar').style.zIndex = 3;
            document.getElementById('videosmenuH').style.borderBottom = "2px solid hsla(190, 100%, 50%, 1)";
            document.getElementById('PublicationBar').style.zIndex = 1;
            document.getElementById('AboutBar').style.zIndex = 1;
            document.getElementById('TeamBar').style.zIndex = 1;
            document.getElementById('SimsBar').style.zIndex = 1;

            document.getElementById('middleSection').style.visibility = 'hidden'
            document.getElementById('AboutBar').style.visibility = 'hidden'
            document.getElementById('PublicationBar').style.visibility = 'hidden'
            document.getElementById('TeamBar').style.visibility = 'hidden'
            document.getElementById('VideosBar').style.visibility = 'visible'
            document.getElementById('SimsBar').style.visibility = 'hidden'


            document.getElementById('labmenuH').style.borderBottom = "0px solid white";
            document.getElementById('publicationmenuH').style.borderBottom = "0px solid white";
            document.getElementById('aboutmenuH').style.borderBottom = "0px solid white";
            // document.getElementById('simsmenuH').style.borderBottom = "0px solid white";
            document.getElementById('teammenuH').style.borderBottom = "0px solid white"
        }

    }


</script>
<script defer src="https://www.gstatic.com/firebasejs/7.14.2/firebase-app.js"></script>
<script defer src="https://www.gstatic.com/firebasejs/7.14.2/firebase-database.js"></script>
<script defer src="./util.js"></script>
<script defer src="./init-firebase.js"></script>
</body>
<html>

